/*! configurator v7.37.0 2020-10-06 */
"use strict";function update(){ConfiguratorController.update()}function updateHelper(a,b,c){c.stopPropagation();var d=$(a),e=d.closest("label");void 0!==d.attr("disabled")&&e.hasClass("disabled")?void 0!==(c=c||window.event)&&e.removeClass("active"):(updateTiles(e,d,!1,!0),null!==b&&ConfiguratorController.update(b))}function updateTiles(a,b,c,d,e){var f=$('input[name="'+b.attr("name")+'"]').closest("label");f.removeClass("active"),a.addClass("active"),d&&(f.removeClass("customer-click"),a.addClass("customer-click")),void 0!==e&&e&&(f.removeClass("force-click"),a.addClass("force-click")),c&&ConfiguratorController.updateAffix()}function setAttributeValue(a,b){void 0!==a&&a.stopPropagation(),void 0===b&&(b=!1),Configurator.disableButtons=!1,$("#"+a.target.id).valid()&&(Configurator.currentRequestAbortable=!1,ConfiguratorController.send(),b&&ConfiguratorController.updateAffix())}function formatZahl(a,b,c){b||(b=0);var d="",e=Math.pow(10,b);a=""+parseInt(a*e+.5*(0<a?1:-1))/e;var f=a.indexOf(".");for(c&&(a+=(-1==f?".":"")+e.toString().substring(1)),(c=0>a)&&(a=a.substring(1)),f=a.indexOf("."),-1==f?f=a.length:d=","+a.substr(f+1,b);0<f;)d=0<f-3?"."+a.substring(f-3,f)+d:a.substring(0,f)+d,f-=3;return(c?"-":"")+d}function getPriceByPercent(a,b){return a*b/100}function nextPage(){ConfiguratorController.nextPage()}function previousPage(){ConfiguratorController.previousPage()}function scrollableContainer(){var a=$(".configurator-active > .container");return"fixed"===a.css("position")?a:$("body,html")}function scrollToTop(){scrollableContainer().animate({scrollTop:0},400)}function stripHtml(a){var b=document.createElement("DIV");return b.innerHTML=a,b.textContent||b.innerText||""}function getImageInfo(a){var b=new Image;return b.src=a,b}function handleAccordion(a){ConfiguratorController.handleAccordion(a)}function validateNumericInput(a,b){void 0===b&&(b="a_");var c,d=$("#"+b+a);void 0!==d&&(c=d.val().replace(/\D/g,""),d.val()!==c&&d.val(c))}var Log={DEBUG:0,INFO:1,WARN:2,ERR:3},logLevel=Log.DEBUG,Product={},Configurator={extensionUpdate:0,configuration:{},tmpConfiguration:{},attributeTooltippCache:{},attributeValueTooltippCache:{},currentPage:0,maxVisitedPage:0,totalPages:parseInt($("#totalPages").val()),attributeElementList:$('div[id^="attributePanel_"],div[id^="a_"]'),currentRequest:0,productId:parseInt($("#productId").val()),tour:0,promotion:0,tax:0,range:{x_min:0,x_max:0,y_min:0,y_max:0,x_axis_relation:0,y_axis_relation:0},isAvailable:!0,hasWarnings:!1,notifications:{},shutter:{},translator:{},dependencies:{},priceInfo:{},productPreviewAttributes:{},squareMillimeterAttributeValues:{}},Window={attribute:{material:132,profil:{pvc:133,holz:134,holzalu:135,pvcalu:832},woodType:[139,145],edge:673,edgeType:{ksd:3412,swisspacer:3413},type:155,skylightType:156,specialType:172,size:184,height:259,width:258,glazing:[186,627,652,1052],fillings:[1694,1695,1696,1884],colorCombination:185,outsideWindowSill:207,shutter:210,shutterType:1817,sprouts:195,sproutsCombination:200,division:329,divisionField:{y1:348,y2:349,x1:350,x2:351,x3:352,z1:353},divisionWidth:{x1:350,x2:351,x3:352},divisionHeight:{y1:348,y2:349},facingFormwork:249,frameBroadening:{main:248,834:{left:250,right:251,top:252,bottom:253},835:{left:254,right:255,top:256,bottom:257},836:{left:645,right:646,top:647,bottom:648},4166:{left:819,right:820,top:821,bottom:822}},mosquito:794,drilling:718,tab:1683,longScrew:1685,shortScrew:1684},value:{colorCombination:{outsideAndInside:1236},shutter:{no:1315,guideRail:1316,frontMounted:8251,topMounted:8252,yes:8253},material:{pvc:834,wood:835,woodAlu:836,pvcAlu:4166},frameBroadening:{yes:1409,no:1408},facingFormwork:{yes:1414,no:1413},sprouts:{no:1270,yes:1271},outsideWindowSill:{yes:1304},mosquito:{yes:3979,no:3978},profile:{energetoView:4167,ideal4000:838,ideal5000:839,monobloc:8417,reno:8416},openType:{special:8627}},event:{a_132:function(a,b,c,d){WindowController.changed("eventMaterialChanged",a,b,c,d)},a_133:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_134:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_135:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_136:function(a,b,c,d){WindowController.changed("eventColorChanged",a,b,c,d)},a_832:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_155:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_156:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_157:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_158:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_159:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_160:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_161:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_162:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_163:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_164:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_165:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_166:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_167:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_168:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_169:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_170:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_171:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_172:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_173:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_174:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_175:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_176:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_177:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_178:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_179:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_180:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_181:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_182:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_183:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_445:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_207:function(a,b,c,d){WindowController.changed("eventOutsideWindowSillChanged",a,b,c,d)},a_258:function(a,b,c,d){WindowController.changed("eventWidthChanged",a,b,c,d)},a_259:function(a,b,c,d){WindowController.changed("eventHeightChanged",a,b,c,d)},a_195:function(a,b,c,d){WindowController.changed("eventSproutsChanged",a,b,c,d)},a_210:function(a,b,c,d){WindowController.changed("eventShutterChanged",a,b,c,d)},a_1817:function(a,b,c,d){WindowController.changed("eventShutterTypeChanged",a,b,c,d)},a_218:function(a,b,c,d){WindowController.changed("eventShutterTypeOfDriveChanged",a,b,c,d)},a_222:function(a,b,c,d){WindowController.changed("eventShutterDriveSideChanged",a,b,c,d)},a_225:function(a,b,c,d){WindowController.changed("eventShutterMaterialChanged",a,b,c,d)},a_216:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_230:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_433:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_237:function(a,b,c,d){WindowController.changed("eventShutterTypeOfDriveChanged",a,b,c,d)},a_241:function(a,b,c,d){WindowController.changed("eventShutterDriveSideChanged",a,b,c,d)},a_244:function(a,b,c,d){WindowController.changed("eventShutterMaterialChanged",a,b,c,d)},a_234:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_235:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_267:function(a,b,c,d){OutsideWindowSillController.lengthChanged(c)},a_1756:function(){WindowController.updateFrameBroadening()},a_1757:function(){WindowController.updateFrameBroadening()}},error:{DIVISION_SUM:1,DIVISION_MINVAL:2,DIVISION_MISSING:3,DIVISION_MAXVAL:4},parameter:{MAXIMUM_DIVISION:40,sproutImage:126,defaultImage:127},config:{hasDivision:!0,windowType:{8624:156,8625:160,8626:166,8627:172},windowOpenType:{1017:157,1018:158,1019:159,1035:161,1036:162,1037:163,1038:164,1039:165,1086:167,1087:168,1088:169,1089:170,1090:171,8626:172,1168:173,1169:174,1170:175,1171:176,1172:177,1173:178,1174:179,1175:180,1176:181,1177:182,1178:445,1179:183,4039:814,4040:815,4041:816,4042:817,4043:818},oldWindowRelation:{1017:[8624],1018:[8624],1019:[8624],1035:[8625],1036:[8625],1037:[8625],1038:[8625],1039:[8625],1086:[8626],1087:[8626],1088:[8626],1089:[8626],1090:[8626],1168:[8627],1169:[8627],1170:[8627],1171:[8627],1172:[8627],1173:[8627],1174:[8627],1175:[8627],1176:[8627],1177:[8627],1178:[8627],1179:[8627]},newOpeningTypes:[8624,8625,8626,8627],TypeThreeElements:{1086:167,1087:168,1088:169,1089:170,1090:171},priceRequired:{3979:794,1294:204,7920:186,7921:186,7925:627,7922:652,7923:652},materialWithoutDrilling:[835,836,4166],materialValueProfileAttributeAssignment:{834:133,4166:832,835:134,836:135},profilMissingBeschlag:{4167:1294},profilWithFixedCasement:[4167],profileWithoutInsectScreen:[4167],openingTypeWithFixedCasement:[1024,1025,1026,1030,1031,1032,1041,1042,1047,1048,1049,1050,1051,1052,1053,1054,1059,1060,1061,1062,1063,1064,1067,1068,1069,1070,1071,1072,1073,1074,1079,1080,1081,1082,1083,1084,1092,1093,1094,1095,1096,1097,1098,1099,1100,1106,1107,1108,1109,1110,1111,1112,1113,1114,3641,3642,3643,3644,3645,3646,3647,3648,1116,1117,1118,1119,1120,1121,1122,1125,1126,1127,1128,1129,1130,1131,1132,1136,1137,1138,1139,1140,1141,1142,1146,1147,1148,1149,1150,1151,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165],cannotBeBalconyDoor:[1020,2150,3806,1023,1024,1029,1030,1031,1032,1033,1034,1040,1046,1052,1058,1062,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1091,1105,3641,1115,1125,1135,1136,1137,1138,1139,1140,1141,1142,1143,1144,1145,1146,1147,1148,1149,1150,1151,1152,1153,1154,1155,1156,1157,1158,1159,1163,1164,1165,1166,1167],fixedGlazingForInfoText:[1020,1023,1024,1040,1046,1052,1058,1062,1091,1105,1115,1125,1029,1030,3641,1066,1072,1041,1042,1047,1048,1053,1053,1067,1068,1078,1082,1135,1145,1155,1180,1183,1186,1189,1059,1060,1063,1064,1192,1196,1202,1208,1209,1212,1216,1217,1220,1224,1227,2151,1230,4044,4045,4048,4052,4053,4056,1073,1074,1079,1080,1083,1084,1092,1093,1094,1095,1096,1097,1098,1099,1106,1107,1108,1109,1110,1111,3642,3643,3644,3645,3646,3648,1116,1117,1118,1119,1120,1121,1126,1127,1128,1129,1130,1136,1137,1138,1139,1140,1141,1146,1147,1148,1149,1150,1151,1156,1157,1158,1159,1163,1164,1054,1131],fixedGlazingForDrilling:[1020,1023,1024,1040,1046,1052,1058,1062,1091,1105,1115,1125,1029,1030,3641,1066,1072,1078,1082,1135,1145,1155,1180,1183,1186,1189,1192,1196,1202,1208,1209,1212,1216,1217,1220,1224,1227,2151,1230,4044,4045,4048,4052,4053,4056],color:[136,137,140,141,142,143,146,148,150,152,446,693,694,695,697,827,828,858,2132,2130,2128,2126,2124,2122],ralColor:[2123,2125,2127,2129,2131,2133],securityMountingRC2:[1294],division:{ol:[1018,1036,1037,1087,1088,1169,1170,1171,1172,1173,1174,1175,1176,1178,1179,4039,4040,4041,4042],ul:[1019,1038,1039,1089,1090],minHeightMapping:{ol:{348:360,349:385},ul:{348:385,349:360},default:{348:385}},maxHeightSubtractionMapping:{ol:{348:385,349:360},ul:{348:360,349:385},default:{348:0}},minWidth:360,minHeightExclusion:{1173:348,1174:348,1175:348,1176:348,1178:348,1179:348},description:{1173:{348:"divisionH1Slanted",349:"divisionH2Slanted"},1174:{348:"divisionH1Slanted",349:"divisionH2Slanted"},1175:{348:"divisionH1Slanted",349:"divisionH2Slanted"},1176:{348:"divisionH1Slanted",349:"divisionH2Slanted"},4039:{348:"divisionH1Slanted",349:"divisionH2Slanted"},4040:{348:"divisionH1Slanted",349:"divisionH2Slanted"},4041:{348:"divisionH1Slanted",349:"divisionH2Slanted"},4042:{348:"divisionH1Slanted",349:"divisionH2Slanted"}}},sprouts:{maxVal:{default:4,l1:2,l2:3,l3:3},input:[279,280,281,282,283,284,285,286,287,288,289,290],fieldMapping:{291:[279,280],292:[281,282],293:[283,284],294:[285,286],295:[287,288],296:[289,290]}},frameBroadening:{834:{250:[1415,1417,1418,1419,1420,1421,1422,1423,1424,1425,1426,1427,1428,1429,1430],251:[1431,1432,1433,1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445],252:[1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460],253:[1461,1462,1463,1464,1465,1466,1467,1468,1469,1470,1471,1472,1473,1474,1475]},835:{254:[1476,1477,1478,1479,1480,1481,1482,1483,1484,1485,1486,1487,1488,1489,1490,1491,1492,1493,1494,1495,1496],255:[1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1515,1516,1517],256:[1518,1519,1520,1521,1522,1523,1524,1525,1526,1527,1528,1529,1530,1531,1532,1533,1534,1535,1536,1537,1538],257:[1539,1540,1541,1542,1543,1544,1545,1546,1547,1548,1549,1550,1551,1552,1553,1554,1555,1556,1557,1558,1559]},836:{645:[3140,3141,3142,3143,3144,3145,3146,3147,3148,3149,3150,3151,3152,3153,3154,3155,3156,3157,3158,3159,3160],646:[3161,3162,3163,3164,3165,3166,3167,3168,3169,3170,3171,3172,3173,3174,3175,3176,3177,3178,3179,3180,3181],647:[3182,3183,3184,3185,3186,3187,3188,3189,3190,3191,3192,3193,3194,3195,3196,3197,3198,3199,3200,3201,3202],648:[3203,3204,3205,3206,3207,3208,3209,3210,3211,3212,3213,3214,3215,3216,3217,3218,3219,3220,3221,3222,3223]},4166:{819:[4066,4067,4068,4069,4070,4071,4072,4073,4074,4075],820:[4076,4077,4078,4079,4080,4081,4082,4083,4084,4085],821:[4086,4087,4088,4089,4090,4091,4092,4093,4094,4095],822:[4096,4097,4098,4099,4100,4101,4102,4103,4104,4105]}},frameBroadeningAdjustment:{834:{8251:{1338:{250:1,251:1,252:8},1339:{250:1,251:1,252:8},1340:{250:0,251:0,252:8}},8252:{1385:{250:1,251:1,252:0},1386:{250:1,251:1,252:0}}},835:{8251:{1338:{254:2,255:2,256:11},1339:{254:2,255:2,256:11},1340:{254:0,255:0,256:11}},8252:{1385:{254:2,255:2},1386:{254:2,255:2}}},836:{8251:{1338:{645:2,646:2,647:11},1339:{645:2,646:2,647:11},1340:{645:0,646:0,647:11}},8252:{1385:{645:2,646:2,647:11},1386:{645:2,646:2,647:11}}},4166:{8251:{1338:{819:1,820:1,821:6},1339:{819:1,820:1,821:6},1340:{819:0,820:0,821:6}},8252:{1385:{819:1,820:1,821:0},1386:{819:1,820:1,821:0}}}},frameBroadeningOption:{834:{1756:1,1757:1},836:{249:1},4166:{1756:1,1757:1}},limitForBigElementNotice:2e3,colorNotAvailableForIdeal4000:[852,850,3626,4025,4026,4027,4028,4029,4030],maximumSizeValue:{7920:{y:3e3,x:2e3},7921:{y:3e3,x:1500},7922:{y:3e3,x:2e3},7923:{y:3e3,x:1500},7925:{y:3e3,x:1500}}},shutter:{},shutterType:{},shutterNotPossible:!1},Door={attribute:{material:65,profil:{pvc:66,holz:123,holzalu:124,pvcalu:844},woodType:[67,125],edge:675,edgeType:{ksd:3416,swisspacer:3417},type:84,size:102,height:104,width:103,glazing:[106,628,651,1053],fillings:[1697,1698,1699,1888],colorCombination:83,outsideWindowSill:116,shutter:121,shutterType:1818,sprouts:111,sproutsCombination:115,division:105,divisionField:{y1:379,y2:380,x1:381,x2:382,x3:383,x4:384},divisionWidth:{x1:381,x2:382,x3:383,x4:384},divisionHeight:{y1:379,y2:380},thresholdSill:357,frameBroadening:{main:122,466:{left:370,right:371,top:372,bottom:373},467:{left:366,right:367,top:368,bottom:369},468:{left:641,right:642,top:643,bottom:644},4192:{left:823,right:824,top:825,bottom:826}},tab:1687,longScrew:1689,shortScrew:1688},value:{colorCombination:{outsideAndInside:498},shutter:{no:1621,guideRail:1622,frontMounted:8254,topMounted:8255,yes:8256},material:{pvc:466,wood:467,woodAlu:468,pvcAlu:4192},frameBroadening:{yes:1620,no:1619},sprouts:{yes:778,no:777},outsideWindowSill:{yes:788,no:787},thresholdSill:{yes:1735,no:1734},profile:{energetoView:4193,ideal4000:469,ideal5000:470,monobloc:8429,reno:8428}},event:{a_65:function(a,b,c,d){WindowController.changed("eventMaterialChanged",a,b,c,d)},a_84:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_85:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_86:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_87:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_89:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_90:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_91:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_92:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_93:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_94:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_95:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_66:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_68:function(a,b,c,d){WindowController.changed("eventColorChanged",a,b,c,d)},a_123:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_124:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_844:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_116:function(a,b,c,d){WindowController.changed("eventOutsideWindowSillChanged",a,b,c,d)},a_103:function(a,b,c,d){WindowController.changed("eventWidthChanged",a,b,c,d)},a_104:function(a,b,c,d){WindowController.changed("eventHeightChanged",a,b,c,d)},a_111:function(a,b,c,d){WindowController.changed("eventSproutsChanged",a,b,c,d)},a_121:function(a,b,c,d){WindowController.changed("eventShutterChanged",a,b,c,d)},a_1818:function(a,b,c,d){WindowController.changed("eventShutterTypeChanged",a,b,c,d)},a_311:function(a,b,c,d){WindowController.changed("eventShutterTypeOfDriveChanged",a,b,c,d)},a_315:function(a,b,c,d){WindowController.changed("eventShutterDriveSideChanged",a,b,c,d)},a_320:function(a,b,c,d){WindowController.changed("eventShutterMaterialChanged",a,b,c,d)},a_308:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_309:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_443:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_335:function(a,b,c,d){WindowController.changed("eventShutterTypeOfDriveChanged",a,b,c,d)},a_339:function(a,b,c,d){WindowController.changed("eventShutterDriveSideChanged",a,b,c,d)},a_344:function(a,b,c,d){WindowController.changed("eventShutterMaterialChanged",a,b,c,d)},a_332:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_333:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_357:function(a,b,c,d){WindowController.changed("eventThresholdSillChanged",a,b,c,d)},a_118:function(a,b,c,d){OutsideWindowSillController.lengthChanged(c)}},error:{DIVISION_SUM:1,DIVISION_MINVAL:2,DIVISION_MISSING:3,DIVISION_MAXVAL:4,DIVISION_MIN:5},parameter:{MAXIMUM_DIVISION:37,MINIMUM_DIVISION:41,sproutImage:126,defaultImage:127},config:{hasDivision:!0,windowType:{8635:85,8636:86,8637:87,8638:94},windowOpenType:{638:89,639:90,651:91,652:92,678:93,679:94,8638:95},oldWindowRelation:{638:[8635],639:[8635],651:[8636],652:[8636],678:[8637],679:[8637],716:[8638]},newOpeningTypes:[8635,8636,8637,8638],TypeThreeElements:{678:87,679:94},priceRequired:{7926:106,7927:106,7929:628,7930:651,7931:651},color:[68,69,447,71,699,72,73,700,74,75,701,77,79,703,81,829,830,859,2144,2142,2140,2138,2136,2134],ralColor:[2135,2137,2139,2141,2143,2145],profilMissingBeschlag:{4193:1727},profilWithFixedCasement:[4193],openingTypeWithFixedCasement:[647,648,654,655,656,657,667,668,669,670,671,673,674,681,687,2159,2158,686,682,683,685,684,697,698,2163,2162,703,699,700,701,702,704,705,2161,2160,707,708,2167,2166,713,709,710,711,712,717,718,719],fixedGlazingForDrilling:[],materialValueProfileAttributeAssignment:{466:66,4192:844,467:123,468:124},fixedGlazingForInfoText:[640,645,646,653,654,655,656,657,666,667,668,672,673,674,680,681,687,2159,2158,682,683,684,685,696,697,698,2163,2162,699,700,701,702,706,707,708,2167,2166,709,710,711,712,717,718,719],division:{ol:[639,652,679],ul:[],minHeightMapping:{ol:{379:360,380:385},default:{379:385}},maxHeightSubtractionMapping:{ol:{379:385,380:360},default:{379:0}},minWidth:360,excludeMinVal:[]},sprouts:{maxVal:{default:4,l1:2,l2:3,l3:3},input:[394,395,396,397,398,399,400,401],fieldMapping:{390:[394,395],391:[396,397],392:[398,399],393:[400,401]}},frameBroadening:{466:{370:[1843,1844,1845,1846,1847,1848,1849,1850,1851,1852,1853,1854,1855,1856,1857],371:[1858,1859,1860,1861,1862,1863,1864,1865,1866,1867,1868,1869,1870,1871,1872],372:[1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887],373:[1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902]},467:{366:[1759,1760,1761,1762,1763,1764,1765,1766,1767,1768,1769,1770,1771,1772,1773,1774,1775,1776,1777,1778,1779],367:[1780,1781,1782,1783,1784,1785,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800],368:[1801,1802,1803,1804,1805,1806,1807,1808,1809,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821],369:[1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1840,1841,1842]},468:{641:[3056,3057,3058,3059,3060,3061,3062,3063,3064,3065,3066,3067,3068,3069,3070,3071,3072,3073,3074,3075,3076],642:[3077,3078,3079,3080,3081,3082,3083,3084,3085,3086,3087,3088,3089,3090,3091,3092,3093,3094,3095,3096,3097],643:[3098,3099,3100,3101,3102,3103,3104,3105,3106,3107,3108,3109,3110,3111,3112,3113,3114,3115,3116,3117,3118],644:[3119,3120,3121,3122,3123,3124,3125,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139]},4192:{823:[4106,4107,4108,4109,4110,4111,4112,4113,4114,4115],824:[4116,4117,4118,4119,4120,4121,4122,4123,4124,4125],825:[4126,4127,4128,4129,4130,4131,4132,4133,4134,4135],826:[4136,4137,4138,4139,4140,4141,4142,4143,4144,4145]}},frameBroadeningAdjustment:{466:{8254:{1646:{370:1,371:1,372:8},1647:{370:1,371:1,372:8},1648:{370:0,371:0,372:8}},8255:{1688:{370:1,371:1,372:0},1689:{370:1,371:1,372:0}}},467:{8254:{1646:{366:2,367:2,368:11},1647:{366:2,367:2,368:11},1648:{366:0,367:0,368:11}},8255:{1688:{366:2,367:2,368:0},1689:{366:2,367:2,368:0}}},468:{8254:{1646:{366:2,367:2,641:2,642:2,643:11},1647:{366:2,367:2,641:2,642:2,643:11},1648:{366:0,367:0,641:0,642:1,643:11}},8255:{1688:{366:2,367:2,641:2,642:2,643:0},1689:{366:2,367:2,641:2,642:2,643:0}}},4192:{8254:{1646:{823:1,824:1,825:6},1647:{823:1,824:1,825:6},1648:{823:0,824:0,825:6}},8255:{1688:{823:1,824:1,825:0},1689:{823:1,824:1,825:0}}}},frameBroadeningOption:{466:{1758:1,1759:1},468:{365:1},4192:{1758:1,1759:1}},limitForBigElementNotice:-1,colorNotAvailableForIdeal4000:[489,487,3628,4032,4033,4034,4036],maximumSizeValue:{7926:{y:3e3,x:2e3},7927:{y:3e3,x:1500},7930:{y:3e3,x:2e3},7931:{y:3e3,x:1500},7929:{y:3e3,x:1500}}},shutter:{},shutterType:{},shutterNotPossible:!1},SlidingDoor={attribute:{variante:865,material:866,profil:{pvc:869,holz:871,holzalu:872,pvcalu:870},type:905,size:922,width:923,height:924,colorCombination:884,shutter:996,shutterType:1816,sprouts:938,sproutsCombination:957,division:925,divisionField:{y1:926,y2:927,x1:928,x2:929,x3:930,x4:931,x5:932},divisionWidth:{x1:928,x2:929,x3:930,x4:931,x5:932},divisionHeight:{y1:926},frameBroadening:{main:1015,4236:{left:1043,right:1044,top:1045,bottom:1046},4238:{left:1035,right:1036,top:1037,bottom:1038},4239:{left:1035,right:1036,top:1037,bottom:1038},4237:{left:1039,right:1040,top:1041,bottom:1042},4240:{left:1043,right:1044,top:1045,bottom:1046},4242:{left:1035,right:1036,top:1037,bottom:1038},4243:{left:1035,right:1036,top:1037,bottom:1038},4241:{left:1039,right:1040,top:1041,bottom:1042},4244:{left:1043,right:1044,top:1045,bottom:1046},4246:{left:1035,right:1036,top:1037,bottom:1038},4247:{left:1035,right:1036,top:1037,bottom:1038}}},value:{colorCombination:{outsideAndInside:4309},shutter:{no:4645,guideRail:4646,frontMounted:8248,topMounted:8249,yes:8250},variante:{hst:4233,psk:4234,fst:4235},material:{pvc:4236,holz:4238,holzalu:4239,pvcalu:4237},frameBroadening:{yes:4691,no:4690},sprouts:{yes:4510,no:4509}},event:{a_865:function(a,b,c,d){WindowController.changed("eventVarianteChanged",a,b,c,d)},a_866:function(a,b,c,d){WindowController.changed("eventMaterialChanged",a,b,c,d)},a_867:function(a,b,c,d){WindowController.changed("eventMaterialChanged",a,b,c,d)},a_868:function(a,b,c,d){WindowController.changed("eventMaterialChanged",a,b,c,d)},a_905:function(a,b,c,d){WindowController.changed("eventTypeChanged",a,b,c,d)},a_869:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_873:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_877:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_871:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_875:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_878:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_872:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_876:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_879:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_870:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_874:function(a,b,c,d){WindowController.changed("eventProfilChanged",a,b,c,d)},a_923:function(a,b,c,d){WindowController.changed("eventWidthChanged",a,b,c,d)},a_924:function(a,b,c,d){WindowController.changed("eventHeightChanged",a,b,c,d)},a_938:function(a,b,c,d){WindowController.changed("eventSproutsChanged",a,b,c,d)},a_996:function(a,b,c,d){WindowController.changed("eventShutterTypeChanged",a,b,c,d)},a_1816:function(a,b,c,d){WindowController.changed("eventShutterTypeChanged",a,b,c,d)},a_1020:function(a,b,c,d){WindowController.changed("eventShutterTypeOfDriveChanged",a,b,c,d)},a_1025:function(a,b,c,d){WindowController.changed("eventShutterDriveSideChanged",a,b,c,d)},a_1030:function(a,b,c,d){WindowController.changed("eventShutterMaterialChanged",a,b,c,d)},a_1003:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_1005:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_1006:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_1012:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)},a_1013:function(a,b,c,d){WindowController.changed("eventShutterBoxHeightChanged",a,b,c,d)}},error:{DIVISION_SUM:1,DIVISION_MINVAL:2,DIVISION_MISSING:3,DIVISION_MAXVAL:4},parameter:{MAXIMUM_DIVISION:40,sproutImage:126,defaultImage:127},config:{hasDivision:!0,windowOpenType:{8807:907,8808:910,8809:915,8810:920},oldWindowRelation:{4429:[8807],4449:[8808],4466:[8809],4489:[8810]},newOpeningTypes:[8807,8808,8809,8810],color:[880,881,882,890,891,892,893,894,895,897,898,899,900,901,902,886,887,2156,2154,2152,2150,2148,2146],ralColor:[2147,2149,2151,2153,2155,2157],profilMissingBeschlag:{},profilWithFixedCasement:[],openingTypeWithFixedCasement:[],fixedGlazingForDrilling:[],materialValueProfileAttributeAssignmentHst:{4236:869,4237:870,4238:871,4239:872},materialValueProfileAttributeAssignmentPsk:{4240:873,4241:874,4242:875,4243:876},materialValueProfileAttributeAssignmentFst:{4246:878,4247:879},fixedGlazingForInfoText:[],openingTypeWithMaxWidthForShutters:{4433:3e3},division:{ol:[],ul:[],minWidth:360},sprouts:{maxVal:{default:4,l1:2,l2:3,l3:3},input:[959,960,963,964,966,967,970,971,973,975],fieldMapping:{958:[959,960],962:[963,964],965:[966,967],969:[970,971],972:[973,975]}},frameBroadening:{4236:{1043:[4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800],1044:[4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815],1045:[4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785],1046:[4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769]},4238:{1035:[4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4746],1036:[4747,4748,4749,4750,4751,4752,4753,4754,4770,4844,4899,4900,4901,4902,4903,4904,4905,4906,4907,4908,4909],1037:[4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877],1038:[4878,4879,4880,4881,4882,4883,4884,4885,4886,4887,4888,4889,4890,4891,4892,4893,4894,4895,4896,4897,4898]},4239:{1035:[4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4746],1036:[4747,4748,4749,4750,4751,4752,4753,4754,4770,4844,4899,4900,4901,4902,4903,4904,4905,4906,4907,4908,4909],1037:[4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877],1038:[4878,4879,4880,4881,4882,4883,4884,4885,4886,4887,4888,4889,4890,4891,4892,4893,4894,4895,4896,4897,4898]},4237:{1039:[4816,4817,4818,4819,4820,4821,4822,4823,4824,4825],1040:[4826,4827,4828,4829,4830,4831,4832,4833,4834,4835],1041:[4836,4837,4838,4839,4840,4841,4842,4843,4845,4846],1042:[4847,4848,4849,4850,4851,4852,4853,4854,4855,4856]},4240:{1043:[4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800],1044:[4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815],1045:[4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785],1046:[4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769]},4242:{1035:[4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4746],1036:[4747,4748,4749,4750,4751,4752,4753,4754,4770,4844,4899,4900,4901,4902,4903,4904,4905,4906,4907,4908,4909],1037:[4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877],1038:[4878,4879,4880,4881,4882,4883,4884,4885,4886,4887,4888,4889,4890,4891,4892,4893,4894,4895,4896,4897,4898]},4243:{1035:[4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4746],1036:[4747,4748,4749,4750,4751,4752,4753,4754,4770,4844,4899,4900,4901,4902,4903,4904,4905,4906,4907,4908,4909],1037:[4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877],1038:[4878,4879,4880,4881,4882,4883,4884,4885,4886,4887,4888,4889,4890,4891,4892,4893,4894,4895,4896,4897,4898]},4241:{1039:[4816,4817,4818,4819,4820,4821,4822,4823,4824,4825],1040:[4826,4827,4828,4829,4830,4831,4832,4833,4834,4835],1041:[4836,4837,4838,4839,4840,4841,4842,4843,4845,4846],1042:[4847,4848,4849,4850,4851,4852,4853,4854,4855,4856]},4244:{1043:[4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800],1044:[4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815],1045:[4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785],1046:[4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769]},4246:{1035:[4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4746],1036:[4747,4748,4749,4750,4751,4752,4753,4754,4770,4844,4899,4900,4901,4902,4903,4904,4905,4906,4907,4908,4909],1037:[4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877],1038:[4878,4879,4880,4881,4882,4883,4884,4885,4886,4887,4888,4889,4890,4891,4892,4893,4894,4895,4896,4897,4898]},4247:{1035:[4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4746],
1036:[4747,4748,4749,4750,4751,4752,4753,4754,4770,4844,4899,4900,4901,4902,4903,4904,4905,4906,4907,4908,4909],1037:[4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877],1038:[4878,4879,4880,4881,4882,4883,4884,4885,4886,4887,4888,4889,4890,4891,4892,4893,4894,4895,4896,4897,4898]}},frameBroadeningAdjustment:{4237:{8248:{4692:{1039:0,1040:0,1041:5},4693:{1039:0,1040:0,1041:5},4694:{1039:0,1040:0,1041:5}}},4240:{8248:{4692:{1043:1,1044:1},4693:{1043:1,1044:1}},8249:{4692:{1043:1,1044:1},4693:{1043:1,1044:1}}},4242:{8248:{4692:{1035:2,1036:2},4693:{1035:2,1036:2}},8249:{4692:{1035:2,1036:2},4693:{1035:2,1036:2}}},4243:{8248:{4692:{1035:2,1036:2},4693:{1035:2,1036:2}},8249:{4692:{1035:2,1036:2},4693:{1035:2,1036:2}}},4241:{8248:{4692:{1039:1,1040:1,1041:7},4693:{1039:1,1040:1,1041:7},4694:{1039:0,1040:0,1041:7}},8249:{4692:{1039:1,1040:1,1041:0},4693:{1039:1,1040:1,1041:0}}},4244:{default:{1046:1},8248:{4692:{1043:1,1044:1},4693:{1043:1,1044:1}},8249:{4692:{1043:1,1044:1},4693:{1043:1,1044:1}}},4246:{8248:{4692:{1035:2,1036:2,1021:1},4693:{1035:2,1036:2,1021:1}},8249:{4692:{1035:2,1036:2,1021:1},4693:{1035:2,1036:2,1021:1}}},4247:{8248:{4692:{1035:2,1036:2},4693:{1035:2,1036:2}},8249:{4692:{1035:2,1036:2},4693:{1035:2,1036:2}}}},frameBroadeningOption:{4240:{1760:1,1761:1},4241:{1760:1,1761:1},4243:{1021:1},4247:{4247:1}},limitForBigElementNotice:-1,attribute_material:{4233:866,4234:867,4235:868},attribute_profil:{4233:{pvc:869,holz:871,holzalu:872,pvcalu:870},4234:{pvc:873,holz:875,holzalu:876,pvcalu:874},4235:{pvc:877,holz:878,holzalu:879}},value_material:{4233:{pvc:4236,holz:4238,holzalu:4239,pvcalu:4237},4234:{pvc:4240,holz:4242,holzalu:4243,pvcalu:4241},4235:{pvc:4244,holz:4246,holzalu:4247,pvcalu:4245}}},shutter:{},shutterType:{},shutterNotPossible:!1},FrontDoor={attribute:{material:547,model:{pvc:606,alu:548,wood:505},type:710,size:513,height:515,width:514,division:711,divisionField:{y1:712,y2:713,x1:714,x2:715,x3:716},divisionWidth:{x1:714,x2:715,x3:716},divisionHeight:{y1:712,y2:713},rotation:710,frameBroadening:{534:{left:535,right:536,top:537,bottom:538},622:{left:623,right:624,top:625,bottom:626}}},value:{material:{pvc:2656,wood:2654,alu:2655,inothermAlu:7914,pirnarAlu:10612},frameBroadening:{534:{yes:2624,no:2623},622:{yes:2928,no:2927}}},config:{hasDivision:!0,viewDirection:{inside:[3606,3604,3607,3605,3608,3609]},division:{ol:[3625,3624,3623,3622,3621,3620,3619,3618],ul:[],rl:[3625,3624,3623,3622,3617,3616,3615,3614],ll:[3625,3624,3621,3620,3617,3616,3613,3612],minHeightMapping:{ol:{712:360,713:1885},default:{712:1885}},maxHeightMapping:{ol:{713:2300},default:{712:2300}},maxHeightSubtractionMapping:{ol:{712:1885,713:360},default:{712:0}},limit:{2656:{minSideLightWidth:360,minDoorWidth:760,maxDoorWidth:1300},2654:{minSideLightWidth:360,minDoorWidth:800,maxDoorWidth:1300},2655:{minSideLightWidth:360,minDoorWidth:800,maxDoorWidth:1300}},widthDivisionType:{ll:{714:1,715:2},rl:{714:2,715:1},rlll:{714:1,715:2,716:1}},type:{sideLight:1,door:2},invalid:{lessThan:1,greaterThan:2}},withoutSidePanelsOrFanlight:[3610,3611],rotationDirection:{3610:"links",3611:"rechts",3612:"links",3613:"rechts",3614:"links",3615:"rechts",3616:"links",3617:"rechts",3618:"links",3619:"rechts",3620:"links",3621:"rechts",3622:"links",3623:"rechts",3624:"links",3625:"rechts"},modelWithoutDefaultChinchillaGlass:[3604,3605,3606,3607,3608,3609,2867],modelWithoutGlass:[2867,3609]},event:{a_547:function(a,b,c){FrontDoorController.changed("eventMaterialChanged",a,b,c)},a_514:function(a,b,c){FrontDoorController.changed("eventWidthChanged",a,b,c)},a_515:function(a,b,c){FrontDoorController.changed("eventHeightChanged",a,b,c)},a_710:function(a,b,c){FrontDoorController.changed("eventTypeChanged",a,b,c)},a_606:function(a,b,c){FrontDoorController.changed("eventModelChanged",a,b,c)}},error:{DIVISION_SUM:1,DIVISION_MINVAL:2,DIVISION_MISSING:3,DIVISION_MAX:4,DIVISION_MIN:5,DIVISION_MIN_SKYLIGHT:6},parameter:{MAXIMUM_DIVISION:40,MINIMUM_DIVISION:41}},InothermFrontDoor={attribute:{type:1517,size:1526,width:1527,height:1528,division:1529,handleRecessColor:1620,exteriorHandle:1547,exteriorHandleZAE:1719,handleRecess:1573,fingerprintInHandleAvailable:1572,doorSpySelection:1544,doorSpyInHandle:1570,verriegelungDefault:1539,doorType:1517,safetyPackage:{withGlass:1536},frameBroadening:{main:1557,1557:{left:1560,right:1561,top:1562}}},value:{material:{pvc:7911,wood:7912,alu:7913},doorSpyInHandleYes:6728,doorSpyInHandleNo:6727,ledInHandleYes:6730,ledInHandleNo:6729,fingerprintInHandleYes:6731,fingerprintInHandleNo:6732,bt1022:6397,safetyPackage:{1536:{rc2:6368}},dowelHoleDrilling:{yes:6516,no:6515},frameBroadening:{yes:6528,no:6527}},config:{viewDirection:{},division:{},sizeCalculationFactor_x:70,sizeCalculationFactor_y:85,minDoorLeaf_x:850,maxDoorLeaf_x:1260,minDoorLeaf_y:2001,maxDoorLeaf_y:2700,minDoorPart:260,filterVerriegelung:1539,filterVerriegelungType:{7835:[7837],7836:[7837],7837:[7835,7836]},filterVerriegelungDependencies:{7835:[6394,6395],78357836:[6394],7836:[6394,7905],7837:[6397]},divisionFieldParams:[97,101,98,99,100],interiorImageDisplay:[1612,2044],doorTypesWithoutGlass:[6285,6293],dowelHoleDrilling:1553},event:{a_1517:function(a,b,c){InothermFrontDoorController.changed("eventTypeChanged",a,b,c)},a_1547:function(a,b,c){InothermFrontDoorController.changed("eventExteriorHandleChanged",a,b,c)},a_1719:function(a,b,c){InothermFrontDoorController.changed("eventExteriorHandleChanged",a,b,c)},a_1572:function(a,b,c){InothermFrontDoorController.changed("eventFingerprintAvailableInExteriorHandleChanged",a,b,c)}},error:{DIVISION_SUM:1,DIVISION_MINVAL:2,DIVISION_MISSING:3,DIVISION_MAX:4,DIVISION_MIN:5,DIVISION_MIN_SKYLIGHT:6},parameter:{MAXIMUM_DIVISION:40,MINIMUM_DIVISION:41,doorSpyAvailableInExteriorHandle:107,fingerprintAvailableInExteriorHandle:108}},PirnarFrontDoor={attribute:{material:2103,series:2049,type:2052,size:2062,width:2063,height:2064,division:2103,doorType:2052,doorModel:2053,doorBands:2076,frameBroadening:{main:2093},outerHandle:2080,outerHandle9613:2098,innerHandle:2081,weatherboard:2088,safetyPackage:2065},value:{material:{pvc:9561,wood:9562,alu:9563},series:{premium:9112,exclusive:9113},doorBands:{covered:[9300,9558,9560]},frameBroadening:{no:9355,yes:9356},safetyPackage:{default:9249,rc1:9250,rc2:9251,rc3:9564}},config:{viewDirection:{},division:{},sizeCalculationFactor_x:70,sizeCalculationFactor_y:85,minDoorPart:240,doorTypesWithoutGlass:[9119,9127],divisionFieldParams:[97,101,98,99,100],interiorImageDisplay:[2102,2055],coveredDoorBandsFrameBroadening:[9358,9420],modelsWithRC3:[9135,9139,9577,9580],rc3DimensionRangeForDoorLeaf:{x:{min:1e3,max:1250},y:{min:1981,max:2500}},outerHandlesWithLUX:[9492,9494,9495,9503,9505,9506,9508],innerHandlesWithLUX:[9476,9477,9483,9484],weatherboardWithLux:[9336]},event:{a_2052:function(a,b,c){PirnarFrontDoorController.changed("eventTypeChanged",a,b,c)},a_2076:function(a,b,c){PirnarFrontDoorController.changed("eventDoorBandsChanged",a,b,c)},a_2080:function(a,b,c){PirnarFrontDoorController.changed("eventOuterHandleChanged",a,b,c)},a_2098:function(a,b,c){PirnarFrontDoorController.changed("eventOuterHandleChanged",a,b,c)},a_2081:function(a,b,c){PirnarFrontDoorController.changed("eventInnerHandleChanged",a,b,c)},a_2088:function(a,b,c){PirnarFrontDoorController.changed("eventWeatherboardChanged",a,b,c)}},error:{DIVISION_SUM:1,DIVISION_MINVAL:2,DIVISION_MISSING:3,DIVISION_MAX:4,DIVISION_MIN:5,DIVISION_MIN_SKYLIGHT:6},parameter:{MAXIMUM_DIVISION:40,MINIMUM_DIVISION:41}},OutsideWindowSill={config:{ralColorFieldIdList:437,ralColorParentIdList:2137}},OutsideWindowSillStandalone={attribute:{dimensions:1448,length:21,color:20,sidePanels:678,joint:719},value:{color:{EV1:328,RAL9016:327,RAL7016:3050,C34:330,RAL:2137},sidePanels:{no:3939,yes:3652,pvcSlide:4170,aluPlast:4171,aluClinker:4172,aluSlide:4176},joint:{no:3660,yes:3661}},config:{ralColorFieldIdList:437,ralColorParentIdList:2137,allowedRangeInPercent:20,minimumLength:300,minimumJointStep:2500},event:{a_21:function(a,b,c,d){OutsideWindowSillController.lengthChanged(c)}}},OutsideWindowSillForWindow={attribute:{dimensions:2041,length:267,color:208,sidePanels:683,ralColor:[855],joint:741},value:{color:{EV1:1306,RAL9016:1305,RAL7016:2208,C34:1308,RAL:4216},sidePanels:{no:3944,yes:4224,pvcSlide:4225,aluPlast:3428,aluClinker:3714,aluSlide:3715},joint:{no:3724,yes:3725},connectionProfileYes:[2416,2417,2415,4174],connectionProfileNo:[1311,1955,1614,4173]},config:{ralColorFieldIdList:855,ralColorParentIdList:4216,allowedRangeInPercent:20,minimumLength:300,minimumJointStep:2500}},OutsideWindowSillForDoor={attribute:{dimensions:2040,length:118,color:117,sidePanels:688,ralColor:[863],joint:759},value:{color:{EV1:790,RAL9016:789,RAL7016:2220,C34:792,RAL:4226},sidePanels:{no:3949,yes:4227,pvcSlide:4228,aluPlast:3433,aluClinker:3760,aluSlide:3761},joint:{no:3770,yes:3771},connectionProfileYes:[2422,2426,2424,4197],connectionProfileNo:[2421,2425,2423,4196]},config:{ralColorFieldIdList:863,allowedRangeInPercent:20,minimumLength:300,minimumJointStep:2500}},WindowSill={attribute:{type:434,length:16,overhang:17,color:1447},value:{type:{compact:2112,exclusive:2111}},config:{},event:{}},CoverStrip={attribute:{length:6},config:{},event:{}},FrontMountedShutterForWindow={attribute:{model:214,size:215,width:260,height:261,boxHeight:[216,230,433],typeOfDrive:218,sideOfDrive:222,division:223,material:225,ralColor:[375]},parameter:{split:19},value:{typeOfDrive:{strap:1338,crank:1339,motor:1340},sideOfDrive:{right:1348,left:1349},division:{no:1353,yes:1354},material:{pvc:1397,alu:1398}},config:{allowedRangeInPercent:50,limit:{pvc:{strap:3e6,crank:35e5,motor:35e5,maxWidth:2e3},alu:{strap:38e5,crank:75e5,motor:75e5,maxWidth:3e3},sideOfDrive:{motor:600}},boxHeightsByProfile:{4167:{1322:{216:{1326:[3,2450],1327:[4,2900]}},1323:{230:{1372:[3,2450],1371:[4,4e3]}},1324:{433:{2109:[3,2450],2110:[4,3e3]}}}},boxHeights:{834:{1322:{216:{1326:[10,2450],1327:[13,2900]}},1323:{230:{1372:[10,2450],1371:[13,4e3]}},1324:{433:{2109:[10,2450],2110:[13,3e3]}}},835:{1322:{216:{1326:[11,2450],1327:[12,2900]}},1323:{230:{1372:[11,2450],1371:[12,4e3]}},1324:{433:{2109:[11,2450],2110:[12,3e3]}}},836:{1322:{216:{1326:[11,2450],1327:[12,2900]}},1323:{230:{1372:[11,2450],1371:[12,4e3]}},1324:{433:{2109:[11,2450],2110:[12,3e3]}}},4166:{1322:{216:{1326:[6,2450],1327:[6,2900]}},1323:{230:{1372:[6,2450],1371:[6,4e3]}},1324:{433:{2109:[6,2450],2110:[6,3e3]}}}}}},FrontMountedShutterForDoor={attribute:{model:304,size:305,width:306,height:307,boxHeight:[308,309,443],typeOfDrive:311,sideOfDrive:315,division:316,material:320,ralColor:[439]},parameter:{split:19},value:{typeOfDrive:{strap:1646,crank:1647,motor:1648},sideOfDrive:{right:1656,left:1657},division:{no:1658,yes:1659},material:{pvc:1708,alu:1709}},config:{allowedRangeInPercent:50,limit:{pvc:{strap:3e6,crank:35e5,motor:35e5,maxWidth:2e3},alu:{strap:38e5,crank:75e5,motor:75e5,maxWidth:3e3},sideOfDrive:{motor:600}},boxHeightsByProfile:{4193:{1632:{308:{1635:[3,2450],1636:[4,2900]}},1633:{309:{1639:[3,2450],1640:[4,4e3]}},1634:{443:{2146:[3,2450],2147:[4,3e3]}}}},boxHeights:{466:{1632:{308:{1635:[10,2450],1636:[13,2900]}},1633:{309:{1639:[10,2450],1640:[13,4e3]}},1634:{443:{2146:[10,2450],2147:[13,3e3]}}},467:{1632:{308:{1635:[11,2450],1636:[12,2900]}},1633:{309:{1639:[11,2450],1640:[12,4e3]}},1634:{443:{2146:[11,2450],2147:[12,3e3]}}},468:{1632:{308:{1635:[11,2450],1636:[12,2900]}},1633:{309:{1639:[11,2450],1640:[12,4e3]}},1634:{443:{2146:[11,2450],2147:[12,3e3]}}},4192:{1632:{308:{1635:[10,2450],1636:[13,2900]}},1633:{309:{1639:[10,2450],1640:[13,4e3]}},1634:{443:{2146:[10,2450],2147:[13,3e3]}}}}}},FrontMountedShutterForSlidingdoor={attribute:{model:1002,size:1017,width:1018,height:1019,boxHeight:[1003,1005,1006],typeOfDrive:1020,sideOfDrive:1025,division:1026,material:1030,ralColor:[1008]},parameter:{split:19},value:{typeOfDrive:{strap:4692,crank:4693,motor:4694},sideOfDrive:{right:4703,left:4704},division:{no:4705,yes:4706},material:{pvc:4713,alu:4714}},config:{allowedRangeInPercent:50,limit:{pvc:{strap:3e6,crank:35e5,motor:35e5,maxWidth:2e3},alu:{strap:38e5,crank:75e5,motor:75e5,maxWidth:3e3},sideOfDrive:{motor:600}},boxHeightsByProfile:{},boxHeights:{4236:{4657:{1003:{4660:[10,2450],4661:[11,2900]}},4658:{1005:{4662:[10,2450],4663:[11,4e3]}},4659:{1006:{4664:[10,2450],4665:[11,3e3]}}},4238:{4657:{1003:{4660:[11,2450],4661:[13,2900]}},4658:{1005:{4662:[11,2450],4663:[13,4e3]}},4659:{1006:{4664:[11,2450],4665:[13,3e3]}}},4239:{4657:{1003:{4660:[10,2450],4661:[12,2900]}},4658:{1005:{4662:[10,2450],4663:[12,4e3]}},4659:{1006:{4664:[10,2450],4665:[12,3e3]}}},4237:{4657:{1003:{4660:[5,2450],4661:[6,2900]}},4658:{1005:{4662:[5,2450],4663:[6,4e3]}},4659:{1006:{4664:[5,2450],4665:[6,3e3]}}},4240:{4657:{1003:{4660:[10,2450],4661:[13,2900]}},4658:{1005:{4662:[10,2450],4663:[13,4e3]}},4659:{1006:{4664:[10,2450],4665:[13,3e3]}}},4242:{4657:{1003:{4660:[11,2450],4661:[12,2900]}},4658:{1005:{4662:[11,2450],4663:[12,4e3]}},4659:{1006:{4664:[11,2450],4665:[12,3e3]}}},4243:{4657:{1003:{4660:[11,2450],4661:[12,2900]}},4658:{1005:{4662:[11,2450],4663:[12,4e3]}},4659:{1006:{4664:[11,2450],4665:[12,3e3]}}},4241:{4657:{1003:{4660:[5,2450],4661:[6,2900]}},4658:{1005:{4662:[5,2450],4663:[6,4e3]}},4659:{1006:{4664:[5,2450],4665:[6,3e3]}}},4244:{4657:{1003:{4660:[10,2450],4661:[13,2900]}},4658:{1005:{4662:[10,2450],4663:[13,4e3]}},4659:{1006:{4664:[10,2450],4665:[13,3e3]}}},4246:{4657:{1003:{4660:[11,2450],4661:[12,2900]}},4658:{1005:{4662:[11,2450],4663:[12,4e3]}},4659:{1006:{4664:[11,2450],4665:[12,3e3]}}},4247:{4657:{1003:{4660:[11,2450],4661:[12,2900]}},4658:{1005:{4662:[11,2450],4663:[12,4e3]}},4659:{1006:{4664:[11,2450],4665:[12,3e3]}}}}}},TopMountedShutterForWindow={attribute:{model:232,size:233,width:262,height:263,boxHeight:[234,235],typeOfDrive:237,sideOfDrive:241,division:242,material:244},parameter:{split:19},value:{typeOfDrive:{strap:1385,crank:1386,motor:1387},sideOfDrive:{right:1390,left:1391},division:{no:1392,yes:1393},material:{pvc:1397,alu:1398}},config:{allowedRangeInPercent:1,limit:{pvc:{strap:3e6,crank:35e5,motor:35e5,maxWidth:2e3},alu:{strap:38e5,crank:75e5,motor:75e5,maxWidth:3e3},sideOfDrive:{motor:600}},boxHeights:{834:{1374:{234:{1379:[0,1450],1380:[0,2650]}},1375:{235:{1383:[0,2600]}}},835:{1374:{234:{1379:[0,1450],1380:[0,2650]}},1375:{235:{1383:[0,2600]}}},836:{1374:{234:{1379:[0,1450],1380:[0,2650]}},1375:{235:{1383:[0,2600]}}},4071:{1374:{234:{1379:[0,1450],1380:[0,2650]}},1375:{235:{1383:[0,2600]}}}},ralColorFieldIdList:375,ralColorParentIdList:1337}},TopMountedShutterForDoor={attribute:{model:325,size:328,width:330,height:331,boxHeight:[332,331],typeOfDrive:335,sideOfDrive:339,division:340,material:344},parameter:{split:19},value:{typeOfDrive:{strap:1688,crank:1689,motor:1690},sideOfDrive:{right:1698,left:1699},division:{no:1700,yes:1701},material:{pvc:1708,alu:1709}},config:{allowedRangeInPercent:1,limit:{pvc:{strap:3e6,crank:35e5,motor:35e5,maxWidth:2e3},alu:{strap:38e5,crank:75e5,motor:75e5,maxWidth:3e3},sideOfDrive:{motor:600}},boxHeights:{466:{1679:{332:{2387:[0,1450],1684:[0,2650]}},2139:{331:{1686:[0,2600]}}},467:{1679:{332:{2387:[0,1450],1684:[0,2650]}},2139:{331:{1686:[0,2600]}}},468:{1679:{332:{2387:[0,1450],1684:[0,2650]}},2139:{331:{1686:[0,2600]}}},4191:{1679:{332:{2387:[0,1450],1684:[0,2650]}},2139:{331:{1686:[0,2600]}}}}}},TopMountedShutterForSlidingdoor={attribute:{model:1010,size:1017,width:1018,height:1019,boxHeight:[1012,1013],typeOfDrive:1020,sideOfDrive:1025,division:1026,material:2032},parameter:{split:19},value:{typeOfDrive:{strap:4692,crank:4693,motor:4694},sideOfDrive:{right:4703,left:4704},division:{no:4705,yes:4706},material:{pvc:8873,alu:8874}},config:{allowedRangeInPercent:1,limit:{pvc:{strap:3e6,crank:35e5,motor:35e5,maxWidth:2e3},alu:{strap:38e5,crank:75e5,motor:75e5,maxWidth:3e3},sideOfDrive:{motor:600}},boxHeights:{4236:{4674:{1013:{4680:[0,2800]}}},4238:{4674:{1013:{4680:[0,2800]}}},4239:{4674:{1013:{4680:[0,2800]}}},4237:{4674:{1013:{4680:[0,2800]}}},4240:{4675:{1012:{4678:[0,1450],4679:[0,2650]}},4676:{1013:{4680:[0,2800]}}},4242:{4675:{1012:{4678:[0,1450],4679:[0,2650]}},4676:{1013:{4680:[0,2800]}}},4243:{4675:{1012:{4678:[0,1450],4679:[0,2650]}},4676:{1013:{4680:[0,2800]}}},4241:{4675:{1012:{4678:[0,1450],4679:[0,2650]}},4676:{1013:{4680:[0,2800]}}},4244:{4675:{1012:{4678:[0,1450],4679:[0,2650]}},4676:{1013:{4680:[0,2800]}}},4246:{4675:{1012:{4678:[0,1450],4679:[0,2650]}},4676:{1013:{4680:[0,2800]}}},4247:{4675:{1012:{4678:[0,1450],4679:[0,2650]}},4676:{1013:{4680:[0,2800]}}}},model:{4233:1010,4234:1011,4235:1011}}},ShadingSystem={attribute:{slatSize:2003,drive:2006,armourMaterial:2002,motor:2007},value:{drive:{belt:8764,crank:8765,motor:8765},motor:{solar:8769}},config:{maximumWidth:6e3,maximumSolarQm:4,maximumSolarWidth:1500,previewImage:[1983,1984],priceRequired:{8729:2002,8796:2018,8797:2019,8798:2019,8828:2019,8731:2003,8878:2003,8732:2003,8734:2003,8669:1986,8670:1986,8764:2006,8765:2006,8766:2006,8666:1985,8667:1985,8668:1985,8893:2038,8895:2038,8897:2038,8894:2039,8896:2039,8898:2039,10796:1986,10797:1986,10798:1986},priceRequiredDependencyDeactivation:{2019:{valueId:8827,attributeId:2018}}},event:{}},Default={attribute:{},config:{},event:{}},UwCalculator={UW:0,profileUw:0,glassUw:1,edgeUw:0,profileArea:0,profileArchArea:0,glassArea:0,glassArchArea:0,profileWidth:0,glassPerimeter:0,totalWidth:0,totalHeight:0,glassHeight:0,glassWidth:0,glassType:0,woodType:"Uf",edgeType:"alu",material:"pvc",openingType:"fixed",profile:"ideal4000",shape:"rectangular",uData:{pvc:{ideal4000:{Uf:1.3,PsigAlu2:.066,PsigAlu3:.064,PsigKSD2:.041,PsigKSD3:.039,PsigSwp2:.032,PsigSwp3:.03,withOpening:119,withFixed:70},ideal5000:{Uf:1.2,PsigAlu2:.066,PsigAlu3:.064,PsigKSD2:.041,PsigKSD3:.039,PsigSwp2:.032,PsigSwp3:.03,withOpening:124,withFixed:80},idealDesign:{Uf:1.2,PsigAlu2:.066,PsigAlu3:.064,PsigKSD2:.041,PsigKSD3:.039,PsigSwp2:.032,PsigSwp3:.03,withOpening:124,withFixed:80},ideal8000:{Uf:1,PsigAlu2:.066,PsigAlu3:.064,PsigKSD2:.041,PsigKSD3:.039,PsigSwp2:.032,PsigSwp3:.03,withOpening:119,withFixed:80},energeto5000:{Uf:1,PsigAlu2:.066,PsigAlu3:.064,PsigKSD2:.041,PsigKSD3:.039,PsigSwp2:.032,PsigSwp3:.03,withOpening:124,withFixed:80},energeto8000:{Uf:.79,PsigAlu2:.066,PsigAlu3:.064,PsigKSD2:.041,PsigKSD3:.039,PsigSwp2:.032,PsigSwp3:.03,withOpening:119,withFixed:80}},pvcAlu:{energetoView:{Uf:1,PsigAlu2:.07,PsigAlu3:.075,PsigKSD2:.041,PsigKSD3:.04,PsigSwp2:.032,PsigSwp3:.029,withOpening:109.49,withFixed:109.49},twinset8000:{Uf:1,PsigAlu2:.07,PsigAlu3:.075,PsigKSD2:.041,PsigKSD3:.04,PsigSwp2:.031,PsigSwp3:.029,withOpening:119,withFixed:80},twinset8000ED:{Uf:.83,PsigAlu2:.07,PsigAlu3:.075,PsigKSD2:.041,PsigKSD3:.04,PsigSwp2:.031,PsigSwp3:.029,withOpening:119,withFixed:80}},wood:{classic68:{Uf:1.36,UfEiche:1.65,UfFichte:1.23,PsigAlu2:.07,PsigAlu3:.075,PsigKSD2:.041,PsigKSD3:.04,PsigSwp2:.031,PsigSwp3:.029,withOpening:130,withFixed:44.1},roundline68:{Uf:1.36,UfEiche:1.65,UfFichte:1.23,PsigAlu2:.07,PsigAlu3:.075,PsigKSD2:.041,PsigKSD3:.04,PsigSwp2:.031,PsigSwp3:.029,withOpening:130,withFixed:44.1},classic78:{Uf:1.24,UfEiche:1.52,UfFichte:1.12,PsigAlu2:.07,PsigAlu3:.075,PsigKSD2:.041,PsigKSD3:.04,PsigSwp2:.031,PsigSwp3:.029,withOpening:130,withFixed:44.1},roundline78:{Uf:1.24,UfEiche:1.52,UfFichte:1.12,PsigAlu2:.07,PsigAlu3:.075,PsigKSD2:.041,PsigKSD3:.04,PsigSwp2:.031,PsigSwp3:.029,withOpening:130,withFixed:44.1}},woodAlu:{idealu68:{Uf:1.28,UfEiche:1.55,UfFichte:1.16,PsigAlu2:.081,PsigAlu3:.085,PsigKSD2:.045,PsigKSD3:.043,PsigSwp2:.032,PsigSwp3:.03,withOpening:124,withFixed:90},idealu78:{Uf:1.2,UfEiche:1.46,UfFichte:1.08,PsigAlu2:.081,PsigAlu3:.085,PsigKSD2:.045,PsigKSD3:.043,PsigSwp2:.032,PsigSwp3:.03,withOpening:124,withFixed:90},plano:{Uf:1.31,UfEiche:1.59,UfFichte:1.19,PsigAlu2:.081,PsigAlu3:.085,PsigKSD2:.045,PsigKSD3:.043,PsigSwp2:.032,PsigSwp3:.03,withOpening:124,withFixed:92},ecoIdealu:{Uf:.97,UfEiche:1.1,UfFichte:.91,PsigAlu2:.081,PsigAlu3:.085,PsigKSD2:.045,PsigKSD3:.043,PsigSwp2:.032,PsigSwp3:.03,withOpening:124,withFixed:90},ecoPlano:{Uf:.92,UfEiche:1.01,UfFichte:.88,PsigAlu2:.081,PsigAlu3:.085,PsigKSD2:.045,PsigKSD3:.043,PsigSwp2:.032,PsigSwp3:.03,withOpening:126,withFixed:92}}},init:function(a,b,c,d,e,f,g,h,i){if(void 0!==a&&null!==a&&void 0!==b&&null!==b&&void 0!==d&&null!==d&&void 0!==e&&null!==e&&void 0!==f&&null!==f&&void 0!==g&&null!==g&&void 0!==h&&null!==h&&void 0!==c&&null!==c)return this.setMaterial(a),this.setProfile(b),this.setWoodType(i),this.setShape(d),this.setOpeningType(c),this.setGlassType(e),this.setEdgeType(f),this.setTotalWidth(g),this.setTotalHeight(h),this.setProfileWidth(),this.setUw(),this.areaCalculator(),this.glassPerimeterCalculator(),this.updateUW(),Number(this.UW).toFixed(2)},setMaterial:function(a){switch(parseInt(a)){case 834:case 466:this.material="pvc";break;case 4166:case 4192:this.material="pvcAlu";break;case 835:case 467:this.material="wood";break;case 836:case 468:this.material="woodAlu"}},setProfile:function(a){switch(parseInt(a)){case 838:case 8416:case 8417:case 469:case 8428:case 8429:this.profile="ideal4000";break;case 839:case 470:this.profile="ideal5000";break;case 8413:case 8414:this.profile="idealDesign";break;case 840:case 471:this.profile="ideal8000";break;case 1968:case 472:this.profile="energeto5000";break;case 1969:case 473:this.profile="energeto8000";break;case 4167:case 4193:this.profile="energetoView";break;case 4168:case 4194:this.profile="twinset8000";break;case 4169:case 4195:this.profile="twinset8000ED";break;case 841:case 474:this.profile="classic68";break;case 842:case 475:this.profile="roundline68";break;case 2434:case 2432:this.profile="classic78";break;case 2435:case 2433:this.profile="roundline78";break;case 843:case 3995:case 4006:case 476:this.profile="idealu68";break;case 2989:case 3996:case 4007:case 2990:this.profile="idealu78";break;case 2997:case 3003:this.profile="plano";break;case 2998:case 3997:case 4008:case 3002:this.profile="ecoIdealu";break;case 2999:case 3004:this.profile="ecoPlano"}},setWoodType:function(a){switch(parseInt(a)){case 906:case 864:case 733:case 480:this.woodType="Eiche";break;case 3484:case 3478:case 3538:case 3511:this.woodType="Fichte";break;default:this.woodType="Uf"}},setShape:function(a){switch(parseInt(a)){case 173:this.shape="circle";break;case 182:this.shape="triangle";break;case 174:case 175:case 176:case 177:this.shape="arch";break;default:this.shape="rectangle"}},setOpeningType:function(a){this.openingType=a},setGlassType:function(a){this.glassType=parseInt(a)},setEdgeType:function(a){this.edgeType=a},setTotalWidth:function(a){this.totalWidth=parseInt(a)/1e3},setTotalHeight:function(a){this.totalHeight=parseInt(a)/1e3},setUw:function(){this.setGlassUw(),this.setProfileUw(),this.setEdgeUw()},setGlassUw:function(){switch(this.glassType){case 8439:case 7930:case 7926:case 8425:case 7922:case 7920:this.glassUw=1.3;break;case 7931:case 7929:case 7927:case 7925:case 7923:case 7921:this.glassUw=1;break;case 1238:case 3245:case 4910:case 734:case 3242:case 4912:this.glassUw=1.1;break;case 1239:case 3246:case 4911:case 735:case 3243:case 4913:this.glassUw=1;break;case 1240:case 3247:case 3e3:case 736:case 3005:case 3244:this.glassUw=.7;break;case 1241:case 3001:case 737:case 3006:this.glassUw=.6;break;default:this.glassUw=1}},setProfileUw:function(){-1===this.profile.indexOf("wood")?this.setWoodUw():this.profileUw=this.uData[this.material][this.profile].Uf},setWoodUw:function(){switch(this.woodType){case"Eiche":this.profileUw=this.uData[this.material][this.profile].UfEiche;break;case"Fichte":this.profileUw=this.uData[this.material][this.profile].UfFichte;break;default:this.profileUw=this.uData[this.material][this.profile].Uf}},setEdgeUw:function(){switch(this.edgeType){case"aluminium":this.glassUw>=1?this.edgeUw=this.uData[this.material][this.profile].PsigAlu2:this.edgeUw=this.uData[this.material][this.profile].PsigAlu3;break;case"ksd":this.glassUw>=1?this.edgeUw=this.uData[this.material][this.profile].PsigKSD2:this.edgeUw=this.uData[this.material][this.profile].PsigKSD3;break;case"swisspacer":this.glassUw>=1?this.edgeUw=this.uData[this.material][this.profile].PsigSwp2:this.edgeUw=this.uData[this.material][this.profile].PsigSwp3}},setProfileWidth:function(){this.profileWidth=this.uData[this.material][this.profile][this.openingType]/1e3},areaCalculator:function(){this.glassAreaCalculator(),this.frameAreaCalculator()},glassAreaCalculator:function(){switch(this.shape){case"circle":this.glassArea=Math.PI*Math.pow(this.totalHeight/2-this.profileWidth,2);break;case"triangle":this.glassArea=(this.totalHeight-2*this.profileWidth)*(this.totalWidth-2*this.profileWidth)/2;break;case"arch":this.glassArchArea=Math.PI*Math.pow(this.totalWidth/2-this.profileWidth,2)/2,this.glassArea=this.glassArchArea+(this.totalHeight-this.totalWidth/2-this.profileWidth)*(this.totalWidth-2*this.profileWidth);break;default:this.glassArea=(this.totalHeight-2*this.profileWidth)*(this.totalWidth-2*this.profileWidth)}},frameAreaCalculator:function(){switch(this.shape){case"circle":this.profileArea=Math.PI*Math.pow(this.totalHeight/2,2)-this.glassArea;break;case"triangle":this.profileArea=this.totalHeight*this.totalWidth/2-this.glassArea;break;case"arch":this.profileArchArea=Math.PI*Math.pow(this.totalWidth/2,2),this.profileArea=(this.totalHeight-this.totalWidth/2)*this.totalWidth+this.profileArchArea-this.glassArea;break;default:this.profileArea=this.totalHeight*this.totalWidth-this.glassArea}},glassPerimeterCalculator:function(){switch(this.shape){case"circle":this.glassPerimeter=2*Math.PI*(this.totalHeight/2-this.profileWidth);break;case"triangle":this.glassPerimeter=this.totalHeight+this.totalWidth+Math.sqrt(Math.pow(this.totalHeight-this.profileWidth,2)+Math.pow(this.totalWidth-this.profileWidth,2))-3*this.profileWidth;break;case"arch":this.glassPerimeter=2*(this.totalHeight-this.totalWidth/2)+this.totalWidth+Math.PI*(this.totalWidth/2-this.profileWidth);break;default:this.glassPerimeter=2*(this.totalHeight-2*this.profileWidth)+2*(this.totalWidth-2*this.profileWidth)}},updateUW:function(){this.UW=(this.profileArea*this.profileUw+this.glassArea*this.glassUw+this.glassPerimeter*this.edgeUw)/(this.glassArea+this.profileArea)}},Logger=function(){var a={0:"DEBUG",1:"INFO",2:"WARN",3:"ERR"};return{log:function(b,c){b>=logLevel&&window.console&&console.log(a[b]+": "+c)}}}(),ProductController={},ConfiguratorController=function(){function a(){void 0!==typeof Product.config.hasDivision&&Product.config.hasDivision&&($("#a_"+Product.attribute.divisionHeight.y1+", #a_"+Product.attribute.divisionHeight.y2).change(function(){DivisionController.updateHeightDivision(parseInt($(this).attr("rel-id")),parseInt($(this).val()))}),$("#a_"+Product.attribute.divisionWidth.x1+", #a_"+Product.attribute.divisionWidth.x2+", #a_"+Product.attribute.divisionWidth.x3).change(function(){$("#a_"+Product.attribute.width).val()>0&&DivisionController.updateWidthDivision(parseInt($(this).attr("rel-id")),parseInt($(this).val()))}))}function b(){$(".preview-gallery").click(function(){var a,b,e,f=0,g="";try{a=JSON.parse($(this).attr("tmp-gallery")),g+='<div id="preview-gallery">',g+='<div id="previous-image" class="fa fa-angle-left"></div>',g+='<div class="svg-swipe-area"></div>',g+='<div class="slides">',g+='<span id="exit-preview"><svg class="fv-icon fv-close" viewBox="0 0 16 16"><polygon points="16 1.1 14.9 0 8 6.9 1.1 0 0 1.1 6.9 8 0 14.9 1.1 16 8 9.1 14.9 16 16 14.9 9.1 8" class="fill-neutral"></polygon></svg></span>';for(e in a)f++,g+='<div class="slide" style="'+(f>1?"display:none":"")+'">',b=a[e],g+='<object style="width:100%" class="img-responsive" type="image/svg+xml" data="'+b.url+'"></object>',g+="</div>";g+='</div><div id="next-image" class="fa fa-angle-right"></div></div>',c(!0),$("footer").after(g),d(),$("#preview-gallery").click(J),$("#preview-gallery .svg-swipe-area").click(function(a){a.stopPropagation()}),$("#exit-preview").click(J),$("#previous-image").click(function(a){a.stopPropagation(),K()}),$("#next-image").click(function(a){a.stopPropagation(),L()})}catch(a){Logger.log(Log.ERR,"ConfiguratorController preview-gallery click")}})}function c(a){!0===a?($("html, body").css("overflow","hidden"),document.body.addEventListener("touchmove",I,!1)):($("html, body").css("overflow",""),document.body.removeEventListener("touchmove",I,!1))}function d(){if($("#preview-gallery").is(":visible")){var a=$("#preview-gallery .svg-swipe-area, #preview-gallery .slide"),b=window.innerWidth,c=window.innerHeight,d=b<c?b:c,e=(c-b)/2,f=(b-c)/2;$(".configurator-mobile-affix").is(":visible")?(e=e>0?e:0,f=f>0?f:0,a.css({width:d,height:d,top:e,left:f}),$("#preview-gallery .svg-swipe-area").on("swipeleft",K).on("swiperight",L)):a.css({width:"",height:"",top:"",left:""})}}function e(a){$("#attributePanel_"+a+" input").on("click",function(){Q($(".tooltip-switch").parent(),!1)})}function f(a,b){var c=(a+"e").split("e");return c=(Math.round(c[0]+"e"+(+c[1]+b))+"e").split("e"),+(c[0]+"e"+(+c[1]-b))}function g(){var a,b=$("#page_"+Configurator.currentPage+" .configuration-invalid:visible, #page_"+Configurator.currentPage+" .error > .configurator-error"),c=b.length>0;return c&&(a=b.first().attr("rel-id"),ConfiguratorController.scrollToCenter(a,Configurator.currentPage)),c}function h(){if(void 0!==Configurator.valueDependencies&&void 0!==Configurator.valueDependencies.triggers){Configurator.idToDeactivateList=[];for(var a in Configurator.valueDependencies.triggers)$("#av_"+a+":not(.mock-value)").is(":checked")&&(Ra(),Qa(a));for(var b in Configurator.valueDependencies)$("#av_"+b+":not(.mock-value)").is(":checked")&&k(b);j()}}function i(a,b){Logger.log(Log.DEBUG,"updateValueDependencies("+a+", "+b+")"),void 0!==Configurator.valueDependencies&&(b&&(Configurator.idToDeactivateList=[]),Qa(a),Ra(),k(a),j())}function j(){var a,b;for(a in Configurator.alteredAttributeIdList)b=Wa(Configurator.alteredAttributeIdList[a],!0),Logger.log(Log.DEBUG,"updateSelectedValuesIfInvalid() for "+b),delete Configurator.alteredAttributeIdList[a],b>0&&i(b,!1)}function k(a){var b,c,d,e,f,g,h,i,j=[],k=[],m=Configurator.valueDependencies[a];if(void 0!==m&&"object"==typeof m){for(b in m){c=m[b],h=!0,i=!1;for(d in c.triggerValues)e=c.triggerValues[d],f=$("#av_"+e).attr("rel-orig"),delete Configurator.activeValueTriggerIds[e],!1===Sa(e)&&(h=!1),!1===Ha(f)&&(i=!0);if(i)for(d in c.triggerValues)e=c.triggerValues[d],-1===$.inArray(e,Configurator.activeValueTriggerIds)&&Configurator.activeValueTriggerIds.push(e);else h?(j[b]=c,Configurator.idToDeactivateList.push(c.disableValueId)):Ta(c.disableValueId)&&(k[b]=c)}for(var n in j){c=j[n],l(c.disableValueId,c.disableTypeId);for(d in c.triggerValues)e=c.triggerValues[d],-1===$.inArray(e,Configurator.activeValueTriggerIds)&&Configurator.activeValueTriggerIds.push(e)}for(n in k)g=k[n].disableValueId,-1===$.inArray(g,Configurator.idToDeactivateList)&&(Ua(g),Va(g))}}function l(a,b){var c,d,e=$("#av_"+a);switch(b){case 1:e.hasClass("hidden")||(Va(a),e.addClass("hidden"),$(".vc_"+a).hide());break;case 2:e.is(":disabled")||(Va(a),ia(a,!1));break;case 3:case 4:e.hasClass("bannerized")||void 0!==(c=$("#dt_"+a))&&(Va(a),d=c.val(),$("#al_"+a).find(".configurator-image-container").append('<div class="configurator-dependency-ribbon">'+d+"</div>"),e.addClass("bannerized"))}}function m(a,b,c,d,e){d&&$("#attributePanel_"+a).find(".ral-color-input").val("").keyup(),$('input[name="a_'+a+'"]:not(['+b+'*="['+c+']"])').parent().parent().addClass("hidden-"+b),$('input[name="a_'+a+'"]['+b+'*="['+c+']"]').parent().parent().removeClass("hidden-"+b),e&&ConfiguratorController.selectValue($("#attributePanel_"+a+" label:visible:first-of-type").attr("rel-value"),!0)}function n(a){var b,c,d,e,f=0;$(".value-promotion-banner").remove();for(b in a)"complete"!==b&&(e=a[b],c=$("#al_"+b),
c.prepend('<div rel-max-value="'+e.is_max_value+'" rel-discount="'+e.discount+'" rel-id="'+b+'" class="value-promotion-banner">'+e.text+"</div>"),o(a,":not(#av_"+b+")",c.find("input").attr("name"))),f++;1===f&&void 0!==a.complete&&(d=$("#page_0 > div").find("input:first-of-type"),o(a,"",d.attr("name")))}function o(a,b,c){var d;void 0!==a.complete&&$('input[name="'+c+'"]'+b).each(function(){d=$(this).val(),void 0===a[d]&&0===$('.value-promotion-banner[rel-id="'+d+'"]').length&&$(this).closest("label").prepend('<div rel-max-value="false" rel-discount="'+a.complete.discount+'" rel-id="'+d+'" class="value-promotion-banner">'+a.complete.text+"</div>")})}function p(a,b){if(b>0){var c,d=$("#attributePanel_"+a),e=d.attr("rel-name")+" ("+d.attr("rel-id")+") was changed by System",f="";d.find("label.hidden input, label.disabled input, label.bannerized input").each(function(){c=$(this).val(),f+='<br>"'+$("#avt_"+c).html().replace(/<\/?[^>]+(>|$)/g," ").trim()+'" ('+c+") is not selectable anymore; <br>"});var g="#avt_"+b,h=$(g);h.length?f+='<br>"'+h.html().replace(/<\/?[^>]+(>|$)/g," ").trim()+'" ('+b+") was selected; ":f+='<br>Selected value not found: "'+g+'"',Logger.log(Log.DEBUG,e+" : "+f.replace(/<br>/g,"")),s&&toastr.warning(f,e)}}var q,r,s,t=0,u=!1,v=function(c,d,e,f,g,i,j,k,l){1!==e&&1!==f&&1!==g||(t=1,$("label.active").addClass("customer-click")),s=l,r=g,665!==Configurator.productId&&869!==Configurator.productId||(u=!0),Configurator.previousRequestType=null,Configurator.translator=Translator[c],Configurator.translator.replace=Translator.replace,Configurator.tax=d,Configurator.promotion=i,Configurator.oldConfiguration={},Configurator.disabledValuesByCustom=[],Configurator.disabledAttributesByCustom=[],Configurator.activeValueTriggerIds=[],Configurator.disabledTriggerChanges=[],Configurator.disabledValues=[],Configurator.alteredAttributeIdList=[],$("body").addClass("configurator-active"),gb(),y(e,f),Ma(Configurator.dependencies),C(),void 0!==ProductController.fixOldOpeningTypeRelations&&0!==j&&ProductController.fixOldOpeningTypeRelations(j,k),h(),Ka(!0),Ga(!e&&!f),_(),ea(),fa(),H(),b(),M(),O(e,f,g),U(),fb(),F(),G(),aa(),cb(),w(),P(),z(),A(),B(),x(),"function"==typeof initBannerCountdown&&initBannerCountdown(),n(Configurator.productPromotions),void 0!==ProductController.updateMinimumPriceForPromotion&&ProductController.updateMinimumPriceForPromotion(),a(),void 0!==ProductController.initSprouts&&ProductController.initSprouts(),Z()&&($("body").on("click",'label > img, label img[id^="avi_"]',function(){$("#"+$(this).parents("label").attr("for")).click(),ConfiguratorController.update()}),$(".configurator-right-block-price:empty").prev(".description").addClass("price-empty")),633===Configurator.productId&&ProductController.handleVarianteDependensies(),1===e||1===f?(25!==Configurator.productId&&10!==Configurator.productId&&633!==Configurator.productId||(ProductController.hasShutter()&&ProductController.initShutter(),ProductController.hasOutsideWindowSill()&&OutsideWindowSillController.init(!1)),ConfiguratorController.update()):Core.initFwdLinks()},w=function(){var a=$(".configurator-custom-select");a.selectpicker(),/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&a.selectpicker("mobile")},x=function(){var a=$("#configuratorForm");1===a.find('input[type="tel"]').length&&a.append('<input name="dummy" type="text" style="display:none !important;" />')},y=function(a,b){var c,d=history.length+1;$(document).click(function(){$(window).on("popstate",function(a){a.stopPropagation(),a.stopImmediatePropagation(),c=$(".preview-gallery"),1===c.length?c.remove():Configurator.currentPage>0?(this.previousPage(),history.pushState({},"")):0===$("#shutdownModal").length?history.back():$("#shutdownModal").modal({show:"true",backdrop:"true",keyboard:"true"})}),history.length<d&&history.pushState({},"")})},z=function(){if($("#configurator-affix").is(":visible")&&"1"!==getCookie("fv.configurator.visited")){var a=$("#entryModal");a.modal({show:"true",backdrop:"true",keyboard:"true"}),a.appendTo("body"),setCookie("fv.configurator.visited","1",0)}},A=function(){var a=location.search;"1"!==getCookie("FV-SkipMontageModal")&&$("#montageModal").length&&a.includes("showMM")&&($("#montageModal").modal({show:"true",backdrop:"true",keyboard:"true"}).appendTo("body"),setCookie("FV-SkipMontageModal","1",0))},B=function(){setTimeout(function(){var a=new Date,b=a.getDay();b>0&&b<6&&a.getHours()>=8&&a.getHours()<18&&$("#alert-modal").fadeIn()},12e4)},C=function(){switch(Configurator.productId){case 25:OutsideWindowSill=OutsideWindowSillForWindow,ProductController=WindowController,ProductController.init(Window),Logger.log(Log.INFO,"Loading Window Configurator");break;case 10:OutsideWindowSill=OutsideWindowSillForDoor,ProductController=WindowController,ProductController.init(Door),Logger.log(Log.INFO,"Loading Door Configurator");break;case 633:ProductController=WindowController,ProductController.init(SlidingDoor),Logger.log(Log.INFO,"Loading Slidingdoor Configurator");break;case 614:ProductController=FrontDoorController,ProductController.init(FrontDoor),Logger.log(Log.INFO,"Loading Frontdoor Configurator");break;case 6:OutsideWindowSill=OutsideWindowSillStandalone,ProductController=OutsideWindowSillController,ProductController.init(!0),Logger.log(Log.INFO,"Loading Outsidewindowsill Configurator");break;case 5:ProductController=WindowSillController,ProductController.init(WindowSill),Logger.log(Log.INFO,"Loading Windowsill Configurator");break;case 4:ProductController=CoverStripController,ProductController.init(CoverStrip),Logger.log(Log.INFO,"Loading Coverstrip Configurator");break;case 665:ProductController=InothermFrontDoorController,ProductController.init(InothermFrontDoor),Logger.log(Log.INFO,"Loading Inotherm Frontdoor Configurator");break;case 868:ProductController=ShadingSystemController,ProductController.init(ShadingSystem),Logger.log(Log.INFO,"Loading Shading System Configurator");break;case 869:ProductController=PirnarFrontDoorController,ProductController.init(PirnarFrontDoor),Logger.log(Log.INFO,"Loading Pirnar Front Door Configurator");break;default:ProductController=DefaultController,ProductController.init(Default),Logger.log(Log.INFO,"Loading Default Product Configurator")}},D=function(){ProductController.preUpdate()},E=function(a){ProductController.postUpdate(a)},F=function(){$(document).delegate('*[data-toggle="lightbox"]',"click",function(a){a.preventDefault(),$(this).ekkoLightbox()})},G=function(){$(document).on("click",'*[data-toggle="gallery"]',function(a){a.preventDefault();var b=$(this).data("gallery"),c={urlProperty:"data.urls[0]"};blueimp.Gallery(b,c)})},H=function(){var a=$(".sticky-affix");$("#configurator-affix").on("shown.bs.collapse hidden.bs.collapse",function(){V()}),a.is(":visible")?(Logger.log(Log.DEBUG,"ConfiguratorController initAffix()"),a.stick_in_parent({offset_top:62}).on("sticky_kit:bottom",function(a){$(this).parent().css("position","absolute").css("bottom","100px")}).on("sticky_kit:unbottom",function(a){$(this).parent().css("position","relative").css("bottom","unset")}),$(".affix-steps").on("shown.bs.collapse",function(){N()}).on("hidden.bs.collapse",function(){N()}).on("show.bs.collapse",function(){var a=$("body"),b=$(this).parent().offset().top,c=$(this).parent().height(),d=$(this).clone();d.show(),a.append('<div id="tmp-step" style="position: absolute;left:-1000px;">'+d.html()+"</div>");var e=$("#tmp-step"),f=e.height();b+c+f>a.height()-$(".footer").outerHeight()-50&&(window.scrollBy(0,-1*f),N()),e.remove()}),V(),X()):a.stick_in_parent("sticky_kit:detach")},I=function(a){a.preventDefault()},J=function(){c(!1),$("#preview-gallery").remove()},K=function(){var a=$(".slide:visible");void 0!==a&&(a.hide(),a.is(":first-of-type")?$(".slide").last().show():a.prev(".slide").show())},L=function(){var a=$(".slide:visible");void 0!==a&&(a.hide(),a.is(":last-of-type")?$(".slide").first().show():a.next(".slide").show())},M=function(){$(window).resize(function(){H()})},N=function(){$(".sticky-affix").trigger("sticky_kit:recalc"),void 0!==ProductController.reRenderSVG&&ProductController.reRenderSVG()},O=function(a,b,c){$(".accordion").each(function(){var d=$(this).attr("rel-id"),e=!1;$(this).hasClass("accordion_collapsed")&&((a||b||c)&&($("#accordionPanel_"+d).find('input:radio[rel-no="0"]').each(function(){"checked"===$(this).attr("checked")&&(e=!0)}),$(".accordionChildPanel_"+d).each(function(){"checked"===$(this).find('input:radio[rel-no="0"]').attr("checked")&&(e=!0)})),e?T(d,!0):S(d,!1,!0))})},P=function(){$("h4.accordion-h4, h5.accordion-h5").on("click",function(){var a=$(this);a.children(".btn-details").toggle();var b=$("#collapse_"+a.attr("rel-id"));Q(b,!0),b.siblings("h4").toggleClass("tooltip-visible"),b.slideToggle()})},Q=function(a,b){var c,d,f,g,h,i=a.find(".tooltip-switch"),j=[];i.length>0&&(i.hide(),i.each(function(){d=$(this).attr("rel-id").split(",");for(h in d)f=d[h],g=$("#av_"+f).attr("rel-orig"),c=Ha(g)&&Sa(f),!0===b&&void 0===j[g]&&(e(g),j[g]=!0),c&&$(this).show()}))},R=function(a){$("#accordion_"+a).hasClass("accordion_collapsed")?T(a,!0):S(a,!0,!1)},S=function(a,b,c){var d=$("#accordion_"+a),e=$("#accordionPanel_"+a),f=$(".accordionChildPanel_"+a);b&&(d.removeClass("accordion_expanded").removeClass("glyphicon-minus-sign"),d.addClass("accordion_collapsed").addClass("glyphicon-plus-sign")),c||(e.find('input:radio[rel-no="0"]').prop("checked",!1),e.find('input:radio[rel-no="0"]').parent().removeClass("active"),e.find('input:radio[rel-no="1"]').prop("checked",!0),f.each(function(){$(this).find('input:radio[rel-no="0"]').prop("checked",!1),$(this).find('input:radio[rel-no="1"]').prop("checked",!0)}),Ma(Configurator.dependencies),update()),e.hide().addClass("accordionPanelCollapsed"),f.hide().addClass("accordionPanelCollapsed")},T=function(a,b){var c=$("#accordion_"+a),d=$("#accordionPanel_"+a),e=$(".accordionChildPanel_"+a);b&&(c.removeClass("accordion_collapsed").removeClass("glyphicon-plus-sign"),c.addClass("accordion_expanded").addClass("glyphicon-minus-sign")),d.show().removeClass("accordionPanelCollapsed"),e.show().removeClass("accordionPanelCollapsed"),Ma(Configurator.dependencies)},U=function(){$(".showComparison").click(function(){var a=$(this).attr("rel-id");$(this).hide(),$("#hideComparison_"+a).show(),$("#attributePanel_"+a+" .expandable").slideDown()}),$(".hideComparison").click(function(){var a=$(this).attr("rel-id");$(this).hide(),$("#showComparison_"+a).show(),$("#attributePanel_"+a+" .expandable").slideUp()})},V=function(){Logger.log(Log.DEBUG,"ConfiguratorController updateAffix()");var a,b,c,d,e,f,g,h,i=[],j=Configurator.productPreviewAttributes.length;for(b=0;b<j;b++){for($(".affix-step-"+b).show(),c=Configurator.productPreviewAttributes[b].length,i[b]=[],d=0,e=null,f=0;f<c;f++)ConfiguratorController.isPanelActive(Configurator.productPreviewAttributes[b][f])&&void 0!==Configurator.configuration["a_"+Configurator.productPreviewAttributes[b][f]]&&null!==Configurator.configuration["a_"+Configurator.productPreviewAttributes[b][f]]&&(g=null,Configurator.configuration["a_"+Configurator.productPreviewAttributes[b][f]].isCustom?g=$("#a_"+Configurator.productPreviewAttributes[b][f]).val():(h=$("#al_"+Configurator.configuration["a_"+Configurator.productPreviewAttributes[b][f]].value),g=h.hasClass("size-picker-option")?h.find(".description").html():$("#avt_"+Configurator.configuration["a_"+Configurator.productPreviewAttributes[b][f]].value).html()),void 0!==g&&null!==g&&g.length>0&&(g=g.replace(/<br>/g," "),a=$("#anu_"+Configurator.productPreviewAttributes[b][f]).val(),void 0!==a&&(g+="&nbsp;"+a),null!==e&&e===Configurator.configuration["a_"+Configurator.productPreviewAttributes[b][f]].aName?i[b][d-1]+=" - "+stripHtml(g):(null!==e&&(i[b][d-1]+="</a>"),i[b][d++]='<a class="list-group-item" onclick="ConfiguratorController.scrollTo('+b+","+Configurator.productPreviewAttributes[b][f]+',false)"><b>'+Configurator.configuration["a_"+Configurator.productPreviewAttributes[b][f]].aName+": </b>"+stripHtml(g)),e=Configurator.configuration["a_"+Configurator.productPreviewAttributes[b][f]].aName));0===i[b].length?$("h5.affix-step-"+b).hide():$("h5.affix-step-"+b).show(),$(".selectedAttributeValues_"+b).html(i[b].join(""))}!1===u&&W(),N()},W=function(){Logger.log(Log.DEBUG,"updateAffixImage()"),$("#affix-preview-image").html(ProductController.getPreviewImage(!0))},X=function(){var a=$(".affix-step-"+Configurator.currentPage);a.is(":visible")&&(a.collapse("show"),$(".affix-steps:not(#affix-step-"+Configurator.currentPage+")").collapse("hide"))},Y=function(a){var b=null;$(".configurator-pill-step").each(function(){$(this).unbind("click");var a=$(this).attr("rel-page");$(this).removeClass("previous").removeClass("active"),Configurator.currentPage===parseInt(a)?$(this).addClass("active"):Configurator.currentPage>parseInt(a)?($(this).addClass("previous"),$(this).click(function(){Ea()}),$(this).addClass("validated")):(t&&Configurator.currentPage<parseInt(a)||null!==b&&b.hasClass("validated"))&&($(this).addClass("previous"),$(this).click(function(){ConfiguratorController.nextPage()})),t&&$(this).addClass("validated"),b=$(this)}),!0===a?$("#configurator-step-container").hide():$("#configurator-step-container").show()},Z=function(){return!!(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},_=function(){for(var a=$("img[data-hover]"),b=a.length,c=0;c<b;c++)$(a[c]).attr("data-hover")!==$(a[c]).attr("src")&&$("<img />").attr("src",$(a[c]).attr("data-hover"))},aa=function(){ba($(".tt:not(.disabled)")),ca($("label.disabled")),$(".img-hover").webuiPopover({type:"html",content:function(a){return $(this).attr("data-hover")===$(this).attr("src")?'<img class="img-rounded" style="float:right;width:220px;max-width:220px;padding-bottom:15px;padding-top:5px;" src="'+$(this).attr("src")+'" />':$(this).attr("data-hover")===$(this).css("background-image").replace(/^url\(['"](.+)['"]\)/,"$1")?'<img class="img-rounded" style="float:right;width:220px;max-width:220px;padding-bottom:15px;padding-top:5px;" src="'+$(this).css("background-image").replace(/^url\(['"](.+)['"]\)/,"$1")+'" />':'<img class="img-rounded" style="float:right;width:470px;max-width:470px;padding-bottom:15px;padding-top:5px;" src="'+$(this).attr("data-hover")+'" />'},placement:"auto",trigger:"hover",constrains:"vertical",delay:1,multi:!1,arrow:!0,closeable:!1,padding:!0}),$(".warningText").tooltip(),$(".noticeText").tooltip()},ba=function(a){a.webuiPopover({type:"async",content:function(a){var b=$(this);return $(a).find("img").on("load",{self:this},function(a){b.webuiPopover("show")}),a},placement:"auto",trigger:"hover",constrains:"vertical",delay:0,multi:!1,arrow:!0,closeable:!1,padding:!0})},ca=function(a){a.webuiPopover({type:"async",content:function(a){return Configurator.translator.notAvailableInConfiguration},trigger:"hover",delay:0,arrow:!0,closeable:!1})},da=function(a){a.webuiPopover("destroy"),a.hasClass("disabled")?ca(a):a.hasClass("tt")&&ba(a)},ea=function(){$(document).on("click","button.into-cart-button",function(b){b.stopPropagation(),b.stopImmediatePropagation(),b.preventDefault(),a()}),[].slice.call(document.querySelectorAll(".progress-button")).forEach(function(b){new UIProgressButton(b,{callback:function(b){q=b;var c,d=0,e=!1;a(function(a){c=a});var f=setInterval(function(){d=Math.min(d+.1*Math.random(),1),1===d&&(d=.9,b.setProgress(d),e=!0),!1===e&&b.setProgress(d),void 0!==c&&!1===c&&(b.setProgress(1),b.stop(c.code?1:-1),clearInterval(f))},50)}})});var a=function(a){var b;if(a=a||function(){},665===Configurator.productId||869===Configurator.productId){var c=document.getElementById("canvas-exterior"),d=document.getElementById("canvas-interior");if(null!==c&&null!==d&&void 0!==c.getAttribute("rel-url")&&void 0!==d.getAttribute("rel-url"))return void canvg("canvas-exterior",c.getAttribute("rel-url"),{ignoreDimensions:!0,scaleWidth:100,scaleHeight:100,renderCallback:function(){canvg("canvas-interior",d.getAttribute("rel-url"),{ignoreDimensions:!0,scaleWidth:100,scaleHeight:100,renderCallback:function(){return b=ka(),a(b),b}})}})}return b=ka(),a(b),b},b=$(".template-btn");b.length&&b.click(function(){ga()}),$(".btn-detail-show, .btn-detail-hide").click(function(a){a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault();var b=$(this).attr("rel-id");$(this).toggle(),$(this).siblings('.btn-detail[rel-id="'+b+'"]').toggle(),$("#attributePanel_"+$(this).attr("rel-id")).find(".small-configurator-tile-comparison").find(".expandable").slideToggle()}),$("#showDetailsMobile").click(function(){$("#configuratorAttributes").css("display","none"),$("#configuratorDetailsMobile").css("display","block")})},fa=function(){$(document).on("click","#exit-configurator",function(){Configurator.currentPage>0?history.go(-Configurator.currentPage):history.back()}),$(document).on("click","#proceed-with-configurator",function(){history.pushState({},""),console.log("history.pushState"),$("#shutdownModal").hide()})},ga=function(){Ka(!0),"update"!==Configurator.previousRequestType&&0!==Configurator.currentRequest&&Configurator.currentRequest.abort();var a={configuration:Configurator.configuration,mode:parseInt($("#mode").val()),productId:parseInt($("#productId").val()),templateId:$("#templateId").val()};Configurator.currentRequest=$.post("/template/save",a,function(a){1===a.code?window.location=a.fwd:alert("Error #"+a.code+": "+a.msg)},"json"),Configurator.previousRequestType="save"},ha=function(a,b){var c=$("#av_"+a),d=$("#al_"+a);void 0!==c&&!1===c.prop("checked")&&(c.prop("checked",!0),updateTiles(d,c,!0),(void 0===b||b)&&update(),p(c.attr("rel-orig"),a))},ia=function(a,b){var c=$("#av_"+a);if(!1===c.is(":disabled")){c.prop("disabled",!0),c.removeAttr("checked");var d=c.closest("label");return void 0!==b&&b&&d.addClass("force-disable"),d.css("color","#666").css("cursor","default").removeClass("active").addClass("disabled"),da(d),!0}return!1},ja=function(a,b){var c=$("#av_"+a),d=c.closest("label");return!(!b&&!1!==d.hasClass("force-disable")||!c.is(":disabled")||-1!==$.inArray(a,Configurator.disabledValues)||-1!==$.inArray(a,Configurator.disabledValuesByCustom))&&(c.prop("disabled",!1),d.removeClass("force-disable"),d.css("color","#000").css("cursor","pointer").removeClass("disabled"),da(d),!0)},ka=function(){var a,b,c={},d=$("#order");if(665!==Configurator.productId&&869!==Configurator.productId||(a=document.getElementById("canvas-exterior"),b=document.getElementById("canvas-interior"),null!==a&&null!==b&&(c.imgData={exterior:a.toDataURL(),interior:b.toDataURL()},c.fileName={exterior:a.getAttribute("rel-url"),interior:b.getAttribute("rel-url")})),Ka(!0),!1===ProductController.isValid())return!1;"update"!==Configurator.previousRequestType&&0!==Configurator.currentRequest&&Configurator.currentRequest.abort(),c.configuration=Configurator.configuration,c.mode=parseInt($("#mode").val()),c.productId=parseInt($("#productId").val()),c.cKey=$("#cKey").val(),d.length>0&&(c.order=d.val()),Configurator.currentRequest=$.post("/configurator/save",c,function(a){switch(a.code){case 1:void 0!==q&&null!==q?(q.setProgress(1),q.stop(1),setTimeout(function(){window.location=a.fwd},300)):window.location=a.fwd;break;case 2:return toastr.error(Fensterversand.lang.productEditWrongShop,Fensterversand.lang.errorHead),!1;default:return Logger.log(Log.ERR,"Error #"+a.code+": "+a.msg),alert(Configurator.translator.configuratorErrorSavingCart),!1}},"json"),Configurator.previousRequestType="save"},la=function(a){Configurator.range.x_min=a.dimensions.range.min.x,Configurator.range.x_max=a.dimensions.range.max.x,Configurator.range.y_min=a.dimensions.range.min.y,Configurator.range.y_max=a.dimensions.range.max.y,Configurator.dimensions=a.dimensions.all,Configurator.shutter=a.shutter,Configurator.isAvailable=a.isAvailable,Configurator.notifications=a.notifications,Configurator.parameters=a.parameters.p,Configurator.parametersChanged=JSON.stringify(Configurator.parametersForSVG)!==JSON.stringify(a.parameters.svg),Configurator.parametersForSVG=a.parameters.svg},ma=function(a){Logger.log(Log.DEBUG,"ConfiguratorController send()"),Na(a),Ka(!1),D(),"update"===Configurator.previousRequestType&&Configurator.currentRequest&&4!==Configurator.currentRequest.readyState&&(Logger.log(Log.DEBUG,"ConfiguratorController send(): abort current request"),Configurator.currentRequest.abort(),Configurator.currentRequest=null),Logger.log(Log.DEBUG,"ConfiguratorController send(): send request..."),Configurator.currentRequest=$.ajax({type:"POST",url:"/configurator/update",data:{configuration:Configurator.configuration,productId:Configurator.productId},dataType:"json",success:na,beforeSend:qa,error:function(a,b,c){"abort"!==b?Logger.log(Log.ERR,"request failed: "+c):Logger.log(Log.DEBUG,"ConfiguratorController send(): request aborted error")}}),Configurator.previousRequestType="update"},na=function(a){var b,c=0,d=0,e=0,g=$(".full-price");if(a.hasOwnProperty("type")&&2===a.type)return g.each(function(){$(this).html(Ba(a.price.total))}),$(".into-cart-button button, .btn-pre-save").prop("disabled",!1),!0;n(a.productPromotions),oa(a),xa(a.price),ya(a.basePrices),ta(a),c=wa(a),c+=getPriceByPercent(c,Configurator.tax),g.each(function(){$(this).html(Ba(c))});var h=0;if(void 0!==a.productPromotions.complete&&(h=a.productPromotions.complete.discount),b=$('.page > div:not([style*="display: none"]) label.active .value-promotion-banner[rel-max-value="false"]'),b.length>0){var i=parseInt(b.attr("rel-discount"));i>h&&(h=i)}a.promotion>0&&(h+=a.promotion),h>0?(e=f(c*((100-h)/100),2),d=c-e,$("span.promotion-saving").find(".percent").html(h),$("#promotionSaving").html(Ba(d)),$("span.promotionPrice").html(Ba(e)),$("#promotionPrice").html(Ba(e)),$("#promotionSavingMobile").html(Ba(d)),$("#promotionPriceMobile").html(Ba(e)),$("#discount-price-preview").show(),$("#normal-price-preview").hide()):($("#discount-price-preview").hide(),$("#normal-price-preview").show()),ra(a),ProductController.notAvailable(a),la(a),E(a);var j=$(".dyn-discount-subpage");j.length>0&&$("#stepsImage").length>0&&$("#stepsImage .dyn-discount-subpage").length<=0&&j.detach().appendTo("#stepsImage").css("opacity","1").show(),pa()},oa=function(a){var b,c,d,e,f,g={};if(void 0!==Product.config.priceRequired){for(b in Product.config.priceRequired)b=parseInt(b),c=0===a.price[b]||0===a.basePrices[b]?ia(b,!0):ja(b,!0),d=Product.config.priceRequired[b],c&&(Wa(d,!0),g[d]=!0);for(d in g)void 0!==Product.config.priceRequiredDependencyDeactivation&&void 0!==(e=Product.config.priceRequiredDependencyDeactivation[d])&&(f=$("#attributePanel_"+d+' div:not([style*="display: none"]) > label:not([style*="display: none"]) input:not(:disabled):not()').length,(c=0===f?ia(e.valueId,!0):ja(e.valueId,!0))&&Wa(e.attributeId,!0))}},pa=function(){$("span.viewDuringAjaxRequest").hide(),$("span.finalPriceLabel, span.promotionPrice").show(),$(".next-button").prop("disabled",!1),$(".into-cart-button button, .btn-pre-save").prop("disabled",!1),!0===Configurator.goToNextPage&&(Configurator.goToNextPage=!1,Configurator.disableButtons=!0,Da())},qa=function(){$("span.viewDuringAjaxRequest").show(),$("span.finalPriceLabel, span.promotionPrice").hide(),!1!==Configurator.disableButtons&&($(".next-button").prop("disabled",!0),$(".into-cart-button button, .btn-pre-save").prop("disabled",!0))},ra=function(a){$("input.ignore.notification-error").removeClass("ignore").removeClass("notification-error");var b;if($(".configuration-invalid").css("display","none"),void 0!==a.notifications&&0!==a.notifications.length)for(b in a.notifications)$("#errorMessage_"+b).html('<i class="minus-icon"></i><div>'+Configurator.translator.configuratorErrorShutter+"</div>").show(),$('div.page > div[rel-id="'+b+'"] input').removeClass("valid").addClass("ignore notification-error");g()},sa=function(a,b,c,d,e,f){a.rules("remove"),a.rules("add",{required:!0,min:b,max:c,messages:{required:d,min:e,max:f}})},ta=function(a){var b,c;if(void 0!==a.dimensions.calculation)for(b in a.dimensions.calculation)c=$("#a_"+b),parseInt(c.val())!==a.dimensions.calculation[b]&&c.attr("placeholder",a.dimensions.calculation[b]);return void 0!==ProductController.handleDimensionResult&&ProductController.handleDimensionResult(a),void 0!==ProductController.customRangeValidation?(ProductController.customRangeValidation(),null):(ua(a,"x"),ua(a,"y"),void 0!==ProductController.validateSizes?(ProductController.validateSizes(),null):void 0)},ua=function(a,b){var c,d,e,f,g,h;void 0!==a.dimensions.relation[b]&&(f=va(a.dimensions.range.min[b],a.dimensions.range.max[b],"mm"),h=$("#allowedRangeInfo_"+a.dimensions.relation[b]),h.html(f),g=$("#a_"+a.dimensions.relation[b]),c=h.attr("data-min").replace(":min",a.dimensions.range.min[b]),d=h.attr("data-max").replace(":max",a.dimensions.range.max[b]),e=h.attr("data-required"),sa(g,a.dimensions.range.min[b],a.dimensions.range.max[b],e,c,d))},va=function(a,b,c){return a+"&nbsp;"+c+"&nbsp;-&nbsp;"+b+"&nbsp;"+c},wa=function(a){var b,c=a.basePrice,d=[],e=0,f=0;for(var g in Configurator.configuration)Configurator.configuration[g].isCustom||void 0===Configurator.priceInfo[Configurator.configuration[g].value]||void 0===Configurator.priceInfo[Configurator.configuration[g].value].p||(b=Configurator.priceInfo[Configurator.configuration[g].value],"1"===b.base&&(c+=parseFloat(b.p)),1===b.type&&(d[e++]=b.p),"1"===b.base||2!==b.type&&3!==b.type||(f+=parseFloat(b.p)));for(var h=0;h<e;h++)f+=getPriceByPercent(c,d[h]);return c+f},xa=function(a){var b,c,d,e,f,g,h;for(c in Configurator.priceInfo)g=a[c],e=$("#pl_"+c),f=$("#pd_"+c),void 0===g&&1===parseInt(Configurator.priceInfo[c].base)?(Configurator.priceInfo[c].p=0,f.hide(),f.siblings(".configurator-max-size, .configurator-min-size").show()):void 0!==g&&(Configurator.priceInfo[c].p=g,h=!1,d=parseInt($("#av_"+c).attr("rel-orig")),5!==Configurator.productId&&6!==Configurator.productId||22!==d&&17!==d||(h=!0),void 0!==(b=h?Aa(g):za(g,!1))&&null!==b&&(e.html(b),f.length&&f.html(b),!1===isNaN(g)&&g>0&&!1===e.hasClass("hidden-price")?(e.show(),e.hasClass("placeholder-price")&&e.css("visibility","visible"),f.length&&(f.show(),f.siblings(".configurator-max-size, .configurator-min-size").hide())):(e.hasClass("placeholder-price")?e.css("visibility","hidden"):e.hide(),f.length&&(f.hide(),f.siblings(".configurator-max-size, .configurator-min-size").show()))))},ya=function(a){var b,c;for(c in a)b=za(a[c],!0),$("#pl_"+c).html(b).show()},za=function(a,b){var c=formatZahl(parseFloat(a)+getPriceByPercent(a,Configurator.tax),2,!0),d="";return!1===b&&(d="+&nbsp;"),d+c+"&nbsp;"+Configurator.translator.currency},Aa=function(a){return 0===a?null:'<span class="label-baseprice-prefix">=</span>&nbsp;'+formatZahl(parseFloat(a)+getPriceByPercent(a,Configurator.tax),2,!0)+"&nbsp;"+Configurator.translator.currency},Ba=function(a){return formatZahl(a,2,!0)+"&nbsp;"+Configurator.translator.currency},Ca=function(){0===Configurator.currentPage?($("#gotoConfiguratorButton").show(),$("#subHeadline_0").show(),$("#subHeadline_1").hide(),$("#stepsImage").show()):($("#gotoConfiguratorButton").hide(),$("#subHeadline_0").hide(),$("#subHeadline_1").show(),$("#stepsImage").hide())},Da=function(){return Logger.log(Log.DEBUG,"ConfiguratorController nextPage()"),!!ProductController.isValid()&&($("input:focus").blur(),Configurator.currentPage++,Configurator.maxVisitedPage=Configurator.currentPage,Ga(),Ca(),scrollToTop(),fa(),!0)},Ea=function(){Logger.log(Log.DEBUG,"ConfiguratorController previousPage()"),Configurator.currentPage--,Ga(),Ca(),scrollToTop()},Fa=function(a){Logger.log(Log.DEBUG,"ConfiguratorController toPage()"),Configurator.currentPage=a,Ga(),Ca()},Ga=function(a){Logger.log(Log.DEBUG,"managePaging"),void 0===a&&(a=!1);for(var b=0;b<Configurator.totalPages;b++)b===Configurator.currentPage?Ya($("#page_"+b)):Xa($("#page_"+b));Configurator.totalPages>1?0===Configurator.currentPage?($(".back-button").hide(),$(".next-button").show(),$(".into-cart-button, .btn-pre-save").hide()):Configurator.currentPage>0&&Configurator.currentPage<Configurator.totalPages-1?($(".back-button").show(),$(".next-button").show(),$(".into-cart-button, .btn-pre-save").hide()):Configurator.currentPage===Configurator.totalPages-1&&($(".back-button").show(),$(".next-button").hide(),$(".into-cart-button, .btn-pre-save").show()):($(".back-button").hide(),$(".next-button").hide(),$(".into-cart-button, .btn-pre-save").show()),X(),Y(a),void 0!==ProductController.onPageChange&&ProductController.onPageChange(),ConfiguratorController.update();var c=$("div.page").length-1;1===t&&0===r&&(Configurator.maxVisitedPage=c),Configurator.maxPages=c},Ha=function(a){return void 0!==a&&"none"!==$("#attributePanel_"+a).css("display")},Ia=function(a){var b=Ja(a);return $(b).val()},Ja=function(a){var b=$('input[name="'+a+'"]'),c=b.attr("type"),d=b.filter(":checked"),e=d.attr("type");if(1===b.length&&("text"===c||"tel"===c||"number"===c))return b.get(0);if("radio"===e)return d.get(0);var f=$('select[name="'+a+'"]').filter(":visible");return void 0!==f.val()?f.get(0):null},Ka=function(a){Logger.log(Log.DEBUG,"getConfiguration"),Configurator.configuration={};var b,c,d,e,f,g,h,i=[],j=Configurator.maxVisitedPage;for(869===Configurator.productId&&(j=$("div.page").length-1),b=0;b<=j;b++)i=i.concat(La(b,a));for(c in i)d=i[c],void 0!==Product.event[d.id]&&($("#avt_"+d.old).text(),e=$("#avt_"+d.new).text(),f=$("#av_"+d.new).attr("rel-orig"),g=$("#attributePanel_"+f).attr("rel-name"),d.new!==d.old&&(h=d.isInit?"System":"Customer",Logger.log(Log.DEBUG,g+" ("+f+") was changed by "+h+" : "+e+" ("+d.new+") was selected")),Product.event[d.id](d.id,d.old,d.new,d.isInit))},La=function(a,b){var c,d,e,f,g,h,i,j=[],k={};return c=$('div[rel-page="'+a+'"]:not([style*="display: none"])'),c.find('label:not([style*="display: none"]).active input, *:not([style*="display: none"]) > input[type="tel"]:not([style*="display: none"]), input[type="hidden"].force-select').each(function(){g=$("#"+$(this).attr("id")),h=g.hasClass("custom")||"radio"!==g.attr("type")&&"checkbox"!==g.attr("type"),void 0!==(e=void 0!==g.attr("rel-id")?g.attr("rel-id"):g.attr("rel-orig"))&&(!1===h||h&&Ha(e))&&(f="a_"+e,d=$("#attributePanel_"+e),i=parseInt(g.val()),h&&isNaN(i)&&(i=0),!1===b&&(void 0===Configurator.oldConfiguration[f]&&(h||0===parseInt(g.attr("rel-no")))||void 0!==Configurator.oldConfiguration[f]&&Configurator.oldConfiguration[f].value!==parseInt(g.val()))&&j.push({id:f,old:void 0!==Configurator.oldConfiguration[f]?Configurator.oldConfiguration[f].value:null,new:i,isInit:void 0===Configurator.oldConfiguration[f]}),k={aId:e,aName:d.attr("rel-name"),value:i,isCustom:h},Configurator.oldConfiguration["a_"+e]=k,(h||"0"===g.attr("rel-no"))&&(Configurator.configuration["a_"+e]=k))}),j},Ma=function(a){Logger.log(Log.DEBUG,"dispatchViewDependencies");var b;for(var c in a)if(Ha(c))for(var d in a[c]){b=Ia("a_"+d);for(var e in a[c][d])if(b===e){for(var f in a[c][d][e].action)Za(f,a[c][d][e].action[f]);0!==a[c][d][e].children.length&&Ma(a[c][d][e].children);break}}},Na=function(a){if(Logger.log(Log.DEBUG,"updateCustomValueDependencies("+a+")"),void 0!==Configurator.customDependencies){var b,c,d,e,f,g,h=void 0!==a?$("#av_"+a).attr("rel-orig"):null;Pa(h);for(b in Configurator.customDependencies)if(c=Configurator.customDependencies[b],Ha(c.id)&&!1===Ta(c.id)){for(f in c.triggers)if(e=c.triggers[f],!1===(d=Oa(e.id,e)))break;d&&(null!==c.value?(-1===$.inArray(c.value,Configurator.disabledValuesByCustom)&&Configurator.disabledValuesByCustom.push(c.value),l(c.value,c.disableType),null!==h&&h===c.id||(g=Wa(c.id,!1))>0&&i(g,!0)):(-1===$.inArray(c.value,Configurator.disabledAttributesByCustom)&&Configurator.disabledAttributesByCustom.push(c.id),Za(c.id,!1)))}}},Oa=function(a,b){if(!1===Ha(a))return!1;var c,d;if(c=$("#a_"+a),0===c.length&&(c=$('label.active input[rel-orig="'+a+'"]')),d=parseInt(c.val()),!(!1===isNaN(d)&&d>0))return!1;switch(b.operator){case">=":if(b.value>d)return!1
;break;case"<=":if(b.value<d)return!1;break;case"==":if(b.value!==d)return!1}return!0},Pa=function(a){var b,c,d,e;for(b in Configurator.disabledValuesByCustom)c=Configurator.disabledValuesByCustom[b],delete Configurator.disabledValuesByCustom[b],Ua(c),d=parseInt($("#av_"+c).attr("rel-orig")),!1===isNaN(d)&&a!==d&&(e=Wa(d,!1))>0&&i(e,!0);for(b in Configurator.disabledAttributesByCustom)c=Configurator.disabledAttributesByCustom[b],delete Configurator.disabledAttributesByCustom[b],Za(c,!0)},Qa=function(a){var b,c,d,e,f,g=null,h=null;for(b in Configurator.disabledTriggerChanges)if(!$("#av_"+b).is(":checked")){for(var i in Configurator.disabledTriggerChanges[b])Configurator.disabledValues.splice($.inArray(Configurator.disabledTriggerChanges[b][i],Configurator.disabledValues),1),ConfiguratorController.enableValue(Configurator.disabledTriggerChanges[b][i]);Configurator.disabledTriggerChanges.splice($.inArray(Configurator.disabledTriggerChanges[b],Configurator.disabledTriggerChanges),1)}if(void 0!==Configurator.valueDependencies.triggers&&void 0!==Configurator.valueDependencies.triggers[a])for(c in Configurator.valueDependencies.triggers[a])d=Configurator.valueDependencies.triggers[a][c].triggerId,h=Configurator.valueDependencies.triggers[a][c].disableTypeId,$("#av_"+d).is(":checked")&&(g=d),ia(d,!1),Configurator.disabledValues.push(d),void 0===Configurator.disabledTriggerChanges[a]&&(Configurator.disabledTriggerChanges[a]=[]),-1===$.inArray(Configurator.disabledTriggerChanges[a],d)&&Configurator.disabledTriggerChanges[a].push(d),null!==g&&(e=$("#av_"+g).attr("rel-orig"),Wa(e,!0),null!==h&&4===parseInt(h)&&(f=$("#attributePanel_"+e).attr("rel-page"),ConfiguratorController.scrollToAttributeCenter(e,f++)))},Ra=function(){var a,b;for(a in Configurator.activeValueTriggerIds)b=Configurator.activeValueTriggerIds[a],k(b)},Sa=function(a){return $("#al_"+a+".active input:not(:disabled)").length>0},Ta=function(a){var b=$("#av_"+a);return b.is(":disabled")||b.hasClass("bannerized")||b.hasClass("hidden")},Ua=function(a){if(-1===$.inArray(a,Configurator.disabledValuesByCustom)){var b=$("#av_"+a);b.is(":disabled")&&ConfiguratorController.enableValue(a),b.hasClass("hidden")&&($(".vc_"+a).show(),b.removeClass("hidden")),b.hasClass("bannerized")&&($("#al_"+a).find(".configurator-dependency-ribbon").remove(),b.removeClass("bannerized"))}},Va=function(a){var b=$("#av_"+a+":not(.mock-value)"),c=b.attr("rel-orig");void 0!==c&&-1===$.inArray(c,Configurator.alteredAttributeIdList)&&Configurator.alteredAttributeIdList.push(c)},Wa=function(a,b){var c,d=$("#attributePanel_"+a),e=0;if($("#sp_"+a).length>0)c=0===d.find('.dropdown-container label.customer-click.active:not([style*="display: none"]):not(:disabled) input,.dropdown-container label.force-click.active:not([style*="display: none"]):not(:disabled) input').length,void 0!==d&&c&&(e=parseInt(d.find("input:not(:disabled):not(.hidden):first-of-type").val()),eb(e,!0),d.find(".configurator-size-picker-container").fadeTo(100,.3,function(){$(this).fadeTo(500,1)}));else if(c=0===d.find('label.active.customer-click:not([style*="display: none"]):not(:disabled):not(.bannerized) input:not(.hidden)').length,void 0!==d&&c){if(e=parseInt(d.find('input[name="a_'+a+'"]:not(:disabled):not(.hidden):not(.bannerized):first-of-type').val()),isNaN(e))return 0;ha(e,b)}return e},Xa=function(a){void 0!==a&&null!==a&&a.css("display","none")},Ya=function(a){void 0!==a&&null!==a&&a.css("display","")},Za=function(a,b){var c=$("#attributePanel_"+a);b?$("#accordion_"+c.attr("rel-id")).hasClass("accordion_collapsed")||-1!==$.inArray(a,Configurator.disabledAttributesByCustom)||(Ya(c),Ya($("#attributeGroupPanel_"+a))):(Xa(c),Xa($("#attributeGroupPanel_"+a)))},$a=function(a,b){$("#al_"+b).click(),$('.configurator-custom-select[rel-id="'+a+'"]').selectpicker("val",b),$(".configurator-custom-select").selectpicker("refresh")},_a=function(){return Configurator.parametersForSVG},ab=function(a){$(".configurator-size-picker.open:not('#sp_"+a+"')").click();var b=$("#sp_"+a);b.toggleClass("open"),b.siblings(".dropdown-container").toggle()},bb=function(a){var b=$("#sp_"+a);b.removeClass("open"),b.siblings(".dropdown-container").hide()},cb=function(){$(".configurator-size-picker-container > .minus-icon").click(function(){var a=$(this).parent(),b=a.find(".configurator-size-picker > label").attr("id");a.find(".dropdown-container").find("#"+b).prev().click()}),$(".configurator-size-picker-container > .plus-icon").click(function(){var a=$(this).parent(),b=a.find(".configurator-size-picker > label").attr("id");a.find(".dropdown-container").find("#"+b).next().click()})},db=function(a,b,c){var d=$(".dropdown-container #al_"+b);updateTiles(d,d.find("input"),!1===c,!1===c,c);var e=d.clone(),f=e.find("input");f.removeAttr("onclick"),f.attr("name","a_"+f.attr("rel-orig")),f.removeClass("mock-value");var g=e.find(".configurator-right-block-price"),h=d.closest(".configurator-size-picker-container");if(void 0!==g.attr("id")&&"none"!==g.css("display")){h.siblings(".configurator-min-size, .configurator-max-size").hide();var i=g.attr("id").replace("pl_","pd_");h.siblings(".price-container-wide").attr("id",i).html(g.html()).show()}else h.siblings(".configurator-min-size, .configurator-max-size").show(),h.siblings(".price-container-wide").attr("id","").html("").hide();e.find(".configurator-right-block-price").remove(),bb(a),$("#sp_"+a).html(e),!1===c&&ConfiguratorController.update(b)},eb=function(a,b){var c=$("#av_"+a);db(c.attr("rel-orig"),a,b)},fb=function(){if(t||r){var a,b,c;$("div.ral-selection:visible label.active > input").each(function(){a=$(this).attr("color-group"),b=a.match(/[0-9]+/g)[1],c=$(this).attr("rel-orig"),$("#attributePanel_"+c+" .configurator-custom-select.ral").val(b).selectpicker("refresh"),m(c,"color-group",b,!1)})}$(".ral-color-input").keyup(function(){var a=$(this),b=a.attr("rel-id"),c=$("#attributePanel_"+b),d=c.find(".ral-selection"),e=a.val();c.find(".ral-color-input-container, .ral-color-input").removeClass("error"),c.find(".configurator-error").hide(),""===e?d.find("div").removeClass("hidden-color"):0===d.find('input[rel-ral*="'+e+'"]').length?(c.find(".ral-color-input-container, .ral-color-input").addClass("error"),c.find(".configurator-error").show()):(0===d.find('div:visible > label > input[rel-ral*="'+e+'"]').length&&(m(b,"color-group",1,!1,!0),$("#attributePanel_"+b+" .configurator-custom-select.ral").val("1").selectpicker("refresh")),d.find("div").removeClass("hidden-color"),d.find('input:not([rel-ral*="'+e+'"])').parent().parent().addClass("hidden-color"),d.find('div:visible > label > input[rel-ral*="'+e+'"]').first().click())})},gb=function(){$(".configurator-size-input").keydown(function(a){Configurator.maxPages>0&&13===a.keyCode&&(a.preventDefault(),$(this).trigger("change"),$(this).valid(),void 0!==ProductController.allSizesSet&&ProductController.allSizesSet()&&ProductController.isValid()&&Configurator.currentPage<Configurator.maxPages&&ConfiguratorController.nextPage())})};return{init:function(a,b,c,d,e,f,g,h,i){v(a,b,c,d,e,f,g,h,i)},send:function(){ma()},nextPage:function(){Configurator.goToNextPage=!0,$(".next-button").prop("disabled",!0),ConfiguratorController.update()},previousPage:function(){Ea(),ConfiguratorController.update()},update:function(a){Logger.log(Log.DEBUG,"ConfiguratorController update()"),Ma(Configurator.dependencies),void 0!==a&&i(a,!0),ma(a),V()},updateAffix:function(){V()},updateAffixImage:function(){W()},recalculateAffix:function(){N()},dispatchViewDependencies:function(){Ma(Configurator.dependencies)},isPanelActive:function(a){return Ha(a)},selectValue:function(a,b){ha(a,b)},selectSizePickerValue:function(a,b){eb(a,b)},disableValue:function(a,b){return ia(a,b)},enableValue:function(a,b){return ja(a,b)},scrollToAttributeCenter:function(a,b){void 0!==b&&b!==Configurator.currentPage&&Fa(b);var c=$("#attributePanel_"+a),d=c.offset().top,e=c.height(),f=$(window).height(),g=d-(f-e)/2;scrollableContainer().animate({scrollTop:g},400)},scrollToCenter:function(a,b){void 0!==b&&b!==Configurator.currentPage&&Fa(b);var c=$("#attributePanel_"+a),d=c.offset().top,e=$(window).height(),f=d-e/2;scrollableContainer().animate({scrollTop:f},400)},scrollTo:function(a,b,c){var d;"number"==typeof b&&b%1==0&&(a!==Configurator.currentPage&&Fa(a),d=c?$("#attributeGroupPanel_"+b):$("#attributePanel_"+b),$(d).hasClass("input-group")&&(d=$(d).parent().closest('div[id^="attributePanel_"]')),d.length>0&&scrollableContainer().animate({scrollTop:d.offset().top-30},400))},setRangeValidation:function(a,b,c,d,e,f){sa(a,b,c,d,e,f)},isConfiguration:function(a,b){return void 0!==Configurator.configuration["a_"+a]&&null!==Configurator.configuration["a_"+a]&&parseInt(Configurator.configuration["a_"+a].value)==b},is:function(a,b){return ConfiguratorController.isConfiguration(a,b)},isInputValid:function(a){return $("#a_"+a).hasClass("valid")||!$("#a_"+a).hasClass("error")},onFormValid:function(a){},onFormInvalid:function(a){},showError:function(a,b){var c=$("#errorMessage_"+a);c.html('<i class="minus-icon"></i><div>'+b+"</div>"),c.css("display","flex"),c.css("float","none")},hideError:function(a){var b=$("#errorMessage_"+a);b.css("display","none"),b.html("")},handleAccordion:function(a){R(a)},getParametersForSVG:function(){return _a()},toggleSizePickerDropDown:function(a){return ab(a)},selectColorType:function(a,b){$a(a,b)},updateSizePicker:function(a,b,c){db(a,b,c)},selectColorGroup:function(a,b){m($(a).attr("rel-id"),b,$(a).val(),!1,!0)},checkIfValueSelected:function(a){return Sa(a)},selectFirstValidValue:function(a,b){return Wa(a,b)},updatePreview:function(a){$(".preview-gallery").attr("tmp-gallery",a)},scrollToFirstError:function(){return g()},showSizeInAlert:function(a,b){a.text(b)}}}(),DivisionController=function(){function a(a){var b,d,e=0,f=null,g=!0;Logger.log(Log.DEBUG,"updateWidthWindow");for(b in Product.attribute.divisionWidth)ConfiguratorController.isPanelActive(Product.attribute.divisionWidth[b])&&(g&&(f=Product.attribute.divisionWidth[b],g=!1),e++);d=Math.ceil(a/e),$("#a_"+f).val(d),c(f,d,!1),ConfiguratorController.isPanelActive(Product.attribute.divisionField.z1)&&$("#a_"+Product.attribute.divisionField.z1).val(a/2)}function b(a){Logger.log(Log.DEBUG,"updateWidthFrontDoor");var b,c=n(ProductController.getSelectedTypeValue()),d="rlll"===c,e=h(a,d),f=[],g=0;switch(c){case"ll":f.push(a-e),f.push(e);break;case"rl":f.push(e),f.push(a-e);break;case"rlll":b=Math.ceil((a-e)/2),f.push(b),f.push(e),f.push(a-e-b)}$(".width-division:visible").each(function(){$(this).val(f[g]),g++})}function c(a,b,c){isNaN(b)&&(b=0);var e=!1,f=$("#a_"+Product.attribute.width),h=void 0!==f?parseInt(f.val()):0;!1===isNaN(h)&&h>0&&(e=614===Configurator.productId?g(a,b,c):d(a,b,c),e&&c&&($(".width-division").addClass("js-change"),$("input.js-change").delay(1e4).queue(function(){$(this).removeClass("js-change"),$(".division-warning").fadeOut(300)})),p())}function d(a,b,c){var d,e,g,h,i,j=0,k=$("#a_"+Product.attribute.width),l=void 0!==k?parseInt(k.val()):null,m=b,n=!1,o=[],p=1,q=0,r=!1;for(j in Product.attribute.divisionWidth)d=Product.attribute.divisionWidth[j],ConfiguratorController.isPanelActive(d)&&(d!==a?(1===p&&(i=d),n&&o.push(d),h=$("#a_"+d),m+=parseInt(h.val()),!1===n&&(q+=parseInt(h.val())),p++):d===a&&(n=!0));return e=o.length,2===p&&(q=0,e=1),g=Product.config.division.minWidth*e,b<Product.config.division.minWidth?(b=Product.config.division.minWidth,r=!0,c&&$("#division-min-warning").fadeIn(300)):l<q+b+g&&(b=l-g-q,r=!0,c&&$("#division-max-warning").fadeIn(300)),r&&($("#a_"+a).val(b),c&&($(".width-division").addClass("js-change"),$("input.js-change").delay(1e4).queue(function(){$(this).removeClass("js-change"),$(".division-warning").fadeOut(300)}))),m!==l&&(o.length>0?f(o,l,q+b):($("#a_"+i).val(l-b),ConfiguratorController.update(i))),r}function e(a){var b=0,c=0,d=!1;return $(".width-division:visible").each(function(){c=parseInt($(this).val()),b+=c,0===c&&(d=!0)}),d||b!==a}function f(a,b,c){var d,e,f=0,g=0;for(d in a)e=$("#a_"+a[d]),g<a.length+1?(f=Math.ceil((b-c)/(a.length-g)),c+=f,e.val(f)):e.val(b-c),ConfiguratorController.update(a[d]),g++}function g(a,b,c){var d,e=!1,f=[],g=0,j=$("#a_"+Product.attribute.width),k=void 0!==j?parseInt(j.val()):null,l=Product.config.division,m=n(ProductController.getSelectedTypeValue()),o=l.widthDivisionType[m][a],p="rlll"===m,q=i(o,b,k,p?2:1);return!1===q.valid&&(b=q.replace,$("#a_"+a).val(b),c&&(e=!0,q.reason===Product.config.division.invalid.lessThan?$("#division-min-warning").fadeIn(300):$("#division-max-warning").fadeIn(300))),!1===p?$(".width-division:visible:not(#a_"+a+")").val(k-b):(o===l.type.sideLight?(d=h(k-b,p),f.push(d),f.push(k-b-d)):(d=Math.ceil((k-b)/2),f.push(d),f.push(k-b-d)),$(".width-division:visible:not(#a_"+a+")").each(function(){$(this).val(f[g]),g++})),e}function h(a,b){var c=b?4:3,d=b?2:1,e=a-Math.ceil(a/c*d),f=i(Product.config.division.type.door,e,a,1);return f.valid?e:f.replace}function i(a,b,c,d){var e,f,g=null,h=b,i=Product.config.division,j=i.limit[ProductController.getMaterial()];return a===i.type.sideLight?(e=2===d?j.minSideLightWidth:c-j.maxDoorWidth,f=c-(j.minDoorWidth+j.minSideLightWidth*(d-1)),b<e?(h=e,g=i.invalid.lessThan):b>f&&(h=f,g=i.invalid.greaterThan)):(f=Math.ceil(c-d*j.minSideLightWidth),b<j.minDoorWidth?(h=j.minDoorWidth,g=i.invalid.lessThan):(b>j.maxDoorWidth||b>f)&&(h=f<j.maxDoorWidth?f:j.maxDoorWidth,g=i.invalid.greaterThan)),{valid:null===g,reason:g,replace:h}}var j=function(a){var b=$("#a_"+Product.attribute.divisionField.y1),c=$("#a_"+Product.attribute.divisionField.y2),d=ConfiguratorController.isPanelActive(Product.attribute.divisionField.y1),e=ConfiguratorController.isPanelActive(Product.attribute.divisionField.y2);if(Logger.log(Log.DEBUG,"updateDivisionHeight"),s(),isNaN(a)||!1===ConfiguratorController.isInputValid(Product.attribute.height))return null;d&&!e?b.val(a):e&&($(".height-division").removeClass("error"),b.val(0),c.val(0))},k=function(a,b,c){isNaN(b)&&(b=0);var d,e,f=0,g=$("#a_"+Product.attribute.height),h=void 0!==g?parseInt(g.val()):null,i=b,j=1,k=null,l=0,n=!1,p=ProductController.getSelectedTypeValue(),q=m(p),r=Product.config.division.minHeightMapping[q][a],s=null;if(!1===isNaN(h)&&null!==h&&h>0){for(f in Product.attribute.divisionHeight)d=Product.attribute.divisionHeight[f],ConfiguratorController.isPanelActive(d)&&d!==a&&(l=parseInt($("#a_"+d).val()),k=d,j++,i+=l);if(void 0!==Product.config.division.maxHeightMapping&&(void 0!==Product.config.division.maxHeightMapping[q][k]&&r<h-Product.config.division.maxHeightMapping[q][k]&&(r=h-Product.config.division.maxHeightMapping[q][k]),void 0!==Product.config.division.maxHeightMapping[q][d]&&(s=Product.config.division.maxHeightMapping[q][d])),void 0!==Product.config.division.maxHeightSubtractionMapping[q][a]&&(e=h-Product.config.division.maxHeightSubtractionMapping[q][a],(null===s||e<s)&&(s=e)),void 0===Product.config.division.minHeightExclusion||void 0===Product.config.division.minHeightExclusion[p]||(Product.config.division.minHeightExclusion[p][a],0)||(r=10),b<r?(b=r,n=!0,c&&$("#division-min-warning").fadeIn(300)):null!==s&&b>s&&(b=s,n=!0,c&&$("#division-max-warning").fadeIn(300)),null!==k){$("#a_"+a).val(b),ConfiguratorController.update(a);$("#a_"+k).val(h-b),ConfiguratorController.update(k),n&&c&&($(".height-division").removeClass("error").addClass("js-change"),$("input.js-change").delay(1e4).queue(function(){$(this).removeClass("js-change"),$(".division-warning").fadeOut(300)}))}o(!1)}},l=function(c){if(Logger.log(Log.DEBUG,"updateWidth("+c+")"),s(),isNaN(c)||0===c||!1===ConfiguratorController.isInputValid(Product.attribute.width))return null;614===Configurator.productId?b(c):e(c)&&a(c)},m=function(a){return $.inArray(a,Product.config.division.ol)>-1?"ol":$.inArray(a,Product.config.division.ul)>-1?"ul":"default"},n=function(a){var b="";return $.inArray(a,Product.config.division.rl)>-1&&(b+="rl"),$.inArray(a,Product.config.division.ll)>-1&&(b+="ll"),b},o=function(a){var b,c,d=1,e=0,f=null,g=$("#a_"+Product.attribute.height),h=parseInt(g.val()),i=!0;if(isNaN(h)||!1===g.valid())return $(".height-division").removeClass("valid"),!1;for(d in Product.attribute.divisionHeight)c=Product.attribute.divisionHeight[d],ConfiguratorController.isPanelActive(c)&&(e++,f=c,b=$("#a_"+f),0===parseInt(b.val())?a&&(b.removeClass("valid").addClass("error"),i=!1):b.addClass("valid"));return 1===e&&null!==f&&($("#a_"+f).val(h),0===parseInt(b.val())?a&&(b.removeClass("valid").addClass("error"),i=!1):b.addClass("valid")),i},p=function(){var a,b=1,c=0,d=null,e=$("#a_"+Product.attribute.width),f=parseInt(e.val());if(isNaN(f)||!1===e.valid())return $(".width-division").removeClass("valid"),!1;$(".width-division").addClass("valid");for(b in Product.attribute.divisionWidth)a=Product.attribute.divisionWidth[b],ConfiguratorController.isPanelActive(a)&&(c++,d=a);return 1===c&&null!==d&&$("#a_"+d).val(f),!0},q=function(){return!ConfiguratorController.isPanelActive(Product.attribute.division)||o(!0)&&p()},r=function(){$("#einteilungPreview").html(ProductController.getPreviewImage(!1))},s=function(){$("input.js-change").removeClass("js-change"),$(".division-warning").fadeOut(300)};return{updateWidth:function(a){l(a)},updateHeight:function(a){j(parseInt(a))},resetDivision:function(){var a=$("#a_"+Product.attribute.width),b=$("#a_"+Product.attribute.height),c=""!==a.val()?parseInt(a.val()):0,d=""!==b.val()?parseInt(b.val()):0;j(d),l(c)},isValid:function(){return q()},isWidthValid:function(){return p()},isHeightValid:function(){return o(!1)},updateImagePreview:function(){r()},updateHeightDivision:function(a,b){k(a,b,!0)},updateWidthDivision:function(a,b){c(a,b,!0)}}}(),ShutterController=function(){var a=function(){Logger.log(Log.DEBUG,"ShutterController init()"),b()},b=function(){var a,b,c,d=$("#a_"+Product.shutterType.attribute.width),e=$("#a_"+Product.shutterType.attribute.height),f=parseInt(Configurator.configuration["a_"+Product.attribute.width].value),g=parseInt(Configurator.configuration["a_"+Product.attribute.height].value),h=Product.shutterType.config.allowedRangeInPercent/2,i=0,j=0,k=parseInt(WindowController.getShutterType()),l=$("#allowedRangeInfo_"+Product.shutterType.attribute.width),m=$("#allowedRangeInfo_"+Product.shutterType.attribute.height);switch(Logger.log(Log.DEBUG,"ShutterController setValidation()"),k){case Product.value.shutter.frontMounted:d.val(f),d.attr("readonly",!1),j=Math.round(f+f/100*h),i=Math.round(f-f/100*h),a=l.attr("data-min").replace(":min",i),b=l.attr("data-max").replace(":max",j),c=l.attr("data-required"),ConfiguratorController.setRangeValidation(d,i,j,c,a,b),l.html(i+" mm - "+j+" mm"),e.val(g),e.attr("readonly",!1),j=Math.round(g+g/100*h),i=Math.round(g-g/100*h),a=m.attr("data-min").replace(":min",i),b=m.attr("data-max").replace(":max",j),c=m.attr("data-required"),ConfiguratorController.setRangeValidation(e,i,j,c,a,b),m.html(i+" mm - "+j+" mm");break;case Product.value.shutter.topMounted:d.addClass("ignore"),d.val(f),d.rules("remove"),d.attr("readonly",!0),l.html(Configurator.translator.configuratorValueIsFix),e.addClass("ignore"),e.val(g),e.rules("remove"),e.attr("readonly",!0),m.html(Configurator.translator.configuratorValueIsFix)}},c=function(){var a=$("#a_"+Product.shutterType.attribute.width),b=$("#a_"+Product.shutterType.attribute.height);return a.valid()&&b.valid()},d=function(a){var b=!1,c=!1,d=parseInt($("#a_"+Product.shutterType.attribute.width).val())/a.shutter[Product.shutterType.parameter.split],e=parseInt($("#a_"+Product.shutterType.attribute.height).val()),f=d*e,g=$("#attributePanel_"+Product.attribute.shutterType+" label.disabled input").val();Logger.log(Log.DEBUG,"ShutterController update()"),void 0!==g&&(ConfiguratorController.enableValue(g),ConfiguratorController.selectFirstValidValue(Product.attribute.shutterType,!0)),ConfiguratorController.enableValue(Product.shutterType.value.material.pvc),ConfiguratorController.enableValue(Product.shutterType.value.material.alu),ConfiguratorController.enableValue(Product.shutterType.value.typeOfDrive.strap),ConfiguratorController.enableValue(Product.shutterType.value.typeOfDrive.crank),ConfiguratorController.enableValue(Product.shutterType.value.typeOfDrive.motor),k(d)&&(b=!0,c=!0),h(e)&&(b=!0),i(f)&&(b=!0),j(f,c)&&(b=!0),b&&ConfiguratorController.dispatchViewDependencies(),b&&!0!==Product.shutterNotPossible&&ConfiguratorController.update()},e=function(){for(var a=0;a<Product.shutterType.attribute.boxHeight.length;a++)if(ConfiguratorController.isPanelActive(Product.shutterType.attribute.boxHeight[a]))return Product.shutterType.attribute.boxHeight[a];return null},f=function(){var a=e();return null!==a&&void 0!==Configurator.configuration["a_"+a]&&null!==Configurator.configuration["a_"+a]?Configurator.configuration["a_"+a].value:null},g=function(){var a=parseInt(WindowController.getMaterial());Logger.log(Log.DEBUG,"ShutterController resetBoxHeight()");for(var b in Product.shutterType.config.boxHeights[a]){ConfiguratorController.enableValue(b);for(var c in Product.shutterType.config.boxHeights[a][b])for(var d in Product.shutterType.config.boxHeights[a][b][c])ConfiguratorController.enableValue(d)}},h=function(a){var b,c,d=0,e=0,f=[],h=[],i=0,j=parseInt(WindowController.getMaterial());Logger.log(Log.DEBUG,"ShutterController checkBoxHeight()"),g();for(var k in Product.shutterType.config.boxHeights[j]){0!==parseInt(d)&&(ConfiguratorController.disableValue(d),$("#av_"+d).parent().hasClass("active")&&($("#av_"+k).parent().hasClass("active")||$("#av_"+k).trigger("click"))),d=0;for(var l in Product.shutterType.config.boxHeights[j][k]){f=[],i=0;for(var m in Product.shutterType.config.boxHeights[j][k][l])0!==e&&ConfiguratorController.selectValue(m),e=0,a>Product.shutterType.config.boxHeights[j][k][l][m][1]&&(f[f.length]=m,e=m),i++;f.length==i&&(h[h.length]=l,d=k);for(var n=0;n<f.length;n++)ConfiguratorController.disableValue(f[n])}}return 0!==d&&(ConfiguratorController.disableValue(d),c=$("#av_"+d).attr("rel-orig"),0===$("#attributePanel_"+c+' div:not([style*="display: none"]) > label:not([style*="display: none"]) input:not(:disabled)').length&&(b=$("#attributePanel_"+Product.attribute.shutterType+" label.active input").val(),ConfiguratorController.disableValue(b),ConfiguratorController.selectFirstValidValue(Product.attribute.shutterType,!0))),ConfiguratorController.selectFirstValidValue(Product.shutterType.attribute.model,!0),!1},i=function(a){var b=!1;return Logger.log(Log.DEBUG,"ShutterController checkMaterialSquareMetersForPVC()"),u()?(a>Product.shutterType.config.limit.pvc.strap&&(r()&&(m(),b=!0),ConfiguratorController.disableValue(Product.shutterType.value.typeOfDrive.strap)),a>Product.shutterType.config.limit.pvc.crank&&(u()&&n(),ConfiguratorController.disableValue(Product.shutterType.value.material.pvc),ConfiguratorController.enableValue(Product.shutterType.value.typeOfDrive.strap),ConfiguratorController.enableValue(Product.shutterType.value.typeOfDrive.crank),l(),b=!0)):(r()&&a>Product.shutterType.config.limit.pvc.strap&&ConfiguratorController.disableValue(Product.shutterType.value.material.pvc),s()&&a>Product.shutterType.config.limit.pvc.crank&&ConfiguratorController.disableValue(Product.shutterType.value.material.pvc),t()&&a>Product.shutterType.config.limit.pvc.motor&&ConfiguratorController.disableValue(Product.shutterType.value.material.pvc)),b},j=function(a,b){var c=!1;return Logger.log(Log.DEBUG,"ShutterController checkMaterialSquareMetersForAlu()"),v()&&(a>Product.shutterType.config.limit.pvc.crank&&(ConfiguratorController.disableValue(Product.shutterType.value.material.pvc),n()),a>Product.shutterType.config.limit.alu.strap&&(r()&&(m(),c=!0),ConfiguratorController.disableValue(Product.shutterType.value.typeOfDrive.strap)),a>Product.shutterType.config.limit.alu.crank&&s()&&(x()&&!w()?(o(),c=!0):b?c=!0:(Logger.log(Log.WARN,"Shutter is not possible"),Product.shutterNotPossible=!0,c=!1))),c},k=function(a){var b=!1;return Logger.log(Log.DEBUG,"ShutterController checkMaxWidth()"),a<Product.shutterType.config.limit.sideOfDrive.motor&&(t()&&(l(),b=!0),ConfiguratorController.disableValue(Product.shutterType.value.typeOfDrive.motor)),a>Product.shutterType.config.limit.pvc.maxWidth&&(Logger.log(Log.DEBUG,"ShutterController checkMaxWidth(): width too big for material pvc. Switch to alu and disable pvc..."),u()&&(n(),b=!0),ConfiguratorController.disableValue(Product.shutterType.value.material.pvc)),a>Product.shutterType.config.limit.alu.maxWidth&&(Logger.log(Log.DEBUG,"ShutterController checkMaxWidth(): width too big for material alu. Try to use division"),x()&&!w()&&(o(),b=!0)),b},l=function(){ConfiguratorController.selectValue(Product.shutterType.value.typeOfDrive.strap)},m=function(){ConfiguratorController.selectValue(Product.shutterType.value.typeOfDrive.crank)},n=function(){ConfiguratorController.selectValue(Product.shutterType.value.material.alu)},o=function(){ConfiguratorController.selectValue(Product.shutterType.value.division.yes)},p=function(){return void 0!==Configurator.configuration["a_"+Product.shutterType.attribute.typeOfDrive]&&null!==Configurator.configuration["a_"+Product.shutterType.attribute.typeOfDrive]?Configurator.configuration["a_"+Product.shutterType.attribute.typeOfDrive].value:null},q=function(){if("function"==typeof ProductController.getVariante){var a=ProductController.getVariante();null!==a&&"object"==typeof Product.shutterType.config.model&&"number"==typeof Product.shutterType.config.model[a]&&(Product.shutterType.attribute.model=Product.shutterType.config.model[a])}return void 0!==Configurator.configuration["a_"+Product.shutterType.attribute.model]&&null!==Configurator.configuration["a_"+Product.shutterType.attribute.model]?Configurator.configuration["a_"+Product.shutterType.attribute.model].value:null},r=function(){return ConfiguratorController.is(Product.shutterType.attribute.typeOfDrive,Product.shutterType.value.typeOfDrive.strap)},s=function(){return ConfiguratorController.is(Product.shutterType.attribute.typeOfDrive,Product.shutterType.value.typeOfDrive.crank)},t=function(){return ConfiguratorController.is(Product.shutterType.attribute.typeOfDrive,Product.shutterType.value.typeOfDrive.motor)},u=function(){return ConfiguratorController.is(Product.shutterType.attribute.material,Product.shutterType.value.material.pvc)},v=function(){return ConfiguratorController.is(Product.shutterType.attribute.material,Product.shutterType.value.material.alu)},w=function(){return ConfiguratorController.is(Product.shutterType.attribute.division,Product.shutterType.value.division.yes)},x=function(){return ConfiguratorController.isPanelActive(Product.shutterType.attribute.division)};return{init:function(){a()},update:function(a){d(a)},updateValidation:function(){b()},getPreviewImage:function(a){},postUpdate:function(a){},preUpdate:function(){},notAvailable:function(a){},isValid:function(){return c()},getTypeOfDrive:function(){return p()},getBoxHeight:function(){return e()},getBoxHeightValue:function(){return f()},getModel:function(){return q()},isMotor:function(){return t()}}}(),WindowController=function(){function a(a){var b=Product.attribute.frameBroadening.main,c=$("#alert_"+b);if($('.configurator-warning[rel-id="'+b+'"]').remove(),ConfiguratorController.checkIfValueSelected(Product.value.frameBroadening.yes)){c.show();var d=$('div[rel-id="'+b+'"]:visible'),e=d.find('.configurator-size-picker input[rel-no="1"]'),f=d.find(".configurator-size-picker label.customer-click"),g=e.closest('div[id^="attributePanel_"]'),h=$(g[0]),i="error";if(d.removeClass(i),4===e.length&&(!0===a&&f.length>=1||!1===a))return Logger.log(Log.DEBUG,"WindowController isValid(): No option was chosen for the frame broadening attribute"),g.addClass(i),h.before('<div class="row configurator-warning" rel-id="'+b+'" style="width: initial; float: initial;"><div class="message-box">'+Configurator.translator.configuratorErrorNoOptionSelected+"</div>"),ConfiguratorController.scrollToCenter(h.attr("id").replace("attributePanel_","")),!1}else c.hide();return!0}function b(){Logger.log(Log.DEBUG,"updateFrameBroadening()");var a=!1;if(ProductController.hasShutter())try{!1===Product.shutter.isMotor()&&(ConfiguratorController.selectValue(Product.value.frameBroadening.yes,!1),ConfiguratorController.dispatchViewDependencies());var b,c,d,e,f,g,h,i,j=WindowController.getMaterial(),k=Product.shutter.getBoxHeight(),l=Product.shutter.getBoxHeightValue(),m=Product.shutter.getModel(),n=s(),o=Product.config.frameBroadeningAdjustment[j][WindowController.getShutterType()][Product.shutter.getTypeOfDrive()];if(void 0!==o){if(void 0!==Product.config.frameBroadeningOption[j]){i=Product.config.frameBroadeningOption[j];for(h in i)c=$('.blue-radio-container > input:not(.hidden)[rel-orig="'+h+'"]:eq('+i[h]+")").val(),d=$("#av_"+c).closest("label"),e=d.closest(".panel-body"),0===e.find("label.customer-click").length&&ConfiguratorController.selectValue(c,!0)}for(b in o)c=$('.dropdown-container input.mock-value:not(.hidden)[rel-orig="'+b+'"]:eq('+o[b]+")").val(),d=$("#av_"+c).closest("label"),e=d.parent(),(0===e.find("label.customer-click").length||d.index()>e.find("label.active").index())&&(a=!0,ConfiguratorController.selectSizePickerValue(c,!0));null!==l&&(f=null,void 0!==Product.shutterType.config.boxHeightsByProfile&&void 0!==Product.shutterType.config.boxHeightsByProfile[n]?f=Product.shutterType.config.boxHeightsByProfile[n][m][k][l][0]:void 0!==Product.shutterType.config.boxHeights[j]&&void 0!==Product.shutterType.config.boxHeights[j][m]&&void 0!==Product.shutterType.config.boxHeights[j][m][k]&&(f=Product.shutterType.config.boxHeights[j][m][k][l][0]),null!==f&&(g=Product.attribute.frameBroadening[j].top,c=Product.config.frameBroadening[j][g][f],e=$("#av_"+c).closest(".dropdown-container"),(!1===e.find("label.active").hasClass("customer-click")||e.find("#al_"+c).index()>e.find("label.active").index())&&(a=!0,ConfiguratorController.selectSizePickerValue(c,!0))))}}catch(b){a=!1}!1===a&&E(),ConfiguratorController.update()}var c=function(){Logger.log(Log.DEBUG,"WindowController isValid()");var b,c,d=!0;try{if(Configurator.currentPage>=0&&(!1===$("#a_"+Product.attribute.width).valid()&&(Logger.log(Log.DEBUG,"WindowController isValid(): Width invalid or missing"),d=!1),!1===$("#a_"+Product.attribute.height).valid()&&(Logger.log(Log.DEBUG,"WindowController isValid(): Height invalid or missing"),d=!1),!1===Configurator.isAvailable&&(Logger.log(Log.DEBUG,"WindowController isAvailable: Product is not available"),d=!1),!1===DivisionController.isValid()&&(d=!1)),b=$("#page_0 .configuration-invalid:visible, #page_0 .error > .configurator-error"),!1===(d=0===b.length&&d))return c=b.first().attr("rel-id"),ConfiguratorController.scrollToCenter(c,0),!1;if(1===Configurator.currentPage&&(WindowController.hasOutsideWindowSill()&&!1===$("#a_"+OutsideWindowSill.attribute.length).valid()&&(ConfiguratorController.scrollTo(1,OutsideWindowSill.attribute.length,!1),Logger.log(Log.DEBUG,"WindowController isValid(): Size of outsidewindowsill is invalid or missing"),d=!1),WindowController.hasShutter()&&!1===Product.shutter.isValid()&&(Logger.log(Log.DEBUG,"WindowController isValid(): Size of shutter is invalid or missing"),d=!1),!1===a(!1)))return!1}catch(a){return Logger.log(Log.ERR,"WindowController isValid(): "+a),!1}return b=$("#page_1 .configuration-invalid:visible, #page_1 .error > .configurator-error:visible, #page_1 div.error:visible"),!1!==(d=0===b.length&&d)||(c=b.first().attr("rel-id"),ConfiguratorController.scrollToCenter(c,1),!1)},d=function(){if(25===Configurator.productId)try{var a=$("#buttonArea_"+Product.attribute.size),b=$("#a_"+Product.attribute.height).val(),c=Configurator.configuration["a_"+Product.attribute.type]
;parseInt(b)>=Product.config.limitForBigElementNotice&&c.value!=Product.value.openType.special&&-1===jQuery.inArray(r(),Product.config.cannotBeBalconyDoor)?a.html('<div class="configurator-alert"><i class="alert-icon"></i><div>'+Configurator.translator.configuratorNotice+":</strong> "+Configurator.translator.configuratorNoticeWindowIsBig+"<br> "+Configurator.translator.configuratorNoticeWindowIsBigLink+"</div></div>"):a.html("")}catch(a){Logger.log(Log.ERR,"WindowController doorNoticeForBigWindow(): "+a)}},e=function(a,b,c,d){return'<span style="display: inline-block;'+(""!==c&&void 0!==c?"background-image: url('"+c+"');":"")+(""!==d&&void 0!==d?d:"")+'"><img class="'+b+' show col-xs-12 img-responsive" style="display: block; padding-left:0;padding-right:0;" src="'+a+'"></span>'},f=function(a){for(var b,c,d=0;d<Product.config.openingTypeWithFixedCasement.length;d++)b=$("#avi_"+Product.config.openingTypeWithFixedCasement[d]),c=b.attr("src"),-1!==jQuery.inArray(parseInt(a),Product.config.profilWithFixedCasement)?c&&!c.match(/fixedcasement/g)&&b.attr("src",b.attr("src").replace(/attributevalues/g,"attributevalues/fixedcasement")):c&&c.match(/fixedcasement/g)&&b.attr("src",b.attr("src").replace(/fixedcasement\//g,""))},g=function(a){var b=!1;for(var c in Product.config.profilMissingBeschlag)a==c?($("#av_"+Product.config.profilMissingBeschlag[c]).parent().hide(),b=!0):b||$("#av_"+Product.config.profilMissingBeschlag[c]).parent().show()},h=function(){var a=$(".width-division:visible");a.length>0&&(a.removeAttr("disabled"),a.length>2&&a.last().attr("disabled","disabled"))},i=function(){var a=q();if(null!==a&&void 0!==Product.config.division.description&&void 0!==Product.config.division.description[a])for(var b in Product.config.division.description[a])$("#description_height_"+b).html(Configurator.translator[Product.config.division.description[a][b]]),$(".description_height").show();else $(".description_height").hide()},j=function(a,b){var c=$("#a_"+a+", #slider_"+a);b>0?c.addClass("active").val(b):(c.removeClass("active"),!1===isNaN(b)?c.val(b):$("#slider_"+a).val(0)),ConfiguratorController.update()},k=function(){var a,b,c=q(),d=n(c,Product.parameter.defaultImage),e="/img/attributevalues/";null!==d&&(b=getImageInfo(e+d),a=e+d.replace(/\.png/g,"_spr.png"),$("#preview_"+Product.attribute.sproutsCombination+" div").attr("style",'background-image: url("'+a+'"); background-position: center top; width: '+b.width+"px; height: "+b.height+"px;"))},l=function(){var a,b,c,d,e,f,g,h,i=q(),j=n(i,Product.parameter.sproutImage),l="";if(null!==j){for(Logger.log(Log.DEBUG,"build sprouts image for "+i),k(),j=JSON.parse(j),a=j.image.length,b=0,c=1,d=0;b<a;b++,c+=2,d+=2)e=Product.config.sprouts.maxVal.default,void 0!==j.image[b]&&void 0!==Product.config.sprouts.maxVal[j.image[b]]&&(e=Product.config.sprouts.maxVal[j.image[b]]),f=m(Product.config.sprouts.input[c],e),g=m(Product.config.sprouts.input[d],e),h="float:left;",null!==j.margin[b]&&(h+="margin: "+j.margin[b]+";"),l+='<img src="/img/sprossen/'+j.image[b]+"_w"+g+"_s"+f+'.png" style="'+h+'">';$("#preview_"+Product.attribute.sproutsCombination+" div").html(l)}},m=function(a,b){var c,d=$('input[id="a_'+a+'"]'),e=parseInt(d.val()),f="";for(c=0;c<b;c++)f+='<div class="breakpoint"></div>';return $("#underlay_"+a).attr("rel-count",b).html(f),$("#slider_"+a).attr("max",b),e>b&&(e=b,d.val(b)),isNaN(e)&&(e=0),e},n=function(a,b){return void 0!==Configurator.parameterMatrix&&void 0!==Configurator.parameterMatrix[a]&&void 0!==Configurator.parameterMatrix[a][b]?Configurator.parameterMatrix[a][b]:null},o=function(a){var b,c,d,f=r(),g="",h="",i="";if(null!==f&&(b=$("#avi_"+f),c=b.attr("src").match(/fixedcasement/g)?"/img/attributevalues/fixedcasement/"+b.attr("rel-src"):"/img/attributevalues/"+b.attr("rel-src"),d=b.attr("class"),void 0!==c&&null!==c)){if(parseInt(WindowController.getMaterial())!==Product.value.material.pvc||ConfiguratorController.isConfiguration(Product.attribute.colorCombination,Product.value.colorCombination.outsideAndInside)){var j=t(),k=x();null!==k?i=w(k.aId,k.value):null!==j&&(h=u(j.value),i=v(j.value))}void 0!==a&&null!==a&&!0===a&&(g+='<a class="list-group-item" onclick="ConfiguratorController.scrollTo(0,'+$("#av_"+f).attr("rel-orig")+',false)"><b>'+Configurator.translator.configuratorPreviewHeadlineViewInside+":</b><br>"),g+=e(c,d,h,i),void 0!==a&&null!==a&&!0===a&&(g+="</a>")}return g},p=function(){var a,b=Configurator.configuration["a_"+Product.attribute.type];return void 0!==Product.config.windowType&&void 0!==b&&void 0!==(a=Configurator.configuration["a_"+Product.config.windowType[b.value]])&&"undefined"!==Product.config.windowOpenType[a.value]?parseInt(Product.config.windowOpenType[a.value]):void 0!==Configurator.configuration["a_"+Product.attribute.type]?parseInt(Product.config.windowOpenType[Configurator.configuration["a_"+Product.attribute.type].value]):null},q=function(){var a,b=Configurator.configuration["a_"+Product.attribute.type];return void 0!==Product.config.windowType&&void 0!==b&&void 0!==(a=Configurator.configuration["a_"+Product.config.windowType[b.value]])?void 0!==a?parseInt(a.value):null:void 0!==Configurator.configuration["a_"+Product.attribute.type]?parseInt(Configurator.configuration["a_"+Product.attribute.type].value):null},r=function(){var a=p();return void 0!==Configurator.configuration["a_"+a]?parseInt(Configurator.configuration["a_"+a].value):null},s=function(){var a,b=Product.attribute.profil,c=null;for(a in b)void 0!==Configurator.configuration["a_"+b[a]]&&(c=parseInt(Configurator.configuration["a_"+b[a]].value));return c},t=function(){for(var a=Product.config.color.length,b=0;b<a;b++)if(ConfiguratorController.isPanelActive(Product.config.color[b])&&void 0!==Configurator.configuration["a_"+Product.config.color[b]])return Configurator.configuration["a_"+Product.config.color[b]];return null},u=function(a){return $("#avi_"+a).attr("src")||""},v=function(a){return $("#al_"+a).find(".hex-color-tile").attr("style")||""},w=function(a,b){return $("#al_"+a+"_"+b).find(".color-tile").attr("style")||""},x=function(){for(var a=Product.config.ralColor.length,b=0;b<a;b++)if(ConfiguratorController.isPanelActive(Product.config.ralColor[b])&&void 0!==Configurator.configuration["a_"+Product.config.ralColor[b]])return Configurator.configuration["a_"+Product.config.ralColor[b]];return null},y=function(a,b){ConfiguratorController.isPanelActive(Product.attribute.division)&&(DivisionController.updateWidth(b),DivisionController.isWidthValid()),ConfiguratorController.showSizeInAlert($(".dimension-x"),b),A()},z=function(a,b){ConfiguratorController.isPanelActive(Product.attribute.division)&&(DivisionController.updateHeight(b),DivisionController.isHeightValid()),ConfiguratorController.showSizeInAlert($(".dimension-y"),b),A(),d()},A=function(){var a=parseInt($("#a_"+Product.attribute.height).val()),b=parseInt($("#a_"+Product.attribute.width).val());if(a>0&&b>0)for(var c in Product.config.maximumSizeValue)a>Product.config.maximumSizeValue[c].y||b>Product.config.maximumSizeValue[c].x?ConfiguratorController.disableValue(c):ConfiguratorController.enableValue(c)},B=function(a,c){if(parseInt(a)===Product.value.shutter.yes){switch(void 0===c&&(c=ProductController.getShutterType()),parseInt(c)){case Product.value.shutter.frontMounted:Product.shutter=ShutterController,25===Configurator.productId?Product.shutterType=FrontMountedShutterForWindow:10===Configurator.productId?Product.shutterType=FrontMountedShutterForDoor:633===Configurator.productId&&(Product.shutterType=FrontMountedShutterForSlidingdoor),Product.shutter.init();break;case Product.value.shutter.topMounted:Product.shutter=ShutterController,25===Configurator.productId?Product.shutterType=TopMountedShutterForWindow:10===Configurator.productId?Product.shutterType=TopMountedShutterForDoor:633===Configurator.productId&&(Product.shutterType=TopMountedShutterForSlidingdoor),Product.shutter.init()}b()}else Product.shutter={},Product.shutterType={},E(),ConfiguratorController.update()},C=function(){$("#updateSprossenButton").click(function(a){a.preventDefault(),ConfiguratorController.update()})},D=function(){h()},E=function(){var a,b,c=!1;b=$('.page > div[rel-id="'+Product.attribute.frameBroadening.main+'"]:not(#attributePanel_'+Product.attribute.frameBroadening.main+'):not([style*="display: none"]) .yes-no-selection input'),ConfiguratorController.selectFirstValidValue(b.attr("rel-orig"),!1),$('div[rel-id="'+Product.attribute.frameBroadening.main+'"]:visible label.active:not(.mock-value):not(.customer-click):visible').each(function(){void 0!==(a=$(this).parent().siblings(".dropdown-container").find('input[rel-no="1"]').val())&&(ConfiguratorController.selectSizePickerValue(a,!0),c=!0)}),!1===$("#al_"+Product.value.frameBroadening.yes).hasClass("customer-click")&&0===$('.page > div[rel-id="'+Product.attribute.frameBroadening.main+'"]:not(#attributePanel_'+Product.attribute.frameBroadening.main+'):not([style*="display: none"]) .configurator-size-picker input[rel-no="0"]').length&&(ConfiguratorController.selectValue(Product.value.frameBroadening.no,!0),c=!0),c&&ConfiguratorController.dispatchViewDependencies()},F=function(){if(void 0!==Product.config.materialWithoutDrilling&&void 0!==Product.attribute.drilling){var a=$("#attributePanel_"+Product.attribute.drilling),b=r();-1!==jQuery.inArray(WindowController.getMaterial(),Product.config.materialWithoutDrilling)&&-1!==jQuery.inArray(b,Product.config.fixedGlazingForDrilling)?a.hide():jQuery.inArray(b,Product.config.fixedGlazingForDrilling)&&a.show()}},G=function(){25!==Configurator.productId&&10!==Configurator.productId||(void 0!==Configurator.configuration["a_"+Product.attribute.type]&&void 0!==Product.config.TypeThreeElements[Configurator.configuration["a_"+Product.attribute.type].value]?$("#alert_"+Product.attribute.division).show():$("#alert_"+Product.attribute.division).hide())},H=function(){if(void 0!==Configurator.configuration["a_"+Product.attribute.type]){var a=$("#attributePanel_"+Product.config.windowOpenType[Configurator.configuration["a_"+Product.attribute.type].value]);null!==a&&void 0!==a&&(0===a.find("label.active").length?ConfiguratorController.selectValue(a.find("input:first").val()):ConfiguratorController.selectValue(a.find("label.active > input").val()))}},I=function(){if(633===Configurator.productId){var a=ProductController.getVariante();J(a),K(a)}},J=function(a){633===Configurator.productId&&(Product.attribute.material=Product.config.attribute_material[a],Product.attribute.profil=Product.config.attribute_profil[a],Product.value.material=Product.config.value_material[a])},K=function(a){var b=L(a,!1);M(a,b)},L=function(a,b){if(633===Configurator.productId){var c=!1;return parseInt(a)===Product.value.variante.fst?(N(),ConfiguratorController.disableValue(Product.value.shutter.yes),ConfiguratorController.selectValue(Product.value.shutter.no),ConfiguratorController.enableValue(Product.value.shutter.guideRail),E(),c=!0):b||(ConfiguratorController.enableValue(Product.value.shutter.yes),ConfiguratorController.enableValue(Product.value.shutter.guideRail)),c}},M=function(a,b){var c=!1,d=r();return parseInt(a)===Product.value.variante.hst&&null!==d&&void 0!==Product.config.openingTypeWithMaxWidthForShutters[d]&&Product.config.openingTypeWithMaxWidthForShutters[d]<=$("#a_"+Product.attribute.width).val()?(N(),ConfiguratorController.disableValue(Product.value.shutter.yes),ConfiguratorController.disableValue(Product.value.shutter.guideRail),E(),c=!0):b||(ConfiguratorController.enableValue(Product.value.shutter.yes),ConfiguratorController.enableValue(Product.value.shutter.guideRail)),c},N=function(){ConfiguratorController.selectValue(Product.value.shutter.no),ProductController.hasShutter()&&(ConfiguratorController.dispatchViewDependencies(),Product.shutter={},Product.shutterType={},ConfiguratorController.update())},O=function(){if(void 0!==Product.attribute.tab&&void 0!==Product.attribute.longScrew&&void 0!==Product.attribute.shortScrew){var a=parseInt($("#a_"+Product.attribute.height).val()),b=parseInt($("#a_"+Product.attribute.width).val()),c=0;c+=P(a),c+=Q(b),$("#a_"+Product.attribute.tab).val(c),$("#a_"+Product.attribute.longScrew).val(c),$("#a_"+Product.attribute.shortScrew).val(c)}},P=function(a){var b=0;return a<=1e3?b+=6:a>1e3&&a<=1600?b+=8:a>1600&&(b+=10),b},Q=function(a){var b=0;return a>1500&&a<=2e3?b+=4:a>2e3&&(b+=6),b},R=function(a){if(10===Configurator.productId){var b=!1,c=s();a!==Product.value.thresholdSill.yes&&c!==Product.value.profile.reno&&c!==Product.value.profile.monobloc||(b=!0),b?(ConfiguratorController.selectValue(Product.value.outsideWindowSill.no),ConfiguratorController.disableValue(Product.value.outsideWindowSill.yes)):ConfiguratorController.enableValue(Product.value.outsideWindowSill.yes)}},S=function(a,b){var c,d=Product.config.oldWindowRelation[a];if(-1===jQuery.inArray(a,Product.config.newOpeningTypes)&&0!==a&&void 0!==d){for(c in d)ConfiguratorController.selectValue(d[c]);0!==b&&ConfiguratorController.selectValue(b)}},T=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(c in a){j=0,k=0,l=0,m=0,p=null,d=$("#al_"+c),null!==b&&void 0!==b&&0!==b.length||(p=d.find('.value-promotion-banner[rel-max-value="false"]')),e=U(a[c]);for(h in e)f=e[h],g=$("#al_"+f),p=g.find('.value-promotion-banner[rel-max-value="false"]'),1===p.length&&(l=parseInt(p.attr("rel-discount")),i=g.find("#hs_"+f),1===i.length&&(j=parseInt(i.val())),l-j>m-k&&(m=l,k=j));1===p.length&&(l=parseInt(p.attr("rel-discount")))>m-k&&(m=l,k=0),void 0!==Configurator.productPromotions&&(void 0!==Configurator.productPromotions[c]?m+=Configurator.productPromotions[c].discount:void 0!==Configurator.productPromotions.complete&&(m+=Configurator.productPromotions.complete.discount)),n=d.find("#mp_"+c),o=parseFloat(n.attr("data-mp")),Configurator.promotion>0&&(o*=(100-Configurator.promotion)/100),m>0&&(k>0&&(o*=(100+k)/100),o*=(100-m)/100),n.html(parseInt(o))}},U=function(a){var b=[];return $('input[rel-orig="'+a+'"]').each(function(){b.push($(this).val())}),b};return{init:function(a){Product=a,C(),D(),DivisionController.updateImagePreview(),633!==Configurator.productId&&(WindowController.hasOutsideWindowSill()||WindowController.hasShutter()||WindowController.hasOwnProperty("mosquito"))&&OutsideWindowSillController.reset()},isValid:function(){return c()},preUpdate:function(){try{DivisionController.updateImagePreview(),a(!0)}catch(a){Logger.log(Log.ERR,a)}},postUpdate:function(a){try{$("#attributePanel_"+Product.attribute.size).find('input[id^="a_"]').each(function(){$(this).val()&&$(this).valid()}),void 0!==Product.shutter.update&&Product.shutter.update(a),WindowController.hasOutsideWindowSill()&&OutsideWindowSillController.postUpdate(a)}catch(a){Logger.log(Log.ERR,a)}},getPreviewImage:function(a){return o(a)},notAvailable:function(a){var b=$("#errorMessage_"+Product.attribute.size);!1===a.isAvailable&&a.dimensions.squareMillimeter>0?(b.find(".messageBox").html(Configurator.translator.configuratorProductNotAvailable),b.css("display","block")):b.css("display","none")},isDivisionValid:function(){return DivisionController.isValid()},getSelectedTypeValue:function(){return q()},getMaterial:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.material]&&null!==Configurator.configuration["a_"+Product.attribute.material]?Configurator.configuration["a_"+Product.attribute.material].value:null},getPVCAluProfile:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.profil.pvcalu]&&null!==Configurator.configuration["a_"+Product.attribute.profil.pvcalu]?Configurator.configuration["a_"+Product.attribute.profil.pvcalu].value:null},getFacingFormwork:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.facingFormwork]&&null!==Configurator.configuration["a_"+Product.attribute.facingFormwork]?Configurator.configuration["a_"+Product.attribute.facingFormwork].value:null},getShutter:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.shutter]&&null!==Configurator.configuration["a_"+Product.attribute.shutter]?Configurator.configuration["a_"+Product.attribute.shutter].value:null},getShutterType:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.shutterType]&&null!==Configurator.configuration["a_"+Product.attribute.shutterType]?Configurator.configuration["a_"+Product.attribute.shutterType].value:null},hasShutter:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.shutter]&&null!==Configurator.configuration["a_"+Product.attribute.shutter]&&parseInt(Configurator.configuration["a_"+Product.attribute.shutter].value)===Product.value.shutter.yes},hasSprouts:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.sprouts]&&null!==Configurator.configuration["a_"+Product.attribute.sprouts]&&parseInt(Configurator.configuration["a_"+Product.attribute.sprouts].value)===Product.value.sprouts.yes},hasOutsideWindowSill:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.outsideWindowSill]&&null!==Configurator.configuration["a_"+Product.attribute.outsideWindowSill]&&parseInt(Configurator.configuration["a_"+Product.attribute.outsideWindowSill].value)===Product.value.outsideWindowSill.yes},initShutter:function(){var a=ProductController.getShutter();Logger.log(Log.DEBUG,'initShutter with value "'+a+'"'),B(a)},initSprouts:function(){$(".sprout-slider .slider").on("input change",function(){var a=parseInt($(this).attr("rel-id")),b=parseInt($(this).val());j(a,b),l()}),$(".sprout-slider .preview").on("input change",function(){var a=parseInt($(this).attr("rel-id")),b=parseInt($(this).val());j(a,b),l()}).on("focusout",function(){isNaN(parseInt($(this).val()))&&$(this).val(0)})},getVariante:function(){return"number"==typeof Product.attribute.variante&&"object"==typeof Configurator.configuration["a_"+Product.attribute.variante]?parseInt(Configurator.configuration["a_"+Product.attribute.variante].value):null},getWidth:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.width]&&null!==Configurator.configuration["a_"+Product.attribute.width]?Configurator.configuration["a_"+Product.attribute.width].value:null},getHeight:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.height]&&null!==Configurator.configuration["a_"+Product.attribute.height]?Configurator.configuration["a_"+Product.attribute.height].value:null},getGlazingType:function(){var a=null;return void 0===Product.attribute.glazing||null===Product.attribute.glazing?null:(jQuery.each(Configurator.configuration,function(b,c){-1===jQuery.inArray(parseInt(c.aId),Product.attribute.glazing)&&-1===jQuery.inArray(parseInt(c.aId),Product.attribute.fillings)||(a=c.value)}),a)},getWoodType:function(){var a=null;return void 0===Product.attribute.woodType||null===Product.attribute.woodType?null:(jQuery.each(Configurator.configuration,function(b,c){-1!==jQuery.inArray(parseInt(c.aId),Product.attribute.woodType)&&(a=c.value)}),a)},getEdgeType:function(){return void 0===Product.attribute.edge||null===Product.attribute.edge?"aluminium":void 0===Configurator.configuration["a_"+Product.attribute.edge]||null===Configurator.configuration["a_"+Product.attribute.edge]?"aluminium":parseInt(Configurator.configuration["a_"+Product.attribute.edge].value)===Product.attribute.edgeType.ksd?"ksd":parseInt(Configurator.configuration["a_"+Product.attribute.edge].value)===Product.attribute.edgeType.swisspacer?"swisspacer":void 0},handleVarianteDependensies:function(a,b,c){I()},isAttributeAvailable:function(a){return $("#al_"+a).length},changed:function(a,b,c,d,e){Logger.log(Log.DEBUG,'Triggering Callback Method "'+a+'"'),this["_"+a](b,parseInt(c),parseInt(d),e)},_eventMaterialChanged:function(a,b,c){H()},_eventProfilChanged:function(a,b,c){f(c),H()},_eventTypeChanged:function(a,b,c){h(),i(),G(),d(),DivisionController.resetDivision()},_eventOutsideWindowSillChanged:function(a,b,c){c===Product.value.outsideWindowSill.yes?OutsideWindowSillController.init(!1):OutsideWindowSillController.terminate()},_eventWidthChanged:function(a,b,c){y(b,c)},_eventHeightChanged:function(a,b,c){z(b,c)},_eventThresholdSillChanged:function(a,b,c){R(parseInt(c))},_eventSproutsChanged:function(a,b,c){l()},_eventShutterChanged:function(a,b,c,d){B(parseInt(c))},_eventShutterTypeChanged:function(a,b,c,d){B(Product.value.shutter.yes,parseInt(c))},_eventShutterTypeOfDriveChanged:function(a,c,d,e){!1===e&&b()},_eventShutterDriveSideChanged:function(a,c,d,e){!1===e&&b()},_eventShutterMaterialChanged:function(a,b,c,d){},_eventShutterBoxHeightChanged:function(a,c,d,e){!1===e&&b()},_eventVarianteChanged:function(){I()},_eventColorChanged:function(a,b,c){},fixOldOpeningTypeRelations:function(a,b){S(a,b)},onPageChange:function(){if(g(s()),F(),l(),void 0!==Product.attribute.thresholdSill&&void 0!==Configurator.configuration["a_"+Product.attribute.thresholdSill]&&R(parseInt(Configurator.configuration["a_"+Product.attribute.thresholdSill].value)),WindowController.hasOutsideWindowSill()&&OutsideWindowSillController.reset(),633===Configurator.productId){var a=ProductController.getVariante();K(a)}WindowController.hasShutter()&&(b(),Product.shutter.updateValidation()),O()},validateSizes:function(){var a=$("#a_"+Product.attribute.width),b=$("#a_"+Product.attribute.height);""!==a.val()&&a.valid(),""!==b.val()&&b.valid()},allSizesSet:function(){var a=$("#a_"+Product.attribute.width),b=$("#a_"+Product.attribute.height);return""!==a.val()&&""!==b.val()},updateMinimumPriceForPromotion:function(){if(633===Configurator.productId){var a=$("#al_4233").find('.value-promotion-banner[rel-max-value="false"]');T(Product.config.materialValueProfileAttributeAssignmentPsk,a),a=$("#al_4234").find('.value-promotion-banner[rel-max-value="false"]'),T(Product.config.materialValueProfileAttributeAssignmentHst,a),a=$("#al_4235").find('.value-promotion-banner[rel-max-value="false"]'),T(Product.config.materialValueProfileAttributeAssignmentFst,a)}else T(Product.config.materialValueProfileAttributeAssignment,null)},updateFrameBroadening:function(){b()}}}(),FrontDoorController=function(){function a(a){var b=j();if(null===b)return!0;var c=b.productAttributeId,d=$("#alert_"+c);if($('.configurator-warning[rel-id="'+c+'"]').remove(),ConfiguratorController.checkIfValueSelected(Product.value.frameBroadening[c].yes)){d.show();var e=$('div[rel-id="'+c+'"]:visible'),f=e.find('.configurator-size-picker input[rel-no="1"]'),g=e.find(".configurator-size-picker label.customer-click"),h=f.closest('div[id^="attributePanel_"]'),i=$(h[0]),k="error";if(e.removeClass(k),f.length===Object.keys(Product.attribute.frameBroadening[c]).length&&(!0===a&&g.length>=1||!1===a))return Logger.log(Log.DEBUG,"WindowController isValid(): No option was chosen for the frame broadening attribute"),h.addClass(k),i.before('<div class="row configurator-warning" rel-id="'+c+'" style="width: initial; float: initial;"><div class="message-box">'+Configurator.translator.configuratorErrorNoOptionSelected+"</div>"),ConfiguratorController.scrollToCenter(i.attr("id").replace("attributePanel_","")),!1}else d.hide();return!0}function b(a){c(FrontDoorController.getSelectedTypeValue(),a)}function c(a,b){var c=x(b),d=w(a),e=y(b);!0===c&&!0===d?($(".toggle-info.only-side-panels-selectable").show(),$(".toggle-info.chinchilla-glass-preselected").show(),$(".toggle-info.all-glass-selectable").hide()):!1===c&&!1===e?($(".toggle-info.all-glass-selectable").show(),$(".toggle-info.only-side-panels-selectable").hide(),$(".toggle-info.chinchilla-glass-preselected").hide()):!0===e&&($(".toggle-info.only-side-panels-selectable").show(),$(".toggle-info.chinchilla-glass-preselected").hide(),$(".toggle-info.all-glass-selectable").hide())}function d(){var a,b,c,d,e,f,g;$(".starting-price").each(function(){c=0,d=0,e=0,g=null,a=$(this).attr("data-id"),b=$("#al_"+a),g=$("#attributePanel_"+Product.attribute.material+' label.active .value-promotion-banner[rel-max-value="false"]'),null!==g&&void 0!==g&&0!==g.length||(g=b.find('.value-promotion-banner[rel-max-value="false"]')),1===g.length&&(d=parseInt(g.attr("rel-discount"))),void 0!==Configurator.productPromotions&&void 0!==Configurator.productPromotions.complete&&(e+=Configurator.productPromotions.complete.discount),f=parseFloat($(this).attr("data-mp")),Configurator.promotion>0&&(f*=(100-Configurator.promotion)/100),e>0&&(f*=(100-e)/100),$(this).html(parseInt(f))})}var e=function(a){Product=a},f=function(){Logger.log(Log.DEBUG,"FrontDoorController isValid()");try{if(Configurator.currentPage>=0){if(!1===$("#a_"+Product.attribute.width).valid()||!1===$("#a_"+Product.attribute.height).valid())return Logger.log(Log.DEBUG,"FrontDoorController isValid(): Size invalid or missing"),ConfiguratorController.scrollTo(0,Product.attribute.size,!1),!1;if(!1===Configurator.isAvailable)return Logger.log(Log.DEBUG,"FrontDoorController isAvailable: Product is not available"),ConfiguratorController.scrollTo(0,Product.attribute.size,!0),!1;if(!DivisionController.isValid())return ConfiguratorController.scrollTo(0,Product.attribute.division,!1),Logger.log(Log.DEBUG,"FrontDoorController isValid(): Division not valid"),!1;if(!1===DivisionController.isValid())return!1}if(1===Configurator.currentPage&&!1===a(!1))return!1}catch(a){return Logger.log(Log.ERR,"FrontDoorController isValid(): "+a),!1}return!0},g=function(a){var b="";return b+='<span class="pull-left hidden-md">'+Configurator.translator.configuratorPreviewHeadlineViewOutside+"</span>",b+='<span class="pull-right">'+Configurator.translator.configuratorPreviewHeadlineViewInside+"</span>"},h=function(){var a=[];a.push("div[id=attributePanel_505]"),a.push("div[id=attributePanel_548]"),a.push("div[id=attributePanel_606]");for(var b=$(a.join(",")),c=0;c<b.length;c++)if("none"!==$(b[c]).css("display"))return parseInt(b[c].id.replace(/attributePanel_/g,""));return null},i=function(){Logger.log(Log.DEBUG,"FrontDoorController initHandler(): init"),$(".einteilungBoxHeight").change(function(){DivisionController.isHeightValid(this)}),$(".einteilungBoxWidth").change(function(){DivisionController.isWidthValid(this)})},j=function(){var a=null,b=JSON.parse(JSON.stringify(Product.attribute.frameBroadening));for(var c in b)if(b.hasOwnProperty(c)&&ConfiguratorController.isPanelActive(c)){a=$.extend(b[c],{productAttributeId:c});break}return a},k=function(a){return void 0!==Configurator.configuration["a_"+a]?parseInt(Configurator.configuration["a_"+a].value):null},l=function(){if(void 0!==Configurator.configuration["a_"+Product.attribute.rotation]){var a=Product.config.rotationDirection[Configurator.configuration["a_"+Product.attribute.rotation].value];$.each(Product.attribute.model,function(b,c){$('input[name="a_'+c+'"]').each(function(){var b=$(this).closest("div").find("img"),c=b.attr("src").replace(/haustueren-(.*?)-/g,"haustueren-"+a+"-");b.attr("src",c);var d=b.attr("data-hover").replace(/haustueren-(.*?)-/g,"haustueren-"+a+"-");b.attr("data-hover",d),m(b)})});var b=h(),c=k(b),d=n(c),e=[],f=0,i=d.replace(/haustueren-(.*?)-/g,"din-"+a+"-");return e[f++]='<a class="list-group-item pull-left" onclick="ConfiguratorController.scrollTo(0,'+$("#av_"+c).attr("rel-orig")+',false)"><img class="show col-xs-12 img-responsive" style="padding-left:0;padding-right:0;" width="190" src="'+i.replace(/\.png/g,".jpg")+'"><div class="visible-md"><span style="font-size:10px;">'+Configurator.translator.configuratorPreviewHeadlineViewOutside+'</span><span class="pull-right" style="font-size:10px;">'+Configurator.translator.configuratorPreviewHeadlineViewInside+'</span></div><div class="hidden-md pull-left" style="width:100%">'+g(c)+"</div></a>",e.join("")}},m=function(a){a.webuiPopover("destroy"),a.webuiPopover({type:"html",content:'<img class="img-rounded" style="float:right;width:470px;max-width:470px;min-height:442px;padding-bottom:15px;padding-top:5px;" src="'+a.attr("data-hover")+'" />',placement:"auto",trigger:"hover",constrains:"vertical",delay:1,multi:!1,arrow:!0,closeable:!1,padding:!0})},n=function(a){return null!==a?"/img/attributevalues/"+$("#avi_"+a).attr("rel-src"):""},o=function(){var a=FrontDoorController.getSelectedTypeValue();return'<span style="display: inline-block; margin-top:15px; text-align: center;"><img class="img-responsive show col-xs-12 img-responsive" style="display: block; padding-left:0;padding-right:0;" src="'+n(a)+'"></span>'},p=function(){$("#einteilungPreview").html(o())},q=function(a,b){ConfiguratorController.isPanelActive(Product.attribute.division)&&(DivisionController.updateWidth(b),DivisionController.isWidthValid())},r=function(a,b){ConfiguratorController.isPanelActive(Product.attribute.division)&&(DivisionController.updateHeight(b),DivisionController.isHeightValid())},s=function(a){if(ConfiguratorController.isPanelActive(Product.attribute.division)){t();var b=h();c(a,k(b)),DivisionController.resetDivision()}},t=function(){-1!==jQuery.inArray(parseInt(FrontDoorController.getSelectedTypeValue()),Product.config.withoutSidePanelsOrFanlight)?$(".side-panels-fanlight-info-text").hide():$(".side-panels-fanlight-info-text").show()},u=function(){var a=ConfiguratorController.isPanelActive(Product.attribute.divisionField.x3);$("#a_"+Product.attribute.divisionField.x3).removeAttr("disabled"),a&&$("#a_"+Product.attribute.divisionField.x3).attr("disabled","disabled")},v=function(a,b){var c,d,e=window.location.href,f=$(a).attr("rel-value");switch(parseInt(f)){case Product.value.material.pvc:case Product.value.material.wood:case Product.value.material.alu:updateHelper(a,"a_"+f,b);break;case Product.value.material.inothermAlu:updateTiles($(a),$(a).find("input"),!1),e.match(/&mode=2/)||e.match(/&mode=3/)?(c=e.replace(/&id=665&/,"&id=614&"),d=c.match(/[^\/]*.php/),c=c.replace(/(\/)[^\/]*.php/,"/inotherm-"+d),window.location=c):(e.indexOf("&")>-1&&(e=e.substring(0,e.indexOf("&"))),window.location=e.replace(/614/,"665"));break;case Product.value.material.pirnarAlu:updateTiles($(a),$(a).find("input"),!1),e.match(/&mode=2/)||e.match(/&mode=3/)?(c=e.replace(/&id=869&/,"&id=614&"),d=c.match(/[^\/]*.php/),c=c.replace(/(\/)[^\/]*.php/,"/pirnar-"+d),window.location=c):(e.indexOf("&")>-1&&(e=e.substring(0,e.indexOf("&"))),window.location=e.replace(/614/,"869"))}},w=function(a){return-1===jQuery.inArray(a,Product.config.withoutSidePanelsOrFanlight)},x=function(a){return-1===jQuery.inArray(a,Product.config.modelWithoutDefaultChinchillaGlass)},y=function(a){return-1!==jQuery.inArray(a,Product.config.modelWithoutGlass)};return{init:function(a){e(a),i(),p()},isValid:function(){return f()},preUpdate:function(){try{p(),a(!0)}catch(a){Logger.log(Log.ERR,a)}},postUpdate:function(a){},getPreviewImage:function(a){return l(a)},notAvailable:function(a){},getSelectedTypeValue:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.type]?parseInt(Configurator.configuration["a_"+Product.attribute.type].value):null},changed:function(a,b,c,d){Logger.log(Log.DEBUG,'Triggering Callback Method "'+a+'"'),this["_"+a](b,parseInt(c),parseInt(d))},triggerCustomJavaScript:function(a,b){v(a,b)},_eventWidthChanged:function(a,b,c){q(parseInt(b),parseInt(c))},_eventHeightChanged:function(a,b,c){r(parseInt(b),parseInt(c))},_eventTypeChanged:function(a,b,c){s(parseInt(c)),u()},_eventModelChanged:function(a,c,d){b(parseInt(d))},validateSizes:function(){var a=$("#a_"+Product.attribute.width),b=$("#a_"+Product.attribute.height);""!==a.val()&&a.valid(),""!==b.val()&&b.valid()},allSizesSet:function(){var a=$("#a_"+Product.attribute.width),b=$("#a_"+Product.attribute.height);return""!==a.val()&&""!==b.val()},getMaterial:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.material]&&null!==Configurator.configuration["a_"+Product.attribute.material]?parseInt(Configurator.configuration["a_"+Product.attribute.material].value):null},_eventMaterialChanged:function(a,b,c){DivisionController.updateWidth(parseInt($("#a_"+Product.attribute.width).val()))},
updateMinimumPriceForPromotion:function(){d()}}}(),InothermFrontDoorController=function(){function a(a){var b=Product.attribute.frameBroadening.main,c=$("#alert_"+b);if($('.configurator-warning[rel-id="'+b+'"]').remove(),ConfiguratorController.checkIfValueSelected(Product.value.frameBroadening.yes)){c.show();var d=$('div[rel-id="'+b+'"]:visible'),e=d.find('.configurator-size-picker input[rel-no="1"]'),f=d.find(".configurator-size-picker label.customer-click"),g=e.closest('div[id^="attributePanel_"]'),h=$(g[0]),i="error";if(d.removeClass(i),e.length===Object.keys(Product.attribute.frameBroadening[b]).length&&(!0===a&&f.length>=1||!1===a))return Logger.log(Log.DEBUG,"InothermFrontdoorController isValid(): No option was chosen for the frame broadening attribute"),g.addClass(i),h.before('<div class="row configurator-warning" rel-id="'+b+'" style="width: initial; float: initial;"><div class="message-box">'+Configurator.translator.configuratorErrorNoOptionSelected+"</div>"),ConfiguratorController.scrollToCenter(h.attr("id").replace("attributePanel_","")),!1}else c.hide();return!0}function b(){var a=$("#affix-preview-image");a.find(".exterior-svg-container").toggle(),a.find(".interior-svg-container").toggle()}var c=function(a){Product=a,h(),g(),v(),A(y()),C(),w(),d(),I(),T(),U()},d=function(){$(".sticky-affix").on("sticky_kit:bottom",function(){$(this).parent().addClass("stuck-to-bottom")}).on("sticky_kit:unbottom",function(){$(this).parent().removeClass("stuck-to-bottom"),$(this).parent().css("position","relative")})},e=function(){Logger.log(Log.DEBUG,"InothermFrontdoorController isValid()");try{if(Configurator.currentPage>=0&&!1===f())return!1;if(1===Configurator.currentPage&&!1===a(!1))return!1}catch(a){return Logger.log(Log.ERR,"InothermFrontdoorController isValid(): "+a),!1}return!0},f=function(){if(!1===$(".configurator-size-input").valid()){var a=$(".configurator-size-input.error").filter(":first").attr("rel-id");return ConfiguratorController.scrollTo(0,parseInt(a),!1),Logger.log(Log.DEBUG,"InothermFrontdoorController isValid(): Size invalid or missing"),!1}},g=function(){$(".configurator-division:first").before('<div class="configurator-division-placeholder hidden-xs"></div>')},h=function(){$(".full-dimension-input").change(function(){var a=$(this),b=a.attr("rel-axis-type");a.val()>0?a.attr("rel-manual",!0):a.attr("rel-manual",!1),"y"!==b?i(a,b):x($(".configurator-size-input:not('.full-dimension-input'):visible[rel-axis-type=\""+b+'"]')),m(b,a.val()),ConfiguratorController.showSizeInAlert($("#bodeneinstandsprofil-"+b),a.val()),ConfiguratorController.update()}),$(".configurator-size-input").not(".full-dimension-input").change(function(){var a=$(this),b=a.attr("rel-axis-type");if(""===$('.full-dimension-input[rel-axis-type="'+b+'"]:visible').val())return a.val(""),void ConfiguratorController.update();a.val()>0?a.attr("rel-manual",!0):a.attr("rel-manual",!1),l(a,b),ConfiguratorController.update()})},i=function(a,b){var c=k(a,b);if(c)if(0!==c.full&&0!==c.part){if($('.configurator-size-input[rel-axis="'+b+'"]:visible').val(c.full),"x"===b){var d=$('.configurator-size-input[rel-axis="'+b+'1"]:visible'),e=$('.configurator-size-input[rel-axis="'+b+'2"]:visible');void 0!==d&&d.val(c.part),void 0!==e&&e.val(c.part)}else if("y"===b){var f=$('.configurator-size-input[rel-axis="'+b+'3"]:visible');void 0!==f&&f.val(c.part)}$('.configurator-size-input[rel-axis-type="'+b+'"]:visible').valid()}else x($('.configurator-size-input[rel-axis-type="'+b+"\"]:not('.full-dimension-input')"));else $('.configurator-size-input[rel-axis="'+b+'"]:visible').val(parseInt(a.val())),$('.configurator-size-input[rel-axis-type="'+b+'"]:visible').valid()},j=function(a,b){var c=Math.round(parseInt(a.val())/100*Product.config["sizeCalculationFactor_"+b]);return c<Product.config["minDoorLeaf_"+b]?c=Product.config["minDoorLeaf_"+b]:c>Product.config["maxDoorLeaf_"+b]&&(c=Product.config["maxDoorLeaf_"+b]),c},k=function(a,b){var c=j(a,b),d=$('.configurator-size-input[rel-axis-type="'+b+'"]:not(.full-dimension-input):visible').length,e=0;return d>1&&(0!==parseInt(a.val())&&a.valid()?(d-=1,e=(parseInt(a.val())-c)/d,e%1!=0&&(c-=1,e=(parseInt(a.val())-c)/d),e<Product.config.minDoorPart&&(e=Product.config.minDoorPart,c=parseInt(a.val())-d*Product.config.minDoorPart),{part:e,full:c}):{part:0,full:0})},l=function(a,b){var c=$('.full-dimension-input[rel-axis-type="'+b+'"]:visible'),d=parseInt(c.val()),e=parseInt(a.val()),f=0,g=$(".configurator-size-input:not('.full-dimension-input'):visible[rel-axis-type=\""+b+'"]').length,h=a.attr("rel-axis");switch(h){case"x1":case"x2":var i=j(c,b);if(g>2){var k="x1"===h?"x2":"x1",l=$('.configurator-size-input:visible[rel-axis="'+k+'"]');"true"===l.attr("rel-manual")?i=d-e-parseInt(l.val()):(f=d-(e+i),f<Product.config.minDoorPart&&(f=Product.config.minDoorPart,i=d-(e+f)),$('.configurator-size-input[rel-axis="'+k+'"]').val(f))}else i=d-e;$('.configurator-size-input[rel-axis="x"]').val(i);break;case"x":if(f=d-e,g>2){var m=$('.configurator-size-input[rel-axis="x1"]');if((f-=parseInt(m.val()))<Product.config.minDoorPart){f=Product.config.minDoorPart;var n=d-(f+e);m.val(n)}$('.configurator-size-input[rel-axis="x2"]').val(f)}else{var o=$('.configurator-size-input[rel-axis-type="'+b+'"]:not(\'[rel-axis="'+b+"\"]'):not('.full-dimension-input'):visible").attr("rel-axis");$('.configurator-size-input[rel-axis="'+o+'"]').val(f)}break;case"y":case"y3":var p=d-e,q="y"===a.attr("rel-axis")?"y3":"y";$('.configurator-size-input[rel-axis="'+q+'"]').val(p)}$('.configurator-size-input[rel-axis-type="'+b+'"]').valid()},m=function(a,b){$(".configurator-division-preview > span."+a+"Full").html(b)},n=function(a,b){t(b,!1),s(),o()},o=function(){var a=parseInt(Configurator.configuration["a_"+Product.attribute.doorType].value);if(r(a)){if(parseInt(Configurator.attributeElementList.filter('[rel-id="'+Product.attribute.safetyPackage.withGlass+'"]').find("input:checked").val())===Product.value.safetyPackage[Product.attribute.safetyPackage.withGlass].rc2)return ConfiguratorController.selectValue(Product.value.dowelHoleDrilling.no),void p()}q()},p=function(){$("#attributePanel_"+Product.config.dowelHoleDrilling).hide()},q=function(){$("#attributePanel_"+Product.config.dowelHoleDrilling).show()},r=function(a){return-1===Product.config.doorTypesWithoutGlass.indexOf(a)},s=function(){var a=$(".configurator-size-input[rel-axis-type=\"x\"]:visible:not('.full-dimension-input')").length-1,b=$(".configurator-size-input[rel-axis-type=\"y\"]:visible:not('.full-dimension-input')").length-1;-1===b&&1===a?$(".side-panel-notice").text(Configurator.translator.configuratorSidePanelNotice1ST0OL):-1===b&&2===a?$(".side-panel-notice").text(Configurator.translator.configuratorSidePanelNotice2ST0OL):1===b&&1===a?$(".side-panel-notice").text(Configurator.translator.configuratorSidePanelNotice1ST1OL):1===b&&2===a?$(".side-panel-notice").text(Configurator.translator.configuratorSidePanelNotice2ST1OL):1===b&&-1===a&&$(".side-panel-notice").text(Configurator.translator.configuratorSidePanelNotice0ST1OL)},t=function(a,b){var c=$(".configurator-division-preview:visible");void 0!==c&&(D(a,c),E(a)),b||(x($(".configurator-size-input:not('.full-dimension-input')")),u())},u=function(){$(".full-dimension-input:not(:visible)").each(function(){if(""!==$(this).val()){var a=$('.full-dimension-input:visible[rel-axis-type="'+$(this).attr("rel-axis-type")+'"]');a.val($(this).val()),a.valid(),$(this).val("")}}),$(".full-dimension-input:visible").each(function(){var a=$(this);""!==a.val()&&i(a,a.attr("rel-axis-type"))}),ConfiguratorController.send()},v=function(){var a=$("#attributePanel_"+Product.attribute.type).find("input:checked");t(a.val(),!0),s(),$(".full-dimension-input:visible").each(function(){m($(this).attr("rel-axis-type"),$(this).val())})},w=function(){$("#big-preview-image").find("div").hover(function(){$(this).find($(".icon-back-to-selection img")).show()},function(){$(this).find($(".icon-back-to-selection img")).hide()})},x=function(a){a.val("").removeClass("valid").removeClass("error").rules("remove"),a.parent().find("label.error").hide()},y=function(){return void 0!==Configurator.configuration["a_"+Product.attribute.exteriorHandle]?Configurator.configuration["a_"+Product.attribute.exteriorHandle].value:void 0!==Configurator.configuration["a_"+Product.attribute.exteriorHandleZAE]?Configurator.configuration["a_"+Product.attribute.exteriorHandleZAE].value:null},z=function(a,b,c){A(c)},A=function(a){if(null!==a&&void 0!==Configurator.parameterMatrix&&void 0!==Configurator.parameterMatrix[a]&&"undefined"!==Configurator.parameterMatrix[a][Product.parameter.doorSpyAvailableInExteriorHandle]){var b=$("#door-spy-notice");0===parseInt(Configurator.parameterMatrix[a][Product.parameter.doorSpyAvailableInExteriorHandle])?(ConfiguratorController.disableValue(Product.value.doorSpyInHandleYes),ConfiguratorController.selectValue(Product.value.doorSpyInHandleNo,!0),b.length?b.show():$("#attributePanel_"+Product.attribute.doorSpyInHandle).append(B())):(ConfiguratorController.enableValue(Product.value.doorSpyInHandleYes),b.length&&b.hide())}},B=function(){return'<div id="door-spy-notice" class="configurator-notice"><i class="info-icon"></i><div style="font-weight:700;">'+Configurator.translator.doorSpyOnlyAvailableForZAE7+"</div></div>"},C=function(){var a='<div class="configurator-notice" style="margin-top: 0 !important;"><i class="info-icon"></i><div style="font-weight: 700;">'+Configurator.translator.fingerprintScannerOnlyAvailableForZAE7+"</div></div>";$("#attributePanel_"+Product.attribute.fingerprintInHandleAvailable).append(a)},D=function(a,b){var c="measure_"+$("#avi_"+a).attr("rel-src"),d=$("#configurator-row").attr("rel-id");b.find("img").attr("src","/img/division/"+d+"-"+c)},E=function(a){if(void 0!==Configurator.parameterMatrix&&void 0!==Configurator.parameterMatrix[a]){var b=0,c=$("#configurator-row").attr("rel-id");for(var d in Product.config.divisionFieldParams)void 0!==Configurator.parameterMatrix[a][Product.config.divisionFieldParams[d]]&&($(".divisionImage:visible").eq(b).html('<img src="/img/division/'+c+"-"+Configurator.parameterMatrix[a][Product.config.divisionFieldParams[d]]+'">'),b++)}},F=function(a){var b=$("#"+a.id),c=b.closest("label");c.toggleClass("active"),G(a,c),H()},G=function(a,b){if(b.hasClass("active")&&void 0!==Product.config.filterVerriegelungType[a.value])for(var c in Product.config.filterVerriegelungType[a.value]){var d=$("#al_"+Product.config.filterVerriegelungType[a.value][c]);d.hasClass("active")&&($("#av_"+Product.config.filterVerriegelungType[a.value][c]).prop("checked",!1),d.removeClass("active"))}},H=function(){var a=$("#attributePanel_"+Product.config.filterVerriegelung),b=a.find("input"),c="";if($(".configurator-filter-list.verriegelung label").hasClass("active")?($(".configurator-filter-list.verriegelung label.active").each(function(){c+=$(this).find("input").val()}),b.each(function(){ConfiguratorController.disableValue($(this).val())})):b.each(function(){ConfiguratorController.enableValue($(this).val())}),void 0!==Product.config.filterVerriegelungDependencies&&void 0!==Product.config.filterVerriegelungDependencies[c])for(var d in Product.config.filterVerriegelungDependencies[c])ConfiguratorController.enableValue(Product.config.filterVerriegelungDependencies[c][d]);a.find("label").hasClass("active")||(a.find("label:not('.disabled'):first").prop("checked",!0).trigger("click").addClass("active"),ConfiguratorController.update())},I=function(){J($('input[name="a_'+Product.attribute.verriegelungDefault+'"]:checked').val()),$('input[name="a_'+Product.attribute.verriegelungDefault+'"]').click(function(){var a=$('input[name="a_'+Product.attribute.verriegelungDefault+'"]:checked');J(a.val())})},J=function(a){var b=$("#alert_"+Product.attribute.verriegelungDefault);parseInt(a)===Product.value.bt1022?b.show():b.hide()},K=function(){L($("#configurator-affix").is(":visible")||$(".configurator-mobile-affix").is(":visible")||$(".sticky-affix").is(":visible")),ConfiguratorController.recalculateAffix()},L=function(a){Configurator.parametersForSVG&&Configurator.parametersChanged&&(Configurator.currentImageRequest&&4!==Configurator.currentImageRequest.readyState&&(Logger.log(Log.DEBUG,"InothermFrontdoorController generateSvgImage(): abort current request"),Configurator.currentImageRequest.abort(),Configurator.currentImageRequest=null),Configurator.currentImageRequest=$.ajax({type:"POST",url:"/svg/door",data:{params:Configurator.parametersForSVG,productId:Configurator.productId,showPreviewImage:a},dataType:"json",success:function(b){1===b.code&&(b.canvas_exterior||b.exterior&&b.interior)&&(a&&b.exterior&&b.interior&&M(b),b.canvas_exterior&&b.canvas_interior&&O(b))},complete:function(){return!0},error:function(a,b,c){"abort"!==b?Logger.log(Log.ERR,"request failed: "+c):Logger.log(Log.DEBUG,"InothermFrontdoorController generateSvgImage(): request aborted error")}}))},M=function(a){console.log("getPreviewImage(): showAffixImageContainer"),N($(".exterior-svg-container"),a.exterior),N($(".interior-svg-container"),a.interior),ConfiguratorController.updatePreview('[{"type":"svg","url":"'+a.exterior+'"},{"type":"svg","url":"'+a.interior+'"}]')},N=function(a,b,c){var d="";void 0!==c&&(d="width:"+c),b!==a.find("object").attr("data")&&(a.find("object").remove(),a.prepend('<object class="img-responsive" type="image/svg+xml" data="'+b+'" style="'+d+'"></object>'))},O=function(a){var b=$("#configurator-row");b.find("#canvas-exterior").remove(),b.append('<canvas width="100px" height="100px" id="canvas-exterior" class="hidden" rel-url="'+a.canvas_exterior+'"></canvas>'),b.find("#canvas-interior").remove(),b.append('<canvas width="100px" height="100px" id="canvas-interior" class="hidden" rel-url="'+a.canvas_interior+'"></canvas>')},P=function(a){$(document).off("scroll");var b=$("#currentPosition"),c=b.val();void 0!==a&&a&&(c=$("#configurator").offset().top-62,b.val($("#configurator-affix-container").offset().top-62)),$("#big-preview-image, #back-to-selection").toggle(),$("#affix-preview-image").toggleClass("hidden"),$("html, body").animate({scrollTop:c},500,"swing",function(){Q()})},Q=function(){$(document).off("scroll").on("scroll",function(){var a=$(window).scrollTop(),b=$("#big-preview-image"),c=$("#configurator").offset().top+4*b.height()/5;b.is(":visible")&&a>c&&($(document).off("scroll"),R())})},R=function(){$("#back-to-selection").toggle(),$("#affix-preview-image").toggleClass("hidden");var a=$("#big-preview-image");a.hide();var b=$(window).scrollTop()-a.height();$("html, body").scrollTop(b)},S=function(a,b){updateTiles($(a),$(a).find("input"),!1);var c=$(a).attr("rel-value"),d=window.location.href;d.match(/&mode=2/)||d.match(/&mode=3/)?(d=d.replace(/inotherm-/,""),parseInt(c)===Product.value.material.wood?d=d.replace(/&id=665&/,"&547=2654&id=614&"):parseInt(c)===Product.value.material.pvc&&(d=d.replace(/&id=665&/,"&id=614&"))):parseInt(c)!==Product.value.material.pvc&&parseInt(c)!==Product.value.material.wood||(d=d.replace(/665/,"614"),parseInt(c)===Product.value.material.wood&&(d+="&t=wood")),window.location=d},T=function(){$("label").click(function(){var a=$(this).closest(".panel").parent().attr("rel-id");-1!==jQuery.inArray(parseInt(a),Product.config.interiorImageDisplay)?V():W()})},U=function(){if(665===Configurator.productId){var a=Object.keys(Product.attribute.safetyPackage).map(function(a){return"#attributePanel_"+Product.attribute.safetyPackage[a]}).join(", ");$(a).on("click","input",function(a){o(this,null,this.value)})}},V=function(){var a=$("#affix-preview-image");a.find(".exterior-svg-container").hide(),a.find(".interior-svg-container").show()},W=function(){var a=$("#affix-preview-image");a.find(".exterior-svg-container").show(),a.find(".interior-svg-container").hide()},X=function(){var a=$("#al_6742").offset().top-62;$("html, body").animate({scrollTop:a},500)};return{init:function(a){c(a)},isValid:function(){return e()},preUpdate:function(){try{a(!0)}catch(a){Logger.log(Log.ERR,a)}},postUpdate:function(a){try{ConfiguratorController.updateAffixImage()}catch(a){Logger.log(Log.ERR,a)}},getPreviewImage:function(){return K()},notAvailable:function(a){},getSelectedTypeValue:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.type]?parseInt(Configurator.configuration["a_"+Product.attribute.type].value):null},changed:function(a,b,c,d){Logger.log(Log.DEBUG,b+" changed! old: "+c+" new: "+d+" calling "+a),this["_"+a](b,parseInt(c),parseInt(d))},customRangeValidation:function(){},handleDimensionResult:function(a){for(var b in a.dimensions.range.min){var c=$('input[rel-axis="'+b+'"]:visible');if(c.length>0){c=c.parent();var d=c.find(".configurator-min-size"),e=c.find(".configurator-max-size"),f=d.attr("data-min").replace(":min",a.dimensions.range.min[b]),g=e.attr("data-max").replace(":max",a.dimensions.range.max[b]),h=c.attr("data-required"),i=c.find("input");d.find("span").html(f),e.find("span").html(g),ConfiguratorController.setRangeValidation(i,a.dimensions.range.min[b],a.dimensions.range.max[b],h,f,g),parseInt(i.val())>0&&i.valid()}}},reRenderSVG:function(){var a=$(".svg-container:visible"),b=a.find("object"),c=b.clone();$(".svg-container:visible > object").remove(),a.append(c)},filterVerriegelung:function(a){F(a)},toggleZoom:function(a){P(a)},toggleAffixImage:function(){b()},triggerCustomJavaScript:function(a,b){S(a,b)},scrollToZAE:function(){X()},_eventTypeChanged:function(a,b,c){n(b,c)},_eventExteriorHandleChanged:function(a,b,c){z(a,b,c)},_eventFingerprintAvailableInExteriorHandleChanged:function(a,b,c){},allSizesSet:function(){return""!==$('.configurator-size-input[rel-axis-type="x"]:visible').val()&&""!==$('.configurator-size-input[rel-axis-type="y"]:visible').val()}}}(),PirnarFrontDoorController=function(){function a(a){Product=a,M(),e(),n(),o(),b(),B()}function b(){$(".sticky-affix").on("sticky_kit:bottom",function(){$(this).parent().addClass("stuck-to-bottom")}).on("sticky_kit:unbottom",function(){$(this).parent().removeClass("stuck-to-bottom"),$(this).parent().css("position","relative")})}function c(){Logger.log(Log.DEBUG,"FrontDoorController isValid()");try{if(Configurator.currentPage>=0&&!1===d())return!1}catch(a){return Logger.log(Log.ERR,"PirnarFrontDoorController isValid(): "+a),!1}return!0}function d(){if(!1===$(".configurator-size-input").valid()){var a=$(".configurator-size-input.error").filter(":first").attr("rel-id");return ConfiguratorController.scrollTo(0,parseInt(a),!1),Logger.log(Log.DEBUG,"PirnarFrontdoorController isValid(): Size invalid or missing"),!1}return!0}function e(){$(".configurator-division:first").before('<div class="configurator-division-placeholder hidden-xs"></div>')}function f(a,b){var c,d,e,f=h(a,b);f?0!==f.full&&0!==f.part?($('.configurator-size-input[rel-axis="'+b+'"]:visible').val(f.full),"x"===b?(c=$('.configurator-size-input[rel-axis="'+b+'1"]:visible'),d=$('.configurator-size-input[rel-axis="'+b+'2"]:visible'),void 0!==c&&c.val(f.part),void 0!==d&&d.val(f.part)):"y"===b&&void 0!==(e=$('.configurator-size-input[rel-axis="'+b+'1"]:visible'))&&e.val(f.part),$('.configurator-size-input[rel-axis-type="'+b+'"]:visible').valid()):p($('.configurator-size-input[rel-axis-type="'+b+'"]:not(.full-dimension-input)')):($('.configurator-size-input[rel-axis="'+b+'"]:visible').val(parseInt(a.val())),$('.configurator-size-input[rel-axis-type="'+b+'"]:visible').valid())}function g(a,b){var c=Math.round(parseInt(a.val())/100*Product.config["sizeCalculationFactor_"+b]),d=Configurator.range[b+"_min"],e=Configurator.range[b+"_max"];return c<d?c=d:c>e&&(c=e),c}function h(a,b){var c=g(a,b),d=$('.configurator-size-input[rel-axis-type="'+b+'"]:not(.full-dimension-input):visible').length,e=0;return d>1&&(0!==parseInt(a.val())&&a.valid()?(d-=1,e=(parseInt(a.val())-c)/d,e%1!=0&&(c-=1,e=(parseInt(a.val())-c)/d),e<Product.config.minDoorPart&&(e=Product.config.minDoorPart,c=parseInt(a.val())-d*Product.config.minDoorPart),{part:e,full:c}):{part:0,full:0})}function i(a,b){var c,d,e,f,h,i,j,k,l=$('.full-dimension-input[rel-axis-type="'+b+'"]:visible'),m=parseInt(l.val()),n=parseInt(a.val()),o=0,p=$('.configurator-size-input:not(.full-dimension-input):visible[rel-axis-type="'+b+'"]').length,q=a.attr("rel-axis");switch(q){case"x1":case"x2":c=g(l,b),p>2?(d="x1"===q?"x2":"x1",e=$('.configurator-size-input:visible[rel-axis="'+d+'"]'),"true"===e.attr("rel-manual")?c=m-n-parseInt(e.val()):(o=m-(n+c),o<Product.config.minDoorPart&&(o=Product.config.minDoorPart,c=m-(n+o)),$('.configurator-size-input[rel-axis="'+d+'"]').val(o))):c=m-n,$('.configurator-size-input[rel-axis="x"]').val(c);break;case"x":o=m-n,p>2?(f=$('.configurator-size-input[rel-axis="x1"]'),o-=parseInt(f.val()),o<Product.config.minDoorPart&&(o=Product.config.minDoorPart,h=m-(o+n),f.val(h)),$('.configurator-size-input[rel-axis="x2"]').val(o)):(i=$('.configurator-size-input[rel-axis-type="'+b+'"]:not([rel-axis="'+b+'"]):not(.full-dimension-input):visible').attr("rel-axis"),$('.configurator-size-input[rel-axis="'+i+'"]').val(o));break;case"y":case"y1":j=m-n,k="y"===a.attr("rel-axis")?"y1":"y",$('.configurator-size-input[rel-axis="'+k+'"]').val(j)}$('.configurator-size-input[rel-axis-type="'+b+'"]').valid()}function j(a,b){$(".configurator-division-preview > span."+a+"Full").html(b)}function k(a,b){l(b,!1)}function l(a,b){var c=$(".configurator-division-preview:visible");void 0!==c&&(q(a,c),r(a)),b||(p($(".configurator-size-input:not(.full-dimension-input)")),m())}function m(){$(".full-dimension-input:not(:visible)").each(function(){if(""!==$(this).val()){var a=$('.full-dimension-input:visible[rel-axis-type="'+$(this).attr("rel-axis-type")+'"]');a.val($(this).val()),a.valid(),$(this).val("")}}),$(".full-dimension-input:visible").each(function(){var a=$(this);""!==a.val()&&f(a,a.attr("rel-axis-type"))}),ConfiguratorController.send()}function n(){l($("#attributePanel_"+Product.attribute.type).find("input:checked").val(),!0),$(".full-dimension-input:visible").each(function(){j($(this).attr("rel-axis-type"),$(this).val())})}function o(){$("#big-preview-image").find("div").hover(function(){$(this).find($(".icon-back-to-selection img")).show()},function(){$(this).find($(".icon-back-to-selection img")).hide()})}function p(a){a.val("").removeClass("valid").removeClass("error").rules("remove"),a.parent().find("label.error").hide()}function q(a,b){var c="measure_"+$("#avi_"+a).attr("rel-src"),d=$("#configurator-row").attr("rel-id");b.find("img").attr("src","/img/division/"+d+"-"+c)}function r(a){if(void 0!==Configurator.parameterMatrix&&void 0!==Configurator.parameterMatrix[a]){var b,c=0,d=$("#configurator-row").attr("rel-id");for(b in Product.config.divisionFieldParams)void 0!==Configurator.parameterMatrix[a][Product.config.divisionFieldParams[b]]&&($(".divisionImage:visible").eq(c).html('<img src="/img/division/'+d+"-"+Configurator.parameterMatrix[a][Product.config.divisionFieldParams[b]]+'">'),c++)}}function s(){t($("#configurator-affix").is(":visible")||$(".configurator-mobile-affix").is(":visible")||$(".sticky-affix").is(":visible")),ConfiguratorController.recalculateAffix()}function t(a){!1!==Configurator.parametersForSVG&&!1!==Configurator.parametersChanged&&(Configurator.currentImageRequest&&4!==Configurator.currentImageRequest.readyState&&(Logger.log(Log.DEBUG,"InothermFrontdoorController generateSvgImage(): abort current request"),Configurator.currentImageRequest.abort(),Configurator.currentImageRequest=null),Configurator.currentImageRequest=$.ajax({type:"POST",url:"/svg/door",data:{params:Configurator.parametersForSVG,productId:Configurator.productId,showPreviewImage:a},dataType:"json",success:function(b){1===b.code&&(a&&b.exterior&&b.interior&&u(b),b.canvas_exterior&&b.canvas_interior&&w(b))},complete:function(){return!0},error:function(a,b,c){"abort"!==b?Logger.log(Log.ERR,"request failed: "+c):Logger.log(Log.DEBUG,"InothermFrontdoorController generateSvgImage(): request aborted error")}}))}function u(a){console.log("getPreviewImage(): showAffixImageContainer"),v($(".exterior-svg-container"),a.exterior),v($(".interior-svg-container"),a.interior),ConfiguratorController.updatePreview('[{"type":"svg","url":"'+a.exterior+'"},{"type":"svg","url":"'+a.interior+'"}]')}function v(a,b,c){var d="";void 0!==c&&(d="width:"+c),b!==a.find("object").attr("data")&&(a.find("object").remove(),a.prepend('<object class="img-responsive" type="image/svg+xml" data="'+b+'" style="'+d+'"></object>'))}function w(a){var b=$("#configurator-row");b.find("#canvas-exterior").remove(),b.append('<canvas width="100px" height="100px" id="canvas-exterior" class="hidden" rel-url="'+a.canvas_exterior+'"></canvas>'),b.find("#canvas-interior").remove(),b.append('<canvas width="100px" height="100px" id="canvas-interior" class="hidden" rel-url="'+a.canvas_interior+'"></canvas>')}function x(a){$(document).off("scroll");var b=62,c=$("#currentPosition"),d=c.val();void 0!==a&&a&&(d=$("#configurator").offset().top-b,c.val($("#configurator-affix-container").offset().top-b)),$("#big-preview-image, #back-to-selection").toggle(),$("#affix-preview-image").toggleClass("hidden"),$("html, body").animate({scrollTop:d},500,"swing",function(){y()})}function y(){$(document).off("scroll").on("scroll",function(){var a=$(window).scrollTop(),b=$("#big-preview-image"),c=$("#configurator").offset().top+4*b.height()/5;b.is(":visible")&&a>c&&($(document).off("scroll"),z())})}function z(){$("#back-to-selection").toggle(),$("#affix-preview-image").toggleClass("hidden");var a=$("#big-preview-image"),b=$(window).scrollTop()-a.height();a.hide(),$("html, body").scrollTop(b)}function A(a,b){var c,d=$(a).attr("rel-value"),e=window.location.href;switch(parseInt(d)){case Product.value.material.alu:updateHelper(a,"a_"+d,b);break;case Product.value.material.pvc:case Product.value.material.wood:updateTiles($(a),$(a).find("input"),!1),e.match(/&mode=2/)||e.match(/&mode=3/)?(c=e.replace(/pirnar-/,""),parseInt(d)===Product.value.material.wood?c=c.replace(/&id=869&/,"&547=2654&id=614&"):parseInt(d)===Product.value.material.pvc&&(c=c.replace(/&id=869&/,"&id=614&")),window.location=c):(e.indexOf("&")>-1&&(e=e.substring(0,e.indexOf("&"))),c=e.replace(/869/,"614"),parseInt(d)===Product.value.material.wood&&(c+="&t=wood"),window.location=c)}}function B(){$("label").on("click",function(){var a=$(this).closest(".panel").parent().attr("rel-id");-1!==jQuery.inArray(parseInt(a),Product.config.interiorImageDisplay)?C():D()})}function C(){var a=$("#affix-preview-image");a.find(".exterior-svg-container").hide(),a.find(".interior-svg-container").show()}function D(){var a=$("#affix-preview-image");a.find(".exterior-svg-container").show(),a.find(".interior-svg-container").hide()}function E(){var a=$("#affix-preview-image");a.find(".exterior-svg-container").toggle(),a.find(".interior-svg-container").toggle()}function F(a){var b,c,d,e,f=!1;if(-1!==$.inArray(a,Product.value.doorBands.covered)){ConfiguratorController.selectValue(Product.value.frameBroadening.yes,!1);for(b in Product.config.coveredDoorBandsFrameBroadening)e=Product.config.coveredDoorBandsFrameBroadening[b],c=$("#av_"+e).closest("label"),d=c.parent(),(0===d.find("label.customer-click").length||c.index()>d.find("label.active").index())&&(f=!0,ConfiguratorController.selectSizePickerValue(e))}else f=G();f&&(ConfiguratorController.dispatchViewDependencies(),ConfiguratorController.update())}function G(){var a,b,c=!1;return b=$('.page > div[rel-id="'+Product.attribute.frameBroadening.main+'"]:not(#attributePanel_'+Product.attribute.frameBroadening.main+'):not([style*="display: none"]) .yes-no-selection input'),ConfiguratorController.selectFirstValidValue(b.attr("rel-orig"),!1),$('div[rel-id="'+Product.attribute.frameBroadening.main+'"]:visible label.active:not(.mock-value):not(.customer-click):visible').each(function(){void 0!==(a=$(this).parent().siblings(".dropdown-container").find('input[rel-no="1"]').val())&&(ConfiguratorController.selectSizePickerValue(a,!0),c=!0)}),!1===$("#al_"+Product.value.frameBroadening.yes).hasClass("customer-click")&&0===$('.page > div[rel-id="'+Product.attribute.frameBroadening.main+'"]:not(#attributePanel_'+Product.attribute.frameBroadening.main+'):not([style*="display: none"]) .configurator-size-picker input[rel-no="0"]').length&&(ConfiguratorController.selectValue(Product.value.frameBroadening.no,!0),c=!0),c}function H(){if(void 0!==Configurator.dimensions){var a=parseInt($("#attributePanel_"+Product.attribute.doorModel+" label.active input").val()),b=parseInt($("#attributePanel_"+Product.attribute.series+" label.active input").val()),c=void 0!==Configurator.dimensions.x?Configurator.dimensions.x:Configurator.dimensions.xFull,d=void 0!==Configurator.dimensions.y?Configurator.dimensions.y:Configurator.dimensions.yFull,e=!1;e=b===Product.value.series.exclusive&&-1!==$.inArray(a,Product.config.modelsWithRC3)&&c>=Product.config.rc3DimensionRangeForDoorLeaf.x.min&&c<=Product.config.rc3DimensionRangeForDoorLeaf.x.max&&d>=Product.config.rc3DimensionRangeForDoorLeaf.y.min&&d<=Product.config.rc3DimensionRangeForDoorLeaf.y.max?ConfiguratorController.enableValue(Product.value.safetyPackage.rc3,!0):ConfiguratorController.disableValue(Product.value.safetyPackage.rc3,!0),e&&ConfiguratorController.selectFirstValidValue(Product.attribute.safetyPackage,!0)}}function I(a){-1!==$.inArray(a,Product.config.outerHandlesWithLUX)?$("#alert_"+Product.attribute.outerHandle+", #alert_"+Product.attribute.outerHandle9613).show():$("#alert_"+Product.attribute.outerHandle+", #alert_"+Product.attribute.outerHandle9613).hide()}function J(a){-1!==$.inArray(a,Product.config.innerHandlesWithLUX)?$("#alert_"+Product.attribute.innerHandle).show():$("#alert_"+Product.attribute.innerHandle).hide()}function K(a){-1!==$.inArray(a,Product.config.weatherboardWithLux)?$("#alert_"+Product.attribute.weatherboard).show():$("#alert_"+Product.attribute.weatherboard).hide()}function L(){var a,b,c,d,e,f,g;$(".starting-price").each(function(){c=0,d=0,e=0,g=null,a=$(this).attr("data-id"),b=$("#al_"+a),g=$("#attributePanel_"+Product.attribute.material+' label.active .value-promotion-banner[rel-max-value="false"]'),null!==g&&void 0!==g&&0!==g.length||(g=b.find('.value-promotion-banner[rel-max-value="false"]')),1===g.length&&(d=parseInt(g.attr("rel-discount"))),void 0!==Configurator.productPromotions&&void 0!==Configurator.productPromotions.complete&&(e+=Configurator.productPromotions.complete.discount),f=parseFloat($(this).attr("data-mp")),Configurator.promotion>0&&(f*=(100-Configurator.promotion)/100),e>0&&(f*=(100-e)/100),$(this).html(parseInt(f))})}var M=function(){$(".full-dimension-input").change(function(){var a=$(this),b=a.attr("rel-axis-type");a.val()>0?a.attr("rel-manual",!0):a.attr("rel-manual",!1),"y"!==b?f(a,b):p($(".configurator-size-input:not('.full-dimension-input'):visible[rel-axis-type=\""+b+'"]')),j(b,a.val()),ConfiguratorController.showSizeInAlert($("#bodeneinstandsprofil-"+b),a.val()),ConfiguratorController.update()}),$(".configurator-size-input").not(".full-dimension-input").change(function(){var a=$(this),b=a.attr("rel-axis-type");if(""===$('.full-dimension-input[rel-axis-type="'+b+'"]:visible').val())return a.val(""),void ConfiguratorController.update();a.val()>0?a.attr("rel-manual",!0):a.attr("rel-manual",!1),i(a,b),ConfiguratorController.update()})};return{init:function(b){a(b)},isValid:function(){return c()},preUpdate:function(){},postUpdate:function(){try{ConfiguratorController.updateAffixImage()}catch(a){Logger.log(Log.ERR,a)}},getPreviewImage:function(){return s()},notAvailable:function(a){},getSelectedTypeValue:function(){return void 0!==Configurator.configuration["a_"+Product.attribute.type]?parseInt(Configurator.configuration["a_"+Product.attribute.type].value):null},changed:function(a,b,c,d){Logger.log(Log.DEBUG,b+" changed! old: "+c+" new: "+d+" calling "+a),this["_"+a](b,parseInt(c),parseInt(d))},customRangeValidation:function(){},reRenderSVG:function(){
var a=$(".svg-container:visible"),b=a.find("object"),c=b.clone();$(".svg-container:visible > object").remove(),a.append(c)},toggleZoom:function(a){x(a)},toggleAffixImage:function(){E()},triggerCustomJavaScript:function(a,b){A(a,b)},_eventTypeChanged:function(a,b,c){k(b,c)},allSizesSet:function(){return""!==$('.configurator-size-input[rel-axis-type="x"]:visible').val()&&""!==$('.configurator-size-input[rel-axis-type="y"]:visible').val()},handleDimensionResult:function(a){var b,c,d,e,f,g,h,i;for(b in a.dimensions.range.min)e=$('input[rel-axis="'+b+'"]').parent(),f=e.find(".configurator-min-size"),g=e.find(".configurator-max-size"),c=f.attr("data-min").replace(":min",a.dimensions.range.min[b]),d=g.attr("data-max").replace(":max",a.dimensions.range.max[b]),h=e.attr("data-required"),f.find("span").html(c),g.find("span").html(d),i=e.find("input"),ConfiguratorController.setRangeValidation(i,a.dimensions.range.min[b],a.dimensions.range.max[b],h,c,d),parseInt(i.val())>0&&i.valid()},_eventDoorBandsChanged:function(a,b,c){F(c)},_eventOuterHandleChanged:function(a,b,c){I(c)},_eventInnerHandleChanged:function(a,b,c){J(c)},_eventWeatherboardChanged:function(a,b,c){K(c)},onPageChange:function(){H()},updateMinimumPriceForPromotion:function(){L()}}}(),OutsideWindowSillController=function(){function a(){for(var a in OutsideWindowSill.value.connectionProfileYes)ConfiguratorController.selectValue(OutsideWindowSill.value.connectionProfileYes[a],!1)}function b(){for(var a in OutsideWindowSill.value.connectionProfileNo)ConfiguratorController.selectValue(OutsideWindowSill.value.connectionProfileNo[a],!0)}var c,d=function(b){c=b,c?Product=OutsideWindowSill:(f(!1),a()),$("#alert_"+OutsideWindowSill.attribute.length).hide(),i(parseInt($("#a_"+OutsideWindowSill.attribute.length).val())),!1===c&&ConfiguratorController.update()},e=function(){Logger.log(Log.DEBUG,"OutsideWindowSillController: clear");var a=$("#a_"+OutsideWindowSill.attribute.length);a.rules("remove"),a.val(""),$("#allowedRangeInfo_"+OutsideWindowSill.attribute.length).html("")},f=function(a){Logger.log(Log.DEBUG,"OutsideWindowSillController: initLengthFromExtension");var b,c,d=$("#a_"+OutsideWindowSill.attribute.length),e=parseInt(Configurator.configuration["a_"+Product.attribute.width].value),f=Math.round(e+e/100*OutsideWindowSill.config.allowedRangeInPercent),g=Math.round(e-e/100*OutsideWindowSill.config.allowedRangeInPercent),h=$("#allowedRangeInfo_"+OutsideWindowSill.attribute.length);d.val(Configurator.configuration["a_"+Product.attribute.width].value),h.html(g+" mm - "+f+" mm"),b=h.attr("data-min").replace(":min",g),c=h.attr("data-max").replace(":max",f),ConfiguratorController.setRangeValidation(d,g,f,Configurator.translator.configuratorLengthRequired,b,c)},g=function(){return!1!==$("#configuratorForm").valid()||(ConfiguratorController.scrollTo(0,OutsideWindowSill.attribute.length,!1),Logger.log(Log.DEBUG,"OutsideWindowSillController isValid(): Size of outsidewindowsill is invalid or missing"),!1)},h=function(){},i=function(a){var b=!1,c=$("#alert_"+OutsideWindowSill.attribute.dimensions),d=$("#alert_"+OutsideWindowSill.attribute.joint);c.hide(),d.hide(),a>=OutsideWindowSill.config.minimumJointStep?(b=ConfiguratorController.disableValue(OutsideWindowSill.value.joint.no),c.show(),a<5e3?($(".length-info-2500").show(),$(".length-info-5000").hide()):($(".length-info-2500").hide(),$(".length-info-5000").show())):(b=ConfiguratorController.enableValue(OutsideWindowSill.value.joint.no),$("#av_"+OutsideWindowSill.value.joint.no).removeAttr("disabled"),a>0&&!0===$("#av_"+OutsideWindowSill.value.joint.yes).prop("checked")&&d.show()),b&&ConfiguratorController.selectFirstValidValue(OutsideWindowSill.attribute.joint,!0)};return{init:function(a){d(a)},terminate:function(){!1===c&&b()},preUpdate:function(){},postUpdate:function(a){},isValid:function(){return g()},getPreviewImage:function(){return h()},notAvailable:function(a){},reset:function(){e(),f(!1)},lengthChanged:function(a){i($("#a_"+OutsideWindowSill.attribute.length).val())}}}(),WindowSillController=function(){var a=function(a){Product=a},b=function(){return!1!==$("#configuratorForm").valid()||(ConfiguratorController.scrollTo(0,WindowSill.attribute.length,!1),Logger.log(Log.DEBUG,"WindowsillController isValid(): Size of windowsill is invalid or missing"),!1)},c=function(){var a=$("#a_"+WindowSill.attribute.length);""!==a.val()&&a.valid()};return{init:function(b){a(b)},isValid:function(){return b()},preUpdate:function(){},postUpdate:function(a){try{c()}catch(a){Logger.log(Log.ERR,a)}},getPreviewImage:function(){return""},notAvailable:function(a){}}}(),CoverStripController=function(){var a=function(a){Product=a},b=function(){return!1!==$("#configuratorForm").valid()||(ConfiguratorController.scrollTo(0,CoverStrip.attribute.length,!1),Logger.log(Log.DEBUG,"CoverStripController isValid(): Length of cover strip is invalid or missing"),!1)},c=function(){};return{init:function(b){a(b)},isValid:function(){return b()},preUpdate:function(){},postUpdate:function(a){},getPreviewImage:function(){return c()},notAvailable:function(a){}}}(),ShadingSystemController=function(){function a(a){Product=a}function b(){return Logger.log(Log.DEBUG,"ShadingSystemController isValid()"),c()}function c(){var a=!0;return $(".configurator-size-input:visible").each(function(){var b=$(this);if(!1===b.valid()||b.hasClass("force-error")){if(a){var c=$(".configurator-size-input.error, .configurator-size-input.force-error").filter(":first").attr("rel-id");ConfiguratorController.scrollToCenter(parseInt(c),0),Logger.log(Log.DEBUG,"ShadingSystemController isValid(): Size invalid or missing")}a=!1}}),a}function d(){var a,b,c=null;for(a in Product.config.previewImage)b=Product.config.previewImage[a],ConfiguratorController.isPanelActive(b)&&(c=$("#attributePanel_"+b).find("label.active img").attr("src"));return null===c?"":'<img src="'+c+'" style="margin-top: 10px">'}function e(a,b){var c;(c=Product.config.maximumSolarQm<a||Product.config.maximumSolarWidth<b?ConfiguratorController.disableValue(Product.value.motor.solar,!0):ConfiguratorController.enableValue(Product.value.motor.solar,!0))&&ConfiguratorController.selectFirstValidValue(Product.attribute.motor,!0)}return{init:function(b){a(b)},isValid:function(){return b()},preUpdate:function(){},postUpdate:function(a){},getPreviewImage:function(){return d()},notAvailable:function(a){return!1},customRangeValidation:function(){return!0},handleDimensionResult:function(a){var b,c,d,f,g,h,i,j=null;if($(".configurator-size-input.force-error").removeClass("force-error"),void 0!==a.dimensions.invalidIdList)for(b in a.dimensions.invalidIdList)c=$("#a_"+a.dimensions.invalidIdList[b]),c.addClass("force-error"),null===j&&(j=c.parent().parent());i=parseFloat(a.dimensions.squareMillimeter/1e6),e(i,a.dimensions.width);for(b in a.dimensions.sorted)d="x"+b,f=a.dimensions.sorted[b].value.x,g="y"+b,h=a.dimensions.sorted[b].value.y,a.dimensions.width>Product.config.maximumWidth&&(c=$("input#a_"+a.dimensions.sorted[b].id.x+", input#a_"+a.dimensions.sorted[b].id.y),c.addClass("force-error"),null===j&&(j=c.parent().parent())),$("span.replace-"+d).html(f),$("span.replace-"+g).html(h);$("#size-error-message").remove(),(a.dimensions.width>Product.config.maximumWidth||!1===a.isAvailable&&null!==j)&&j.prepend('<div id="size-error-message">'+Configurator.translator.configuratorProductNotAvailable+"</div>")}}}(),DefaultController=function(){var a=function(a){Product=a},b=function(){return!0},c=function(){};return{init:function(b){a(b)},isValid:function(){return b()},preUpdate:function(){},postUpdate:function(a){},getPreviewImage:function(){return c()},notAvailable:function(a){}}}();